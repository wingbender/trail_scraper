function W(){function aa(e,g,l){var q=!1;l();if(e&&g)m=e,k=g;else{var p=Array(37);var k=function(c){return p[c]},m=function(c,b,a){b=a(k);p[c]=b};q=!0}m(0,0,function(){var c={gx:21,Dr:0,vI:8,Rh:100,Tl:256,CS:1,pM:8192/8191,jM:15,kr:250,Fm:125,Cn:150,Ls:150,ZG:300,$G:300,Ag:.01,Ov:[.973,.957,.926,1],Df:10,QJ:100,Eq:[.59375,.58984375,.57421875,1],Dq:[.973,.957,.926,1],BH:[.8359375,.8359375,.8359375,1],Pv:[.25,.25,.25,1],dJ:100,di:128,bJ:1,oq:.5,wr:8192,SJ:16384,hR:32768,qK:1.75,Rx:[256,256],kK:16,Rv:1,
Qv:1,Fq:"",Cq:"",Gq:"",DH:"standard",Hg:"light",Gg:"standard",xy:.01,gH:1,AH:2147483648,Lw:"__invisible-collision-id__",Qx:"__arrow-collision-id__",OK:"__arrow__",PK:"RAS",uR:15,oR:180,nK:10,CK:35,bx:"_",Rm:50,Pm:640,Cr:2,yr:21,Br:1,xr:20,Om:1E3,yy:[1,3],zy:[1,3],Cd:256};c.zr=c.Cd<<1;c.Jm=1;c.Mm=1-Math.log(c.Cd/c.Tl)/Math.log(2);c.Fx=c.Cd/c.Tl;c.baseTileSize=c.Tl;return c});(function(c,b){m(1,[],b)})(this,function(){return function(c){function b(d){if(a[d])return a[d].ed;var h=a[d]={ed:{},id:d,loaded:!1};
c[d].call(h.ed,h,h.ed,b);h.loaded=!0;return h.ed}var a={};b.fR=c;b.kO=a;b.p="";return b(0)}([function(c,b,a){b.XQ=a(1);b.tr=a(2);b.cx=a(3);b.ur=a(4);b.P=a(5);b.en=a(6);b.g=a(9);b.Da=a(7);b.I=a(8)},function(c){var b={EPSILON:1E-6};b.fb=Array;b.mg=Math.random;b.yR=function(a){b.fb=a};var a=Math.PI/180;b.Cy=function(b){return b*a};b.Qd=function(a,h){return Math.abs(a-h)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))};c.ed=b},function(c,b,a){var d=a(1);b={create:function(){var a=new d.fb(4);a[0]=1;a[1]=
0;a[2]=0;a[3]=1;return a},clone:function(a){var f=new d.fb(4);f[0]=a[0];f[1]=a[1];f[2]=a[2];f[3]=a[3];return f},ue:function(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];return a},Gf:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},j:function(a,f,b,t){var n=new d.fb(4);n[0]=a;n[1]=f;n[2]=b;n[3]=t;return n},set:function(a,f,b,d,c){a[0]=f;a[1]=b;a[2]=d;a[3]=c;return a},Ey:function(a,f){if(a===f){var b=f[1];a[1]=f[2];a[2]=b}else a[0]=f[0],a[1]=f[2],a[2]=f[1],a[3]=f[3];return a},If:function(a,f){var b=
f[0],d=f[1],h=f[2];f=f[3];var c=b*f-h*d;if(!c)return null;c=1/c;a[0]=f*c;a[1]=-d*c;a[2]=-h*c;a[3]=b*c;return a},tv:function(a,f){var b=f[0];a[0]=f[3];a[1]=-f[1];a[2]=-f[2];a[3]=b;return a},Hq:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:function(a,f,b){var n=f[0],d=f[1],h=f[2];f=f[3];var c=b[0],e=b[1],k=b[2];b=b[3];a[0]=n*c+h*e;a[1]=d*c+f*e;a[2]=n*k+h*b;a[3]=d*k+f*b;return a}};b.Pg=b.multiply;b.rotate=function(a,f,b){var n=f[0],d=f[1],h=f[2];f=f[3];var c=Math.sin(b);b=Math.cos(b);a[0]=n*b+h*c;
a[1]=d*b+f*c;a[2]=n*-c+h*b;a[3]=d*-c+f*b;return a};b.scale=function(a,f,b){var n=f[1],d=f[2],h=f[3],c=b[0];b=b[1];a[0]=f[0]*c;a[1]=n*c;a[2]=d*b;a[3]=h*b;return a};b.Rq=function(a,f){var b=Math.sin(f);f=Math.cos(f);a[0]=f;a[1]=b;a[2]=-b;a[3]=f;return a};b.Sq=function(a,f){a[0]=f[0];a[1]=0;a[2]=0;a[3]=f[1];return a};b.$g=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};b.Qq=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};b.lN=function(a,
f,b,d){a[2]=d[2]/d[0];b[0]=d[0];b[1]=d[1];b[3]=d[3]-a[2]*b[1];return[a,f,b]};b.add=function(a,f,b){a[0]=f[0]+b[0];a[1]=f[1]+b[1];a[2]=f[2]+b[2];a[3]=f[3]+b[3];return a};b.Cc=function(a,f,b){a[0]=f[0]-b[0];a[1]=f[1]-b[1];a[2]=f[2]-b[2];a[3]=f[3]-b[3];return a};b.sub=b.Cc;b.yc=function(a,f){return a[0]===f[0]&&a[1]===f[1]&&a[2]===f[2]&&a[3]===f[3]};b.Qd=function(a,f){var b=a[0],h=a[1],c=a[2];a=a[3];var v=f[0],e=f[1],z=f[2];f=f[3];return Math.abs(b-v)<=d.EPSILON*Math.max(1,Math.abs(b),Math.abs(v))&&
Math.abs(h-e)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(e))&&Math.abs(c-z)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(z))&&Math.abs(a-f)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))};b.Er=function(a,f,b){a[0]=f[0]*b;a[1]=f[1]*b;a[2]=f[2]*b;a[3]=f[3]*b;return a};b.Fr=function(a,f,b,d){a[0]=f[0]+b[0]*d;a[1]=f[1]+b[1]*d;a[2]=f[2]+b[2]*d;a[3]=f[3]+b[3]*d;return a};c.ed=b},function(c,b,a){var d=a(1);b={create:function(){var a=new d.fb(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},clone:function(a){var f=
new d.fb(6);f[0]=a[0];f[1]=a[1];f[2]=a[2];f[3]=a[3];f[4]=a[4];f[5]=a[5];return f},ue:function(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];return a},Gf:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},j:function(a,f,b,t,c,v){var n=new d.fb(6);n[0]=a;n[1]=f;n[2]=b;n[3]=t;n[4]=c;n[5]=v;return n},set:function(a,f,b,d,c,v,e){a[0]=f;a[1]=b;a[2]=d;a[3]=c;a[4]=v;a[5]=e;return a},If:function(a,f){var b=f[0],d=f[1],h=f[2],c=f[3],e=f[4];f=f[5];var z=b*c-d*h;if(!z)return null;
z=1/z;a[0]=c*z;a[1]=-d*z;a[2]=-h*z;a[3]=b*z;a[4]=(h*f-c*e)*z;a[5]=(d*e-b*f)*z;return a},Hq:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:function(a,f,b){var n=f[0],d=f[1],h=f[2],c=f[3],e=f[4];f=f[5];var k=b[0],m=b[1],g=b[2],x=b[3],p=b[4];b=b[5];a[0]=n*k+h*m;a[1]=d*k+c*m;a[2]=n*g+h*x;a[3]=d*g+c*x;a[4]=n*p+h*b+e;a[5]=d*p+c*b+f;return a}};b.Pg=b.multiply;b.rotate=function(a,f,b){var d=f[0],n=f[1],h=f[2],c=f[3],e=f[4];f=f[5];var k=Math.sin(b);b=Math.cos(b);a[0]=d*b+h*k;a[1]=n*b+c*k;a[2]=d*-k+h*b;a[3]=
n*-k+c*b;a[4]=e;a[5]=f;return a};b.scale=function(a,f,b){var d=f[1],n=f[2],h=f[3],c=f[4],e=f[5],k=b[0];b=b[1];a[0]=f[0]*k;a[1]=d*k;a[2]=n*b;a[3]=h*b;a[4]=c;a[5]=e;return a};b.translate=function(a,f,b){var d=f[0],n=f[1],h=f[2],c=f[3],e=f[4];f=f[5];var k=b[0];b=b[1];a[0]=d;a[1]=n;a[2]=h;a[3]=c;a[4]=d*k+h*b+e;a[5]=n*k+c*b+f;return a};b.Rq=function(a,f){var b=Math.sin(f);f=Math.cos(f);a[0]=f;a[1]=b;a[2]=-b;a[3]=f;a[4]=0;a[5]=0;return a};b.Sq=function(a,f){a[0]=f[0];a[1]=0;a[2]=0;a[3]=f[1];a[4]=0;a[5]=
0;return a};b.lw=function(a,f){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=f[0];a[5]=f[1];return a};b.$g=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};b.Qq=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};b.add=function(a,f,b){a[0]=f[0]+b[0];a[1]=f[1]+b[1];a[2]=f[2]+b[2];a[3]=f[3]+b[3];a[4]=f[4]+b[4];a[5]=f[5]+b[5];return a};b.Cc=function(a,f,b){a[0]=f[0]-b[0];a[1]=f[1]-b[1];a[2]=f[2]-
b[2];a[3]=f[3]-b[3];a[4]=f[4]-b[4];a[5]=f[5]-b[5];return a};b.sub=b.Cc;b.Er=function(a,f,b){a[0]=f[0]*b;a[1]=f[1]*b;a[2]=f[2]*b;a[3]=f[3]*b;a[4]=f[4]*b;a[5]=f[5]*b;return a};b.Fr=function(a,f,b,d){a[0]=f[0]+b[0]*d;a[1]=f[1]+b[1]*d;a[2]=f[2]+b[2]*d;a[3]=f[3]+b[3]*d;a[4]=f[4]+b[4]*d;a[5]=f[5]+b[5]*d;return a};b.yc=function(a,f){return a[0]===f[0]&&a[1]===f[1]&&a[2]===f[2]&&a[3]===f[3]&&a[4]===f[4]&&a[5]===f[5]};b.Qd=function(a,f){var b=a[0],h=a[1],c=a[2],e=a[3],F=a[4];a=a[5];var z=f[0],k=f[1],m=f[2],
g=f[3],x=f[4];f=f[5];return Math.abs(b-z)<=d.EPSILON*Math.max(1,Math.abs(b),Math.abs(z))&&Math.abs(h-k)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(c-m)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(e-g)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(F-x)<=d.EPSILON*Math.max(1,Math.abs(F),Math.abs(x))&&Math.abs(a-f)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))};c.ed=b},function(c,b,a){var d=a(1);b={create:function(){var a=new d.fb(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;
a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},eQ:function(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[4];a[4]=f[5];a[5]=f[6];a[6]=f[8];a[7]=f[9];a[8]=f[10];return a},clone:function(a){var f=new d.fb(9);f[0]=a[0];f[1]=a[1];f[2]=a[2];f[3]=a[3];f[4]=a[4];f[5]=a[5];f[6]=a[6];f[7]=a[7];f[8]=a[8];return f},ue:function(a,f){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];a[6]=f[6];a[7]=f[7];a[8]=f[8];return a},j:function(a,f,b,c,e,v,F,z,k){var n=new d.fb(9);n[0]=a;n[1]=f;n[2]=b;n[3]=c;n[4]=e;n[5]=
v;n[6]=F;n[7]=z;n[8]=k;return n},set:function(a,f,b,d,c,e,F,z,k,m){a[0]=f;a[1]=b;a[2]=d;a[3]=c;a[4]=e;a[5]=F;a[6]=z;a[7]=k;a[8]=m;return a},Gf:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},Ey:function(a,f){if(a===f){var b=f[1],d=f[2],h=f[5];a[1]=f[3];a[2]=f[6];a[3]=b;a[5]=f[7];a[6]=d;a[7]=h}else a[0]=f[0],a[1]=f[3],a[2]=f[6],a[3]=f[1],a[4]=f[4],a[5]=f[7],a[6]=f[2],a[7]=f[5],a[8]=f[8];return a},If:function(a,f){var b=f[0],d=f[1],h=f[2],c=f[3],e=f[4],z=f[5],k=
f[6],m=f[7];f=f[8];var g=f*e-z*m,x=-f*c+z*k,p=m*c-e*k,q=b*g+d*x+h*p;if(!q)return null;q=1/q;a[0]=g*q;a[1]=(-f*d+h*m)*q;a[2]=(z*d-h*e)*q;a[3]=x*q;a[4]=(f*b-h*k)*q;a[5]=(-z*b+h*c)*q;a[6]=p*q;a[7]=(-m*b+d*k)*q;a[8]=(e*b-d*c)*q;return a},tv:function(a,f){var b=f[0],d=f[1],h=f[2],c=f[3],e=f[4],z=f[5],k=f[6],m=f[7];f=f[8];a[0]=e*f-z*m;a[1]=h*m-d*f;a[2]=d*z-h*e;a[3]=z*k-c*f;a[4]=b*f-h*k;a[5]=h*c-b*z;a[6]=c*m-e*k;a[7]=d*k-b*m;a[8]=b*e-d*c;return a},Hq:function(a){var f=a[3],b=a[4],d=a[5],h=a[6],c=a[7],e=
a[8];return a[0]*(e*b-d*c)+a[1]*(-e*f+d*h)+a[2]*(c*f-b*h)},multiply:function(a,f,b){var d=f[0],n=f[1],h=f[2],c=f[3],e=f[4],k=f[5],m=f[6],g=f[7];f=f[8];var x=b[0],p=b[1],q=b[2],l=b[3],r=b[4],w=b[5],u=b[6],y=b[7];b=b[8];a[0]=x*d+p*c+q*m;a[1]=x*n+p*e+q*g;a[2]=x*h+p*k+q*f;a[3]=l*d+r*c+w*m;a[4]=l*n+r*e+w*g;a[5]=l*h+r*k+w*f;a[6]=u*d+y*c+b*m;a[7]=u*n+y*e+b*g;a[8]=u*h+y*k+b*f;return a}};b.Pg=b.multiply;b.translate=function(a,b,d){var f=b[0],n=b[1],h=b[2],c=b[3],e=b[4],k=b[5],m=b[6],g=b[7];b=b[8];var x=d[0];
d=d[1];a[0]=f;a[1]=n;a[2]=h;a[3]=c;a[4]=e;a[5]=k;a[6]=x*f+d*c+m;a[7]=x*n+d*e+g;a[8]=x*h+d*k+b;return a};b.rotate=function(a,b,d){var f=b[0],n=b[1],h=b[2],c=b[3],e=b[4],k=b[5],m=b[6],g=b[7];b=b[8];var x=Math.sin(d);d=Math.cos(d);a[0]=d*f+x*c;a[1]=d*n+x*e;a[2]=d*h+x*k;a[3]=d*c-x*f;a[4]=d*e-x*n;a[5]=d*k-x*h;a[6]=m;a[7]=g;a[8]=b;return a};b.scale=function(a,b,d){var f=d[0];d=d[1];a[0]=f*b[0];a[1]=f*b[1];a[2]=f*b[2];a[3]=d*b[3];a[4]=d*b[4];a[5]=d*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};b.lw=function(a,
b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};b.Rq=function(a,b){var f=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=f;a[2]=0;a[3]=-f;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.Sq=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};b.dQ=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};b.EI=function(a,b){var f=b[0],d=b[1],h=b[2];b=b[3];var c=f+f,e=d+d,z=h+h;f*=c;var k=d*
c;d*=e;var m=h*c,g=h*e;h*=z;c*=b;e*=b;b*=z;a[0]=1-d-h;a[3]=k-b;a[6]=m+e;a[1]=k+b;a[4]=1-f-h;a[7]=g-c;a[2]=m-e;a[5]=g+c;a[8]=1-f-d;return a};b.jR=function(a,b){var f=b[0],d=b[1],h=b[2],c=b[3],e=b[4],z=b[5],k=b[6],m=b[7],g=b[8],x=b[9],p=b[10],q=b[11],l=b[12],r=b[13],w=b[14];b=b[15];var u=f*z-d*e,y=f*k-h*e,C=f*m-c*e,B=d*k-h*z,D=d*m-c*z,E=h*m-c*k,N=g*r-x*l,M=g*w-p*l;g=g*b-q*l;var J=x*w-p*r;x=x*b-q*r;p=p*b-q*w;q=u*p-y*x+C*J+B*g-D*M+E*N;if(!q)return null;q=1/q;a[0]=(z*p-k*x+m*J)*q;a[1]=(k*g-e*p-m*M)*q;
a[2]=(e*x-z*g+m*N)*q;a[3]=(h*x-d*p-c*J)*q;a[4]=(f*p-h*g+c*M)*q;a[5]=(d*g-f*x-c*N)*q;a[6]=(r*E-w*D+b*B)*q;a[7]=(w*C-l*E-b*y)*q;a[8]=(l*D-r*C+b*u)*q;return a};b.$g=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};b.Qq=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};b.add=function(a,b,d){a[0]=b[0]+d[0];
a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+d[6];a[7]=b[7]+d[7];a[8]=b[8]+d[8];return a};b.Cc=function(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];a[6]=b[6]-d[6];a[7]=b[7]-d[7];a[8]=b[8]-d[8];return a};b.sub=b.Cc;b.Er=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*d;return a};b.Fr=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*
c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;a[4]=b[4]+d[4]*c;a[5]=b[5]+d[5]*c;a[6]=b[6]+d[6]*c;a[7]=b[7]+d[7]*c;a[8]=b[8]+d[8]*c;return a};b.yc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]};b.Qd=function(a,b){var f=a[0],h=a[1],c=a[2],e=a[3],F=a[4],z=a[5],k=a[6],m=a[7],g=a[8],x=b[0],p=b[1],q=b[2],l=b[3],r=b[4],w=b[5];a=a[6];var u=b[7];b=b[8];return Math.abs(f-x)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(h-
p)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(c-q)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(q))&&Math.abs(e-l)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(F-r)<=d.EPSILON*Math.max(1,Math.abs(F),Math.abs(r))&&Math.abs(z-w)<=d.EPSILON*Math.max(1,Math.abs(z),Math.abs(w))&&Math.abs(k-a)<=d.EPSILON*Math.max(1,Math.abs(k),Math.abs(a))&&Math.abs(m-u)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(u))&&Math.abs(g-b)<=d.EPSILON*Math.max(1,Math.abs(g),Math.abs(b))};c.ed=b},function(c,
b,a){var d=a(1),h={wR:{},create:function(){var a=new d.fb(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},clone:function(a){var b=new d.fb(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},ue:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=
b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},j:function(a,b,h,c,e,F,z,k,m,g,x,p,q,l,r,w){var f=new d.fb(16);f[0]=a;f[1]=b;f[2]=h;f[3]=c;f[4]=e;f[5]=F;f[6]=z;f[7]=k;f[8]=m;f[9]=g;f[10]=x;f[11]=p;f[12]=q;f[13]=l;f[14]=r;f[15]=w;return f},set:function(a,b,d,h,c,e,z,k,m,g,x,p,q,l,r,w,u){a[0]=b;a[1]=d;a[2]=h;a[3]=c;a[4]=e;a[5]=z;a[6]=k;a[7]=m;a[8]=g;a[9]=x;a[10]=p;a[11]=q;a[12]=l;a[13]=r;a[14]=w;a[15]=u;return a},Gf:function(a){a[0]=1;a[1]=
0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},Ey:function(a,b){if(a===b){var f=b[1],d=b[2],n=b[3],h=b[6],c=b[7],e=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=f;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=h;a[11]=b[14];a[12]=n;a[13]=c;a[14]=e}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},If:function(a,b){var f=
b[0],d=b[1],n=b[2],h=b[3],c=b[4],e=b[5],k=b[6],m=b[7],x=b[8],g=b[9],p=b[10],q=b[11],l=b[12],r=b[13],u=b[14];b=b[15];var y=f*e-d*c,C=f*k-n*c,B=f*m-h*c,D=d*k-n*e,E=d*m-h*e,N=n*m-h*k,M=x*r-g*l,J=x*u-p*l,P=x*b-q*l,Q=g*u-p*r,T=g*b-q*r,U=p*b-q*u,K=y*U-C*T+B*Q+D*P-E*J+N*M;if(!K)return null;K=1/K;a[0]=(e*U-k*T+m*Q)*K;a[1]=(n*T-d*U-h*Q)*K;a[2]=(r*N-u*E+b*D)*K;a[3]=(p*E-g*N-q*D)*K;a[4]=(k*P-c*U-m*J)*K;a[5]=(f*U-n*P+h*J)*K;a[6]=(u*B-l*N-b*C)*K;a[7]=(x*N-p*B+q*C)*K;a[8]=(c*T-e*P+m*M)*K;a[9]=(d*P-f*T-h*M)*K;a[10]=
(l*E-r*B+b*y)*K;a[11]=(g*B-x*E-q*y)*K;a[12]=(e*J-c*Q-k*M)*K;a[13]=(f*Q-d*J+n*M)*K;a[14]=(r*C-l*D-u*y)*K;a[15]=(x*D-g*C+p*y)*K;return a},tv:function(a,b){var f=b[0],d=b[1],n=b[2],h=b[3],c=b[4],e=b[5],k=b[6],m=b[7],g=b[8],p=b[9],q=b[10],l=b[11],r=b[12],w=b[13],u=b[14];b=b[15];a[0]=e*(q*b-l*u)-p*(k*b-m*u)+w*(k*l-m*q);a[1]=-(d*(q*b-l*u)-p*(n*b-h*u)+w*(n*l-h*q));a[2]=d*(k*b-m*u)-e*(n*b-h*u)+w*(n*m-h*k);a[3]=-(d*(k*l-m*q)-e*(n*l-h*q)+p*(n*m-h*k));a[4]=-(c*(q*b-l*u)-g*(k*b-m*u)+r*(k*l-m*q));a[5]=f*(q*b-
l*u)-g*(n*b-h*u)+r*(n*l-h*q);a[6]=-(f*(k*b-m*u)-c*(n*b-h*u)+r*(n*m-h*k));a[7]=f*(k*l-m*q)-c*(n*l-h*q)+g*(n*m-h*k);a[8]=c*(p*b-l*w)-g*(e*b-m*w)+r*(e*l-m*p);a[9]=-(f*(p*b-l*w)-g*(d*b-h*w)+r*(d*l-h*p));a[10]=f*(e*b-m*w)-c*(d*b-h*w)+r*(d*m-h*e);a[11]=-(f*(e*l-m*p)-c*(d*l-h*p)+g*(d*m-h*e));a[12]=-(c*(p*u-q*w)-g*(e*u-k*w)+r*(e*q-k*p));a[13]=f*(p*u-q*w)-g*(d*u-n*w)+r*(d*q-n*p);a[14]=-(f*(e*u-k*w)-c*(d*u-n*w)+r*(d*k-n*e));a[15]=f*(e*q-k*p)-c*(d*q-n*p)+g*(d*k-n*e);return a},Hq:function(a){var b=a[0],f=a[1],
d=a[2],h=a[3],c=a[4],e=a[5],k=a[6],m=a[7],g=a[8],x=a[9],p=a[10],q=a[11],l=a[12],r=a[13],w=a[14];a=a[15];return(b*e-f*c)*(p*a-q*w)-(b*k-d*c)*(x*a-q*r)+(b*m-h*c)*(x*w-p*r)+(f*k-d*e)*(g*a-q*l)-(f*m-h*e)*(g*w-p*l)+(d*m-h*k)*(g*r-x*l)},multiply:function(a,b,d){var f=b[0],n=b[1],h=b[2],c=b[3],t=b[4],e=b[5],k=b[6],m=b[7],g=b[8],p=b[9],q=b[10],l=b[11],r=b[12],u=b[13],y=b[14];b=b[15];var C=d[0],B=d[1],D=d[2],E=d[3];a[0]=C*f+B*t+D*g+E*r;a[1]=C*n+B*e+D*p+E*u;a[2]=C*h+B*k+D*q+E*y;a[3]=C*c+B*m+D*l+E*b;C=d[4];
B=d[5];D=d[6];E=d[7];a[4]=C*f+B*t+D*g+E*r;a[5]=C*n+B*e+D*p+E*u;a[6]=C*h+B*k+D*q+E*y;a[7]=C*c+B*m+D*l+E*b;C=d[8];B=d[9];D=d[10];E=d[11];a[8]=C*f+B*t+D*g+E*r;a[9]=C*n+B*e+D*p+E*u;a[10]=C*h+B*k+D*q+E*y;a[11]=C*c+B*m+D*l+E*b;C=d[12];B=d[13];D=d[14];E=d[15];a[12]=C*f+B*t+D*g+E*r;a[13]=C*n+B*e+D*p+E*u;a[14]=C*h+B*k+D*q+E*y;a[15]=C*c+B*m+D*l+E*b;return a}};h.Pg=h.multiply;h.translate=function(a,b,d){var f=d[0],n=d[1];d=d[2];if(b===a)a[12]=b[0]*f+b[4]*n+b[8]*d+b[12],a[13]=b[1]*f+b[5]*n+b[9]*d+b[13],a[14]=
b[2]*f+b[6]*n+b[10]*d+b[14],a[15]=b[3]*f+b[7]*n+b[11]*d+b[15];else{var h=b[0];var c=b[1];var t=b[2];var e=b[3];var k=b[4];var m=b[5];var g=b[6];var p=b[7];var q=b[8];var l=b[9];var r=b[10];var u=b[11];a[0]=h;a[1]=c;a[2]=t;a[3]=e;a[4]=k;a[5]=m;a[6]=g;a[7]=p;a[8]=q;a[9]=l;a[10]=r;a[11]=u;a[12]=h*f+k*n+q*d+b[12];a[13]=c*f+m*n+l*d+b[13];a[14]=t*f+g*n+r*d+b[14];a[15]=e*f+p*n+u*d+b[15]}return a};h.scale=function(a,b,d){var f=d[0],n=d[1];d=d[2];a[0]=b[0]*f;a[1]=b[1]*f;a[2]=b[2]*f;a[3]=b[3]*f;a[4]=b[4]*n;
a[5]=b[5]*n;a[6]=b[6]*n;a[7]=b[7]*n;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};h.rotate=function(a,b,h,c){var f=c[0],n=c[1];c=c[2];var t=Math.sqrt(f*f+n*n+c*c);if(Math.abs(t)<d.EPSILON)return null;t=1/t;f*=t;n*=t;c*=t;var e=Math.sin(h);var A=Math.cos(h);var k=1-A;h=b[0];t=b[1];var m=b[2];var g=b[3];var p=b[4];var q=b[5];var l=b[6];var r=b[7];var u=b[8];var y=b[9];var C=b[10];var B=b[11];var D=f*f*k+A;var E=n*f*k+c*e;var N=c*f*k-n*
e;var M=f*n*k-c*e;var J=n*n*k+A;var P=c*n*k+f*e;var Q=f*c*k+n*e;f=n*c*k-f*e;n=c*c*k+A;a[0]=h*D+p*E+u*N;a[1]=t*D+q*E+y*N;a[2]=m*D+l*E+C*N;a[3]=g*D+r*E+B*N;a[4]=h*M+p*J+u*P;a[5]=t*M+q*J+y*P;a[6]=m*M+l*J+C*P;a[7]=g*M+r*J+B*P;a[8]=h*Q+p*f+u*n;a[9]=t*Q+q*f+y*n;a[10]=m*Q+l*f+C*n;a[11]=g*Q+r*f+B*n;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};h.es=function(a,b,d){var f=Math.sin(d);d=Math.cos(d);var n=b[4],h=b[5],c=b[6],t=b[7],e=b[8],k=b[9],m=b[10],g=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],
a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=n*d+e*f;a[5]=h*d+k*f;a[6]=c*d+m*f;a[7]=t*d+g*f;a[8]=e*d-n*f;a[9]=k*d-h*f;a[10]=m*d-c*f;a[11]=g*d-t*f};h.Sx=function(a,b,d){var f=Math.sin(d);d=Math.cos(d);var n=b[0],h=b[1],c=b[2],t=b[3],e=b[8],k=b[9],m=b[10],g=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=n*d-e*f;a[1]=h*d-k*f;a[2]=c*d-m*f;a[3]=t*d-g*f;a[8]=n*f+e*d;a[9]=h*f+k*d;a[10]=c*f+m*d;a[11]=t*f+g*d;return a};
h.fs=function(a,b,d){var f=Math.sin(d);d=Math.cos(d);var n=b[0],h=b[1],c=b[2],t=b[3],e=b[4],k=b[5],m=b[6],g=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=n*d+e*f;a[1]=h*d+k*f;a[2]=c*d+m*f;a[3]=t*d+g*f;a[4]=e*d-n*f;a[5]=k*d-h*f;a[6]=m*d-c*f;a[7]=g*d-t*f};h.lw=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};h.Sq=function(a,b){a[0]=b[0];
a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};h.Rq=function(a,b,h){var f=h[0],n=h[1];h=h[2];var c=Math.sqrt(f*f+n*n+h*h);if(Math.abs(c)<d.EPSILON)return null;c=1/c;f*=c;n*=c;h*=c;c=Math.sin(b);b=Math.cos(b);var t=1-b;a[0]=f*f*t+b;a[1]=n*f*t+h*c;a[2]=h*f*t-n*c;a[3]=0;a[4]=f*n*t-h*c;a[5]=n*n*t+b;a[6]=h*n*t+f*c;a[7]=0;a[8]=f*h*t+n*c;a[9]=n*h*t-f*c;a[10]=h*h*t+b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};h.iQ=function(a,
b){var d=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};h.jQ=function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};h.kQ=function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=
0;a[15]=1;return a};h.fQ=function(a,b,d){var f=b[0],n=b[1],h=b[2],c=b[3],t=f+f,e=n+n,k=h+h;b=f*t;var m=f*e;f*=k;var g=n*e;n*=k;h*=k;t*=c;e*=c;c*=k;a[0]=1-(g+h);a[1]=m+c;a[2]=f-e;a[3]=0;a[4]=m-c;a[5]=1-(b+h);a[6]=n+t;a[7]=0;a[8]=f+e;a[9]=n-t;a[10]=1-(b+g);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};h.VQ=function(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a};h.UQ=function(a,b){var d=b[0]+b[5]+b[10];0<d?(d=2*Math.sqrt(d+1),a[3]=.25*d,a[0]=(b[6]-b[9])/d,a[1]=(b[8]-b[2])/d,a[2]=(b[1]-
b[4])/d):b[0]>b[5]&b[0]>b[10]?(d=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/d,a[0]=.25*d,a[1]=(b[1]+b[4])/d,a[2]=(b[8]+b[2])/d):b[5]>b[10]?(d=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/d,a[0]=(b[1]+b[4])/d,a[1]=.25*d,a[2]=(b[6]+b[9])/d):(d=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/d,a[0]=(b[8]+b[2])/d,a[1]=(b[6]+b[9])/d,a[2]=.25*d);return a};h.gQ=function(a,b,d,h){var f=b[0],n=b[1],c=b[2],t=b[3],e=f+f,A=n+n,k=c+c;b=f*e;var m=f*A;f*=k;var g=n*A;n*=k;c*=k;e*=t;A*=t;t*=k;k=h[0];var p=
h[1];h=h[2];a[0]=(1-(g+c))*k;a[1]=(m+t)*k;a[2]=(f-A)*k;a[3]=0;a[4]=(m-t)*p;a[5]=(1-(b+c))*p;a[6]=(n+e)*p;a[7]=0;a[8]=(f+A)*h;a[9]=(n-e)*h;a[10]=(1-(b+g))*h;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};h.hQ=function(a,b,d,h,c){var f=b[0],n=b[1],t=b[2],e=b[3],v=f+f,A=n+n,k=t+t;b=f*v;var m=f*A;f*=k;var g=n*A;n*=k;t*=k;v*=e;A*=e;e*=k;k=h[0];var p=h[1];h=h[2];var q=c[0],l=c[1];c=c[2];a[0]=(1-(g+t))*k;a[1]=(m+e)*k;a[2]=(f-A)*k;a[3]=0;a[4]=(m-e)*p;a[5]=(1-(b+t))*p;a[6]=(n+v)*p;a[7]=0;a[8]=
(f+A)*h;a[9]=(n-v)*h;a[10]=(1-(b+g))*h;a[11]=0;a[12]=d[0]+q-(a[0]*q+a[4]*l+a[8]*c);a[13]=d[1]+l-(a[1]*q+a[5]*l+a[9]*c);a[14]=d[2]+c-(a[2]*q+a[6]*l+a[10]*c);a[15]=1;return a};h.EI=function(a,b){var d=b[0],f=b[1],n=b[2];b=b[3];var h=d+d,c=f+f,e=n+n;d*=h;var k=f*h;f*=c;var m=n*h,g=n*c;n*=e;h*=b;c*=b;b*=e;a[0]=1-f-n;a[1]=k+b;a[2]=m-c;a[3]=0;a[4]=k-b;a[5]=1-d-n;a[6]=g+h;a[7]=0;a[8]=m+c;a[9]=g-h;a[10]=1-d-f;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};h.GI=function(a,b,d,h,c,e,k){var f=1/(d-b),n=1/
(c-h),t=1/(e-k);a[0]=2*e*f;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*e*n;a[6]=0;a[7]=0;a[8]=(d+b)*f;a[9]=(c+h)*n;a[10]=(k+e)*t;a[11]=-1;a[12]=0;a[13]=0;a[14]=k*e*2*t;a[15]=0;return a};h.perspective=function(a,b,d,h,c){b=1/Math.tan(b/2);var f=1/(h-c);a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(c+h)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*c*h*f;a[15]=0;return a};h.nR=function(a,b,d,h){var f=Math.tan(b.zS*Math.PI/180),n=Math.tan(b.bQ*Math.PI/180),c=Math.tan(b.cR*Math.PI/180);b=
Math.tan(b.tR*Math.PI/180);var t=2/(c+b),e=2/(f+n);a[0]=t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=e;a[6]=0;a[7]=0;a[8]=-((c-b)*t*.5);a[9]=(f-n)*e*.5;a[10]=h/(d-h);a[11]=-1;a[12]=0;a[13]=0;a[14]=h*d/(d-h);a[15]=0;return a};h.lR=function(a,b,d,h,c,e,k){var f=1/(b-d),n=1/(h-c),t=1/(e-k);a[0]=-2*f;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*n;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*t;a[11]=0;a[12]=(b+d)*f;a[13]=(c+h)*n;a[14]=(k+e)*t;a[15]=1;return a};h.dR=function(a,b,c,e){var f=b[0],n=b[1];b=b[2];var t=e[0];var A=e[1];
var k=e[2];var m=c[0];e=c[1];var g=c[2];if(Math.abs(f-m)<d.EPSILON&&Math.abs(n-e)<d.EPSILON&&Math.abs(b-g)<d.EPSILON)return h.Gf(a);c=f-m;e=n-e;m=b-g;var p=1/Math.sqrt(c*c+e*e+m*m);c*=p;e*=p;m*=p;g=A*m-k*e;k=k*c-t*m;t=t*e-A*c;(p=Math.sqrt(g*g+k*k+t*t))?(p=1/p,g*=p,k*=p,t*=p):t=k=g=0;A=e*t-m*k;var q=m*g-c*t;var l=c*k-e*g;(p=Math.sqrt(A*A+q*q+l*l))?(p=1/p,A*=p,q*=p,l*=p):l=q=A=0;a[0]=g;a[1]=A;a[2]=c;a[3]=0;a[4]=k;a[5]=q;a[6]=e;a[7]=0;a[8]=t;a[9]=l;a[10]=m;a[11]=0;a[12]=-(g*f+k*n+t*b);a[13]=-(A*f+q*
n+l*b);a[14]=-(c*f+e*n+m*b);a[15]=1;return a};h.$g=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};h.Qq=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+
Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};h.add=function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+d[6];a[7]=b[7]+d[7];a[8]=b[8]+d[8];a[9]=b[9]+d[9];a[10]=b[10]+d[10];a[11]=b[11]+d[11];a[12]=b[12]+d[12];a[13]=b[13]+d[13];a[14]=b[14]+d[14];a[15]=b[15]+d[15];return a};h.Cc=function(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];a[6]=b[6]-d[6];a[7]=b[7]-d[7];a[8]=b[8]-d[8];
a[9]=b[9]-d[9];a[10]=b[10]-d[10];a[11]=b[11]-d[11];a[12]=b[12]-d[12];a[13]=b[13]-d[13];a[14]=b[14]-d[14];a[15]=b[15]-d[15];return a};h.sub=h.Cc;h.Er=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12]*d;a[13]=b[13]*d;a[14]=b[14]*d;a[15]=b[15]*d;return a};h.Fr=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;a[4]=b[4]+d[4]*c;a[5]=b[5]+d[5]*
c;a[6]=b[6]+d[6]*c;a[7]=b[7]+d[7]*c;a[8]=b[8]+d[8]*c;a[9]=b[9]+d[9]*c;a[10]=b[10]+d[10]*c;a[11]=b[11]+d[11]*c;a[12]=b[12]+d[12]*c;a[13]=b[13]+d[13]*c;a[14]=b[14]+d[14]*c;a[15]=b[15]+d[15]*c;return a};h.yc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]};h.Qd=function(a,b){var f=a[0],c=a[1],h=a[2],n=a[3],e=a[4],
k=a[5],m=a[6],g=a[7],p=a[8],q=a[9],l=a[10],r=a[11],u=a[12],w=a[13],O=a[14];a=a[15];var y=b[0],C=b[1],B=b[2],D=b[3],E=b[4],N=b[5],M=b[6],J=b[7],P=b[8],Q=b[9],T=b[10],U=b[11],K=b[12],ba=b[13],ca=b[14];b=b[15];return Math.abs(f-y)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(c-C)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-B)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(B))&&Math.abs(n-D)<=d.EPSILON*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(e-E)<=d.EPSILON*Math.max(1,Math.abs(e),
Math.abs(E))&&Math.abs(k-N)<=d.EPSILON*Math.max(1,Math.abs(k),Math.abs(N))&&Math.abs(m-M)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(g-J)<=d.EPSILON*Math.max(1,Math.abs(g),Math.abs(J))&&Math.abs(p-P)<=d.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(q-Q)<=d.EPSILON*Math.max(1,Math.abs(q),Math.abs(Q))&&Math.abs(l-T)<=d.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(r-U)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(U))&&Math.abs(u-K)<=d.EPSILON*Math.max(1,Math.abs(u),Math.abs(K))&&
Math.abs(w-ba)<=d.EPSILON*Math.max(1,Math.abs(w),Math.abs(ba))&&Math.abs(O-ca)<=d.EPSILON*Math.max(1,Math.abs(O),Math.abs(ca))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};c.ed=h},function(c,b,a){var d=a(1),h=a(4),f=a(7);b=a(8);var n={create:function(){var a=new d.fb(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}};n.vR=function(){var a=f.create(),b=f.j(1,0,0),d=f.j(0,1,0);return function(c,h,t){var e=f.Vb(h,t);if(-.999999>e)return f.hm(a,b,h),1E-6>f.length(a)&&f.hm(a,d,h),f.normalize(a,
a),n.eL(c,a),c;if(.999999<e)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;f.hm(a,h,t);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=1+e;return n.normalize(c,c)}}();n.xR=function(){var a=h.create();return function(b,d,f,c){a[0]=f[0];a[3]=f[1];a[6]=f[2];a[1]=c[0];a[4]=c[1];a[7]=c[2];a[2]=-d[0];a[5]=-d[1];a[8]=-d[2];return n.normalize(b,n.DI(b,a))}}();n.clone=b.clone;n.j=b.j;n.ue=b.ue;n.set=b.set;n.Gf=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};n.eL=function(a,b){var d=Math.PI;d*=.5;var f=Math.sin(d);a[0]=f*b[0];
a[1]=f*b[1];a[2]=f*b[2];a[3]=Math.cos(d)};n.lQ=function(a,b){var d=2*Math.acos(b[3]),f=Math.sin(d/2);0!=f?(a[0]=b[0]/f,a[1]=b[1]/f,a[2]=b[2]/f):(a[0]=1,a[1]=0,a[2]=0);return d};n.add=b.add;n.multiply=function(a,b,d){var f=b[0],c=b[1],h=b[2];b=b[3];var n=d[0],e=d[1],t=d[2];d=d[3];a[0]=f*d+b*n+c*t-h*e;a[1]=c*d+b*e+h*n-f*t;a[2]=h*d+b*t+f*e-c*n;a[3]=b*d-f*n-c*e-h*t;return a};n.Pg=n.multiply;n.scale=b.scale;n.es=function(a,b,d){d*=.5;var f=b[0],c=b[1],h=b[2];b=b[3];var n=Math.sin(d);d=Math.cos(d);a[0]=
f*d+b*n;a[1]=c*d+h*n;a[2]=h*d-c*n;a[3]=b*d-f*n};n.Sx=function(a,b,d){d*=.5;var f=b[0],c=b[1],h=b[2];b=b[3];var n=Math.sin(d);d=Math.cos(d);a[0]=f*d-h*n;a[1]=c*d+b*n;a[2]=h*d+f*n;a[3]=b*d-c*n;return a};n.fs=function(a,b,d){d*=.5;var f=b[0],c=b[1],h=b[2];b=b[3];var n=Math.sin(d);d=Math.cos(d);a[0]=f*d+c*n;a[1]=c*d-f*n;a[2]=h*d+b*n;a[3]=b*d-h*n};n.lO=function(a,b){var d=b[0],f=b[1];b=b[2];a[0]=d;a[1]=f;a[2]=b;a[3]=Math.sqrt(Math.abs(1-d*d-f*f-b*b));return a};n.Vb=b.Vb;n.Ng=b.Ng;n.Cs=function(a,b,d,f){var c=
b[0],h=b[1],n=b[2];b=b[3];var e=d[0],t=d[1],v=d[2];d=d[3];var A=c*e+h*t+n*v+b*d;0>A&&(A=-A,e=-e,t=-t,v=-v,d=-d);if(1E-6<1-A){var k=Math.acos(A);var F=Math.sin(k);A=Math.sin((1-f)*k)/F;f=Math.sin(f*k)/F}else A=1-f;a[0]=A*c+f*e;a[1]=A*h+f*t;a[2]=A*n+f*v;a[3]=A*b+f*d};n.AR=function(){var a=n.create(),b=n.create();return function(d,f,c,h,e,t){n.Cs(a,f,e,t);n.Cs(b,c,h,t);n.Cs(d,a,b,2*t*(1-t));return d}}();n.If=function(a,b){var d=b[0],f=b[1],c=b[2];b=b[3];var h=d*d+f*f+c*c+b*b;h=h?1/h:0;a[0]=-d*h;a[1]=
-f*h;a[2]=-c*h;a[3]=b*h;return a};n.pO=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};n.length=b.length;n.nr=n.length;n.Uf=b.Uf;n.Ds=n.Uf;n.normalize=b.normalize;n.DI=function(a,b){var d=b[0]+b[4]+b[8];if(0<d)d=Math.sqrt(d+1),a[3]=.5*d,d=.5/d,a[0]=(b[5]-b[7])*d,a[1]=(b[6]-b[2])*d,a[2]=(b[1]-b[3])*d;else{var f=0;b[4]>b[0]&&(f=1);b[8]>b[3*f+f]&&(f=2);var c=(f+1)%3,h=(f+2)%3;d=Math.sqrt(b[3*f+f]-b[3*c+c]-b[3*h+h]+1);a[f]=.5*d;d=.5/d;a[3]=(b[3*c+h]-b[3*h+c])*d;a[c]=(b[3*c+f]+b[3*f+
c])*d;a[h]=(b[3*h+f]+b[3*f+h])*d}return a};n.$g=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};n.yc=b.yc;n.Qd=b.Qd;c.ed=n},function(c,b,a){var d=a(1),h={create:function(){var a=new d.fb(3);a[0]=0;a[1]=0;a[2]=0;return a},clone:function(a){var b=new d.fb(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},j:function(a,b,c){var f=new d.fb(3);f[0]=a;f[1]=b;f[2]=c;return f},ue:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,d,c){a[0]=b;a[1]=d;a[2]=c;return a},add:function(a,
b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];return a},Cc:function(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];return a}};h.sub=h.Cc;h.multiply=function(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];a[2]=b[2]*d[2];return a};h.Pg=h.multiply;h.$j=function(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];a[2]=b[2]/d[2];return a};h.Uv=h.$j;h.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a};h.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);
return a};h.min=function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);a[2]=Math.min(b[2],d[2]);return a};h.max=function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);a[2]=Math.max(b[2],d[2]);return a};h.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a};h.scale=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;return a};h.js=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;return a};h.zf=function(a,b){var d=
b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(d*d+f*f+a*a)};h.Jg=h.zf;h.Mk=function(a,b){var d=b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return d*d+f*f+a*a};h.ry=h.Mk;h.length=function(a){var b=a[0],d=a[1];a=a[2];return Math.sqrt(b*b+d*d+a*a)};h.nr=h.length;h.Uf=function(a){var b=a[0],d=a[1];a=a[2];return b*b+d*d+a*a};h.Ds=h.Uf;h.Gr=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a};h.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a};h.normalize=function(a,b){var d=b[0],f=b[1],
c=b[2];d=d*d+f*f+c*c;0<d&&(d=1/Math.sqrt(d),a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d);return a};h.Vb=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]};h.hm=function(a,b,d){var f=b[0],c=b[1];b=b[2];var h=d[0],n=d[1];d=d[2];a[0]=c*d-b*n;a[1]=b*h-f*d;a[2]=f*n-c*h};h.Ng=function(a,b,d,c){var f=b[0],h=b[1];b=b[2];a[0]=f+c*(d[0]-f);a[1]=h+c*(d[1]-h);a[2]=b+c*(d[2]-b);return a};h.$Q=function(a,b,d,c,h,e){var f=e*e,n=f*(2*e-3)+1,t=f*(e-2)+e,v=f*(e-1);e=f*(3-2*e);a[0]=b[0]*n+d[0]*t+c[0]*v+h[0]*e;a[1]=b[1]*n+
d[1]*t+c[1]*v+h[1]*e;a[2]=b[2]*n+d[2]*t+c[2]*v+h[2]*e;return a};h.jO=function(a,b,d,c,h,e){var f=1-e,n=f*f,t=e*e,v=n*f;n*=3*e;f*=3*t;e*=t;a[0]=b[0]*v+d[0]*n+c[0]*f+h[0]*e;a[1]=b[1]*v+d[1]*n+c[1]*f+h[1]*e;a[2]=b[2]*v+d[2]*n+c[2]*f+h[2]*e;return a};h.random=function(a,b){b=b||1;var f=2*d.mg()*Math.PI,c=2*d.mg()-1,h=Math.sqrt(1-c*c)*b;a[0]=Math.cos(f)*h;a[1]=Math.sin(f)*h;a[2]=c*b;return a};h.Ka=function(a,b,d){var f=b[0],c=b[1];b=b[2];var h=d[3]*f+d[7]*c+d[11]*b+d[15];h=h||1;a[0]=(d[0]*f+d[4]*c+d[8]*
b+d[12])/h;a[1]=(d[1]*f+d[5]*c+d[9]*b+d[13])/h;a[2]=(d[2]*f+d[6]*c+d[10]*b+d[14])/h;return a};h.sM=function(a,b,d){var f=b[0],c=b[1];b=b[2];a[0]=f*d[0]+c*d[3]+b*d[6];a[1]=f*d[1]+c*d[4]+b*d[7];a[2]=f*d[2]+c*d[5]+b*d[8];return a};h.tM=function(a,b,d){var f=b[0],c=b[1],h=b[2];b=d[0];var n=d[1],e=d[2];d=d[3];var t=d*f+n*h-e*c,k=d*c+e*f-b*h,m=d*h+b*c-n*f;f=-b*f-n*c-e*h;a[0]=t*d+f*-b+k*-e-m*-n;a[1]=k*d+f*-n+m*-b-t*-e;a[2]=m*d+f*-e+t*-n-k*-b;return a};h.es=function(a,b,d){var f=[],c=[];f[0]=b[0]-d[0];f[1]=
b[1]-d[1];f[2]=b[2]-d[2];c[0]=f[0];c[1]=f[1]*Math.cos(void 0)-f[2]*Math.sin(void 0);c[2]=f[1]*Math.sin(void 0)+f[2]*Math.cos(void 0);a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2]};h.Sx=function(a,b,d,c){var f=[],h=[];f[0]=b[0]-d[0];f[1]=b[1]-d[1];f[2]=b[2]-d[2];h[0]=f[2]*Math.sin(c)+f[0]*Math.cos(c);h[1]=f[1];h[2]=f[2]*Math.cos(c)-f[0]*Math.sin(c);a[0]=h[0]+d[0];a[1]=h[1]+d[1];a[2]=h[2]+d[2];return a};h.fs=function(a,b,d){var f=[],c=[];f[0]=b[0]-d[0];f[1]=b[1]-d[1];f[2]=b[2]-d[2];c[0]=f[0]*Math.cos(void 0)-
f[1]*Math.sin(void 0);c[1]=f[0]*Math.sin(void 0)+f[1]*Math.cos(void 0);c[2]=f[2];a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2]};h.forEach=function(){var a=h.create();return function(b,d,f,c,h,e){d||(d=3);f||(f=0);for(c=c?Math.min(c*d+f,b.length):b.length;f<c;f+=d)a[0]=b[f],a[1]=b[f+1],a[2]=b[f+2],h(a,a,e),b[f]=a[0],b[f+1]=a[1],b[f+2]=a[2];return b}}();h.angle=function(a,b){a=h.j(a[0],a[1],a[2]);b=h.j(b[0],b[1],b[2]);h.normalize(a,a);h.normalize(b,b);b=h.Vb(a,b);return 1<b?0:Math.acos(b)};h.$g=function(a){return"vec3("+
a[0]+", "+a[1]+", "+a[2]+")"};h.yc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};h.Qd=function(a,b){var f=a[0],c=a[1];a=a[2];var h=b[0],n=b[1];b=b[2];return Math.abs(f-h)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(h))&&Math.abs(c-n)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(n))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};c.ed=h},function(c,b,a){var d=a(1),h={create:function(){var a=new d.fb(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},clone:function(a){var b=new d.fb(4);
b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},j:function(a,b,c,h){var f=new d.fb(4);f[0]=a;f[1]=b;f[2]=c;f[3]=h;return f},ue:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a},set:function(a,b,d,c,h){a[0]=b;a[1]=d;a[2]=c;a[3]=h;return a},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];return a},Cc:function(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];return a}};h.sub=h.Cc;h.multiply=function(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];
a[2]=b[2]*d[2];a[3]=b[3]*d[3];return a};h.Pg=h.multiply;h.$j=function(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];a[2]=b[2]/d[2];a[3]=b[3]/d[3];return a};h.Uv=h.$j;h.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a};h.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a};h.min=function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);a[2]=Math.min(b[2],d[2]);a[3]=Math.min(b[3],
d[3]);return a};h.max=function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);a[2]=Math.max(b[2],d[2]);a[3]=Math.max(b[3],d[3]);return a};h.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a};h.scale=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;return a};h.js=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;return a};h.zf=function(a,b){var d=b[0]-a[0],f=b[1]-a[1],c=b[2]-
a[2];a=b[3]-a[3];return Math.sqrt(d*d+f*f+c*c+a*a)};h.Jg=h.zf;h.Mk=function(a,b){var d=b[0]-a[0],f=b[1]-a[1],c=b[2]-a[2];a=b[3]-a[3];return d*d+f*f+c*c+a*a};h.ry=h.Mk;h.length=function(a){var b=a[0],d=a[1],f=a[2];a=a[3];return Math.sqrt(b*b+d*d+f*f+a*a)};h.nr=h.length;h.Uf=function(a){var b=a[0],d=a[1],f=a[2];a=a[3];return b*b+d*d+f*f+a*a};h.Ds=h.Uf;h.Gr=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};h.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a};
h.normalize=function(a,b){var d=b[0],f=b[1],c=b[2];b=b[3];var h=d*d+f*f+c*c+b*b;0<h&&(h=1/Math.sqrt(h),a[0]=d*h,a[1]=f*h,a[2]=c*h,a[3]=b*h);return a};h.Vb=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};h.Ng=function(a,b,d,c){var f=b[0],h=b[1],n=b[2];b=b[3];a[0]=f+c*(d[0]-f);a[1]=h+c*(d[1]-h);a[2]=n+c*(d[2]-n);a[3]=b+c*(d[3]-b);return a};h.random=function(a,b){b=b||1;a[0]=d.mg();a[1]=d.mg();a[2]=d.mg();a[3]=d.mg();h.normalize(a,a);h.scale(a,a,b);return a};h.Ka=function(a,b,d){var f=
b[0],c=b[1],h=b[2];b=b[3];a[0]=d[0]*f+d[4]*c+d[8]*h+d[12]*b;a[1]=d[1]*f+d[5]*c+d[9]*h+d[13]*b;a[2]=d[2]*f+d[6]*c+d[10]*h+d[14]*b;a[3]=d[3]*f+d[7]*c+d[11]*h+d[15]*b;return a};h.tM=function(a,b,d){var f=b[0],c=b[1],h=b[2],n=d[0],e=d[1],t=d[2];d=d[3];var k=d*f+e*h-t*c,m=d*c+t*f-n*h,g=d*h+n*c-e*f;f=-n*f-e*c-t*h;a[0]=k*d+f*-n+m*-t-g*-e;a[1]=m*d+f*-e+g*-n-k*-t;a[2]=g*d+f*-t+k*-e-m*-n;a[3]=b[3];return a};h.forEach=function(){var a=h.create();return function(b,d,f,c,h,e){d||(d=4);f||(f=0);for(c=c?Math.min(c*
d+f,b.length):b.length;f<c;f+=d)a[0]=b[f],a[1]=b[f+1],a[2]=b[f+2],a[3]=b[f+3],h(a,a,e),b[f]=a[0],b[f+1]=a[1],b[f+2]=a[2],b[f+3]=a[3];return b}}();h.$g=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};h.yc=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};h.Qd=function(a,b){var c=a[0],f=a[1],h=a[2];a=a[3];var n=b[0],e=b[1],k=b[2];b=b[3];return Math.abs(c-n)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(n))&&Math.abs(f-e)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(e))&&
Math.abs(h-k)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};c.ed=h},function(c,b,a){var d=a(1),h={create:function(){var a=new d.fb(2);a[0]=0;a[1]=0;return a},clone:function(a){var b=new d.fb(2);b[0]=a[0];b[1]=a[1];return b},j:function(a,b){var c=new d.fb(2);c[0]=a;c[1]=b;return c},ue:function(a,b){a[0]=b[0];a[1]=b[1];return a},set:function(a,b,d){a[0]=b;a[1]=d;return a},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];return a},Cc:function(a,
b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];return a}};h.sub=h.Cc;h.multiply=function(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];return a};h.Pg=h.multiply;h.$j=function(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];return a};h.Uv=h.$j;h.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a};h.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a};h.min=function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);return a};h.max=function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],
d[1]);return a};h.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a};h.scale=function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;return a};h.js=function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;return a};h.zf=function(a,b){var d=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(d*d+a*a)};h.Jg=h.zf;h.Mk=function(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a};h.ry=h.Mk;h.length=function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)};h.nr=h.length;h.Uf=function(a){var b=a[0];a=a[1];return b*b+a*
a};h.Ds=h.Uf;h.Gr=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};h.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};h.normalize=function(a,b){var d=b[0],c=b[1];d=d*d+c*c;0<d&&(d=1/Math.sqrt(d),a[0]=b[0]*d,a[1]=b[1]*d);return a};h.Vb=function(a,b){return a[0]*b[0]+a[1]*b[1]};h.hm=function(a,b,d){b=b[0]*d[1]-b[1]*d[0];a[0]=a[1]=0;a[2]=b};h.Ng=function(a,b,d,c){var h=b[0];b=b[1];a[0]=h+c*(d[0]-h);a[1]=b+c*(d[1]-b);return a};h.random=function(a,b){b=b||1;var c=2*d.mg()*Math.PI;a[0]=Math.cos(c)*
b;a[1]=Math.sin(c)*b;return a};h.vS=function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[2]*b;a[1]=d[1]*c+d[3]*b;return a};h.wS=function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[2]*b+d[4];a[1]=d[1]*c+d[3]*b+d[5];return a};h.sM=function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[3]*b+d[6];a[1]=d[1]*c+d[4]*b+d[7];return a};h.Ka=function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[4]*b+d[12];a[1]=d[1]*c+d[5]*b+d[13];return a};h.forEach=function(){var a=h.create();return function(b,d,c,h,f,e){d||(d=2);c||(c=0);for(h=
h?Math.min(h*d+c,b.length):b.length;c<h;c+=d)a[0]=b[c],a[1]=b[c+1],f(a,a,e),b[c]=a[0],b[c+1]=a[1];return b}}();h.$g=function(a){return"vec2("+a[0]+", "+a[1]+")"};h.yc=function(a,b){return a[0]===b[0]&&a[1]===b[1]};h.Qd=function(a,b){var c=a[0];a=a[1];var h=b[0];b=b[1];return Math.abs(c-h)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(h))&&Math.abs(a-b)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};c.ed=h}])});m(2,0,function(){function c(a,b,d,c){this.set(a,b,d,c)}var b=k(1),a=b.P,d=b.g,h=b.I;a.j=a.j||
function(b,d,c,h,f,e,n,t,k,m,A,g,p,q,l,r){var v=a.create();v[0]=b;v[1]=d;v[2]=c;v[3]=h;v[4]=f;v[5]=e;v[6]=n;v[7]=t;v[8]=k;v[9]=m;v[10]=A;v[11]=g;v[12]=p;v[13]=q;v[14]=l;v[15]=r;return v};h.yc=h.yc||function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};var f=5/9,e=8/9,t=5/9,m=function(){var b=a.j(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),c=h.create(),f=h.create(),e=d.create();return function(a,n,t){h.set(c,3*a*a,2*a,1,0);h.Ka(f,c,b);h.set(e,h.Vb(f,n),h.Vb(f,t));return d.length(e)}}();
c.prototype.set=function(a,b,d,c){this.Ra=h.j(a[0],a[1],0,1);this.cb=h.j(b[0],b[1],0,1);this.jd=h.j(d[0],d[1],0,1);this.Sc=h.j(c[0],c[1],0,1);this.eo=h.j(a[0],b[0],d[0],c[0]);this.fo=h.j(a[1],b[1],d[1],c[1])};c.prototype.clone=function(){return new c(d.clone(this.Ra),d.clone(this.cb),d.clone(this.jd),d.clone(this.Sc))};c.prototype.Ka=function(a){var b=h.Ka(h.create(),this.Ra,a),d=h.Ka(h.create(),this.cb,a),f=h.Ka(h.create(),this.jd,a);a=h.Ka(h.create(),this.Sc,a);h.scale(b,b,1/b[3]);h.scale(d,d,1/
d[3]);h.scale(f,f,1/f[3]);h.scale(a,a,1/a[3]);return new c(b,d,f,a)};c.prototype.length=function(a){var b=this.eo,d=this.fo;a*=.5;return a*(f*m(1.774597*a,b,d)+e*m(a,b,d)+t*m(1.225403*a,b,d))};c.prototype.Or=function(){var b=h.create(),c=h.create(),f=a.create(),e=a.create();return function(n,t,k){var v=0,m=1,A=0,g=this.length(k);k=this.length(1);n=g-.5*t+n;for(t=0;10>t;t++){g=.5*(v+m);var F=this.length(g);n>F?(v=g,A=F):(m=g,k=F)}n=n/(k+A)*(v+m);v=n*n;h.set(b,n*v,v,n,1);h.set(c,3*v,2*n,1,0);a.set(f,
-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);h.Ka(e,b,f);n=d.j(h.Vb(e,this.eo),h.Vb(e,this.fo));v=h.Ka(h.create(),c,f);v=d.j(h.Vb(v,this.eo),h.Vb(v,this.fo));d.normalize(v,v);m=d.j(-v[1],v[0]);return{gM:v,position:n,kx:m}}}();c.prototype.Db=function(a,b){a=this.Ka(a);var d=a.Ra,c=a.cb,f=a.jd,e=a.Sc,n=b[0];b=b[1];d[0]=n*(d[0]+1)*.5;d[1]=b*(d[1]+1)*.5;c[0]=n*(c[0]+1)*.5;c[1]=b*(c[1]+1)*.5;f[0]=n*(f[0]+1)*.5;f[1]=b*(f[1]+1)*.5;e[0]=n*(e[0]+1)*.5;e[1]=b*(e[1]+1)*.5;a.eo=h.j(d[0],c[0],f[0],e[0]);a.fo=h.j(d[1],
c[1],f[1],e[1]);return a};c.prototype.scale=function(a){var b=this.clone(),d=b.Ra,c=b.cb,f=b.jd,e=b.Sc;h.scale(d,d,a);h.scale(c,c,a);h.scale(f,f,a);h.scale(e,e,a);return b};c.prototype.Kw=function(){this.set(this.Sc,this.jd,this.cb,this.Ra)};c.prototype.direction=function(){return d.sub(d.create(),this.Sc,this.Ra)};c.prototype.Wx=function(){return{Ra:this.Ra,cb:this.cb,jd:this.jd,Sc:this.Sc}};c.prototype.Pw=function(){return!1};c.Fy=function(a){return new c(a.Ra,a.cb,a.jd,a.Sc)};return c});m(3,0,
function(){var c=k(1),b=k(2),a={},d;for(d in Math)a[d]=Math[d];a.tr=c.tr;a.cx=c.cx;a.ur=c.ur;a.P=c.P;a.en=c.en;a.g=c.g;a.Da=c.Da;a.I=c.I;a.en=c.en;a.UM=b;var h=Math.PI/180;a.yw=.5*Math.PI;a.Cy=function(a){return h*a};a.bh=a.Cy;a.lz=Math.log(2);a.log2="function"===typeof Math.log2?Math.log2.bind(Math):function(b){return Math.log(b)/a.lz};var f=a.I.create();a.g.Db=function(b,d,c,h){f[0]=d[0];f[1]=d[1];f[2]=0;f[3]=1;a.I.Db(f,f,c,h);b[0]=f[0];b[1]=f[1]};a.Da.Db=function(b,d,c,h){f[0]=d[0];f[1]=d[1];f[2]=
d[2];f[3]=1;a.I.Db(b,f,c,h);b[0]=f[0];b[1]=f[1];b[2]=0};a.I.Db=function(b,d,c,h){a.I.Ka(b,d,c);a.I.scale(b,b,1/b[3]);b[0]=h[0]*(b[0]+1)*.5;b[1]=h[1]*(b[1]+1)*.5;b[2]=0;b[3]=1};a.Wl=function(a,b,d){return Math.min(d,Math.max(b,a))};a.vec2=a.g;a.vec3=a.Da;a.vec4=a.I;a.mat2=a.tr;a.mat3=a.ur;a.mat4=a.P;a.g.toScreenSpace=a.g.Db;a.Da.toScreenSpace=a.Da.Db;a.I.toScreenSpace=a.I.Db;a.g.fromValues=a.g.j;a.Da.fromValues=a.Da.j;a.I.fromValues=a.I.j;a.I.transformMat4=a.I.Ka;a.P.multiply=a.P.multiply;return a});
m(4,0,function(){return{PJ:8,global:{}}});m(5,0,function(){var c=k(3),b=k(4),a=k(0),d={};d.Bb=function(){var a=0;return function(){return a++}}();d.cH=function(b,d,h){var f=Math.pow(2,-b.z-.001);d=d[1]/a.Cd*f;return{target:c.Da.j((b.x+.5)*f,1-(b.y+.5)*f,0),zoom:.5*d/Math.tan(.5*h)}};d.qw=function(a){for(var b=1,d=1,h=1;h<a;)b>d?d*=2:b*=2,h*=2;return c.g.j(b,d)};d.bR=function(a){for(;0===(a&1)&&1<a;)a>>=1;return 1===a};d.nQ=function(a){for(var b=1;b<a;)b<<=1;return b};d.Vq=function(a){for(var b=1;b<=
a;)b<<=1;return b};d.bL=function(){};d.random=Math.random;var h=null;d.xw=function(a){var b=a?a.split("?")[1]:location.search.substr(1);if(!a&&h)return h;var d={};b=b.split("&");for(var c=0,f=b.length;c<f;c++){var e=b[c].split("=");2===e.length&&(d[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))}a||(h=d);return d};d.GG=function(a){for(var b in a)null!==a[b]?h[b]=a[b]:delete h[b]};d.cL=function(a){a=a||h;var b="",d;for(d in a)b+=encodeURIComponent(d)+"="+encodeURIComponent(a[d])+"&";return b.substr(0,
b.length-1)};d.Ge=function(a){return Object.keys(a).map(function(b){return a[b]})};d.Sv=function(a,d){b.global[a]=d};d.Ig=function(a){for(var b in a)d.Sv(b,a[b])};d.rw=function(a){var b=a.indexOf(".");return-1!==b?a.substr(0,b):a};d.Os=function(a,b){return d.rw(a)===d.rw(b)};d.yI=function(a,b){return a.replace(/{{(.*?)}}/g,function(a,d){return b[d]})};d.Tm=function(a){return 3===a.length?[a[0]/255,a[1]/255,a[2]/255]:[a[0]/255,a[1]/255,a[2]/255,a[3]/255]};d.eR=function(a,b){b=Object.keys(b)[0];b=a[b];
var d=[],c;for(c in a)a[c]===b&&d.push(c);return{NG:d,pm:b,mR:function(b){this.NG.forEach(function(d){a[d]=b})}}};d.getURLParameters=d.xw;d.serializeParameters=d.cL;d.addURLParameters=d.GG;d.toArray=d.Ge;d.cameraPropertiesFromTileKey=d.cH;d.defineGlobal=d.Sv;d.defineGlobals=d.Ig;d.versionsHaveMatchingMajorComponent=d.Os;d.normalizedColor=d.Tm;d.xw();return d});m(6,0,function(){function c(a){this.Vl=a;this.se=!1}function b(a,b,d){this.size=a;this.x=b;this.y=d;this.items=[];this.reset()}function a(a,
d,c){this.ac=d;this.Kf=c||h.g.j(0,0);c=2*this.Kf[0]+(d[0]||a);d=2*this.Kf[1]+(d[1]||a);this.Le=a||10;this.sd=[];for(var f=0;f<c;f+=a){for(var e=[],n=0;n<d;n+=a){var t=new b(a,f,n);e.push(t)}this.sd.push(e)}}var d=k(5),h=k(3);c.prototype.iw=function(a){for(var b=0,d=this.Vl.length;b<d&&!a(this.Vl[b],b);b++);};b.prototype.reset=function(){this.count=0;this.items.length=0};a.prototype.clear=function(){for(var a=0,b=this.sd.length;a<b;a++)for(var d=this.sd[a],c=0,h=d.length;c<h;c++)d[c].reset()};a.prototype.RI=
function(a){var b=[];a=a.cells;for(var d=0,c=a.length;d<c;++d)b=b.concat(a[d].items);return b};a.prototype.AI=function(a,b){var d=a.x+this.Kf[0],c=a.y+this.Kf[1],h=Math.min(d+a.Yc,this.ac[0]+2*this.Kf[0]);a=Math.min(c+a.hd,this.ac[1]+2*this.Kf[1]);if(0>h||d>=this.ac[0]+2*this.Kf[0]||0>a||c>=this.ac[1]+2*this.Kf[1])return!1;d=Math.floor(d/this.Le);c=Math.floor(c/this.Le);0>d&&(d=0);0>c&&(c=0);var f=d;do{var e=c;d=this.sd[f][e];if(d.x>h)break;do{if(void 0===this.sd[f]||void 0===this.sd[f][e])debugger;
d=this.sd[f][e];if(d.y>a)break;if(b(d))return!1;e++}while(e<this.sd[f].length);f++}while(f<this.sd.length);return!0};a.prototype.II=function(a){function b(b){a.cells.push(b);return!1}a.cells=[];var d=this,c=!1;a.iw(function(a){return c=!d.AI(a,b)})};a.prototype.pv=function(a){a.cells.forEach(function(b){b.items.push(a)})};a.prototype.Ix=function(a){for(var b=0,d=a.cells.length;b<d;b++){var c=a.cells[b];c.items.splice(c.items.indexOf(a),1)}delete a.se};a.prototype.mH=function(a){a=new c(a);a.id=d.Bb();
return a};return a});m(7,0,function(){function c(a,b){var d=a.Aa[0]-b.Aa[0],c=a.Aa[1]-b.Aa[1];a=a.Of+b.Of;return a*a>=d*d+c*c}function b(a,b){var d=.5*b.Yc,f=.5*b.hd,e=d+a.Of,n=f+a.Of,t=[b.x+d,b.y+f],k=t[0]-a.Aa[0],m=t[1]-a.Aa[1];return k*k+m*m>=e*e+n*n?!1:c(a,new h(t,d<f?d:f))?!0:a.Aa[0]>=b.x&&a.Aa[0]<=b.x+b.Yc?b.br(0,-a.Of).contains(a.Aa):a.Aa[1]>=b.y&&a.Aa[1]<=b.y+b.hd?b.br(-a.Of,0).contains(a.Aa):!0}function a(a,b,d,c,h){this.x=a;this.y=b;this.Yc=d;this.hd=c;this.angle=h}function d(a,b,d,c){this.x=
a;this.y=b;this.Yc=d;this.hd=c}function h(a,b){this.Aa=a;this.Of=b;this.x=a[0]-b;this.y=a[1]-b;this.hd=this.Yc=a=2*b}var f=k(3);a.prototype.contains=function(a){var b=f.g.j(.5*this.Yc*Math.cos(this.angle),.5*this.Yc*Math.sin(this.angle)),d=f.g.j(.5*this.hd*Math.cos(this.angle+f.yw),.5*this.hd*Math.sin(this.angle+f.yw)),c=f.g.j(this.x-b[0]-d[0],this.y-b[1]-d[1]),h=f.g.j(this.x-b[0]+d[0],this.y-b[1]+d[1]),e=f.g.j(this.x+b[0]+d[0],this.y+b[1]+d[1]);b=f.g.j(this.x+b[0]-d[0],this.y+b[1]-d[1]);var n=f.g.create();
d=f.g.create();var k=f.g.sub(n,h,c),m=f.g.sub(d,a,c);if(0>f.g.Vb(k,m))return!1;k=f.g.sub(n,e,h);h=f.g.sub(d,a,h);if(0>f.g.Vb(k,h))return!1;h=f.g.sub(n,b,e);e=f.g.sub(d,a,e);if(0>f.g.Vb(h,e))return!1;c=f.g.sub(n,c,b);a=f.g.sub(d,a,b);return 0<=f.g.Vb(c,a)};a.prototype.$l=function(){};a.prototype.uq=function(){};a.prototype.se=function(){};d.FI=function(a){var b=a.min();return new d(b[0],b[1],a.width(),a.height())};d.prototype.contains=function(a){return this.x<=a[0]&&this.x+this.Yc>=a[0]&&this.y<=
a[1]&&this.y+this.hd>=a[1]};d.prototype.se=function(a){return a.$l(this)};d.prototype.$l=function(a){return this.x<a.x+a.Yc&&this.y<a.y+a.hd&&this.x+this.Yc>a.x&&this.y+this.hd>a.y};d.prototype.uq=function(a){return b(a,this)};d.prototype.br=function(a,b){return new d(this.x+a,this.y+b,this.Yc-2*a,this.hd-2*b)};h.prototype.contains=function(a){var b=a[0]-this.Aa[0];a=a[1]-this.Aa[1];return this.Of*this.Of>=b*b+a*a};h.prototype.se=function(a){return a.uq(this)};h.prototype.$l=function(a){return b(this,
a)};h.prototype.uq=function(a){return c(this,a)};return{xz:a,lo:d,at:h}});m(8,0,function(){return{u:0,qo:1,cl:2,qc:3,mo:4,VM:5,dt:6}});m(9,0,function(){function c(d){d.Ja=function(a,b,d,c){var h=this.Je||{},f=h[a]||[];f.push({Pd:b,context:d||b,once:c?1:0});h[a]=f;this.Je=h;return this};d.ua=function(a,d,c){this.Je=this.Je||[];if(0===arguments.length)return delete this.Je,this;if(1===arguments.length)return delete this.Je[a],this;var h=this.Je[a];if(void 0===h)return this;c?d?(d=d.Uz?d.Uz:d,b(h,function(a){if(a.Pd===
d&&a.context===c)return!0;if(a=a.Pd.Go)return a.Pd===d&&a.context===c})):b(h,function(a){if(a.context===c)return!0;if(a=a.Pd.Go)return a.context===c}):b(h,function(a){if(a.Pd===d)return!0;if(a=a.Pd.Go)return a.Pd===d});return this};d.K=function(a,b){if(void 0!==this.Je){var d=this.Je[a];if(void 0!==d){for(var c=0,h=0,f=d.length;h<f;h++){var e=d[h];c+=e.once;e.Pd.call(e.context,b)}c&&(this.Je[a]=d.filter(function(a){return!a.once}));return this}}};d.once=function(a,b,d){return this.Ja(a,b,d,!0)};d.race=
function(){return new a(this)};d.Tz=!0;d.on=d.Ja;d.off=d.ua;d.once=d.once;d.race=d.race;d.notify=d.K}function b(a,b){for(var d=0,c=0,h=a.length;d<h;d++)b(a[c])?a.splice(c,1):c++}function a(a){this.object=a;this.Ak=[];d.Bb()}var d=k(5),h;a.prototype.add=function(a,b,d){function c(a){e.KC||(e.KC=!0,e.Ak.splice(f.index,1),h.ih.fa(function(){for(var a=0,b=e.Ak.length;a<b;a++){var d=e.Ak[a];e.object.ua(d.id,d.Pd,d.context)}}),f.Pd.call(f.context,a))}var f={id:a,Pd:b,context:d,index:this.Ak.length},e=this;
e.Ak.push(f);c.Go=f;this.object.once(a,c,d);return this};c(a.prototype);a.prototype.add=a.prototype.add;var f={$x:function(a){h=a},ba:c,forward:function(a,b){if("object"===typeof b){var d=b;b=d.K.bind(d)}var c=a.K;a.K=function(a,d){b(a,d);c.apply(this,arguments)}},yJ:function(a){return!0===a.Tz}};f.decorate=c;return f});m(10,0,function(){function c(){this.id=d.Bb();this.vd=b.g.create();this.wd=b.g.create();this.Gc=b.g.create();this.Gl=!0;this.sj=!1;this.Al=h.kt;Object.defineProperty(this,"x",{get:function(){return this.vd[0]},
set:function(a){this.vd[0]!==a&&(this.vd[0]=a,this.vh())}});Object.defineProperty(this,"y",{get:function(){return this.vd[1]},set:function(a){this.vd[1]!==a&&(this.vd[1]=a,this.vh())}});Object.defineProperty(this,"width",{get:function(){return this.wd[0]},set:function(a){this.wd[0]!==a&&(this.wd[0]=a,this.vh())}});Object.defineProperty(this,"height",{get:function(){return this.wd[1]},set:function(a){this.wd[1]!==a&&(this.wd[1]=a,this.vh())}});Object.defineProperty(this,"xOffset",{get:function(){return this.Gc[0]},
set:function(a){this.Gc[0]!==a&&(this.Gc[0]=a,this.vh())}});Object.defineProperty(this,"yOffset",{get:function(){return this.Gc[1]},set:function(a){this.Gc[1]!==a&&(this.Gc[1]=a,this.vh())}});this.sf=!1}var b=k(3),a=k(9),d=k(5),h={kt:1,zo:2};c.prototype.gy=function(a){this.Al=a};c.prototype.$m=function(){return this.Al};c.prototype.ky=function(){this.Gl=!1};c.prototype.dy=function(){this.sj=!0};c.prototype.vh=function(){this.ic();this.K("property-changed")};c.prototype.ic=function(){this.sf=!0};c.prototype.jk=
function(){return this.sf};c.prototype.od=function(){var a=this.Vc();a.aL=this.Gl;a.fK=this.sj;a.$m=this.Al;return a};c.prototype.Ed=function(a){this.vd[0]=a.location[0];this.vd[1]=a.location[1];this.wd[0]=a.size[0];this.wd[1]=a.size[1];this.Gc[0]=a.offset[0];this.Gc[1]=a.offset[1]};c.create=function(a){var b=new c;b.id=a.id;b.Gl=a.aL;b.sj=a.fK;b.Al=a.$m;b.Ed(a);return b};c.prototype.Vc=function(){return{id:this.id,location:this.vd,offset:this.Gc,size:this.wd}};c.prototype.location=function(){return this.vd};
c.prototype.size=function(){return this.wd};c.prototype.offset=function(){return this.Gc};var f=b.g.create(),e=b.g.create(),t=b.g.create();c.prototype.ZK=function(a,d,c){var h=this.wd,n=b.g.j(0,0),k=b.g.j(h[0],h[1]);if(this.sj){b.g.Db(f,this.vd,d,c);var m=b.g.j(h[0],0);h=b.g.j(0,h[1]);b.g.Db(n,n,d,c);b.g.Db(k,k,d,c);b.g.Db(m,m,d,c);b.g.Db(h,h,d,c);d=0;n[1]>m[1]?(d=Math.PI,k=b.g.sub(t,n,m)):k=b.g.sub(t,m,n);c=b.g.length(k);b.g.normalize(k,k);k=b.g.Vb(k,b.g.j(1,0));d+=Math.acos(k);n=b.g.length(b.g.sub(t,
h,n));h=e;h[0]=c;h[1]=n;a.x=f[0];a.y=f[1];a.Yc=c;a.hd=n;a.angle=d}else b.g.Db(f,this.vd,d,c),h=this.wd,m=this.Gc,this.Gl||(b.g.Db(n,n,d,c),b.g.Db(k,k,d,c),h=e,h[0]=k[0]-n[0],h[1]=k[1]-n[1]),a.x=f[0]-.5*h[0]+m[0],a.y=f[1]-.5*h[1]+m[1],a.Yc=h[0],a.hd=h[1]};a.ba(c.prototype);c.al=h;return c});m(11,0,function(){function c(b){this.bC=!0;this.Bh=a.uo;var d=this;try{b.call(this,function(a){d.Au(a)},function(a){d.ep(a)})}catch(f){this.Bu(this.ep.bind(this),f)}}var b=k(9),a={uo:0,ct:1,qt:2};c.prototype.Bu=
function(a,b){"string"===typeof b?a(b):a(b.message)};c.timeout=function(a){return new c(function(b){setTimeout(b,a)})};c.pk=function(a){return"object"===typeof a&&a&&!0===a.bC};c.all=function(a){var b=null,d=null;if(0===a.length)return c.resolve([]);var e=new c(function(a,c){d=a;b=c});for(var t=[],k=a.length,m=!1,g=0,p=a.length;g<p;g++)(function(a,h){c.pk(a)||(a=c.resolve(a));a.then(function(a){t[h]=a;--k;k||d(t)},function(a){!m&&b(a);m=!0})})(a[g],g);return e};c.race=function(a){for(var b=null,d=
null,e=new c(function(a,c){b=a;d=c}),t=0,k=a.length;t<k;t++){var m=a[t];if(!c.pk(m)){b(m);break}if(m.qk()){m.zJ()?d(m.np):b(m.Lp);break}m.then(function(a){!e.qk()&&b(a)},function(a){!e.qk()&&d(a)})}return e};c.reject=function(a){return new c(function(b,d){d(a)})};c.resolve=function(a){return new c(function(b){b(a)})};c.prototype.fr=function(){return this.Bh===a.uo};c.prototype.qk=function(){return this.Bh!==a.uo};c.prototype.zJ=function(){return this.Bh===a.qt};c.prototype.tJ=function(){return this.Bh===
a.ct};c.prototype.Au=function(b){if(c.pk(b)){var d=this;b.then(function(a){d.Au(a)},function(a){d.ep(a)})}else this.Bh=a.ct,this.Lp=b,this.K("fulfilled",b),this.ua("fulfilled"),this.ua("rejected")};c.prototype.ep=function(b){this.Bh=a.qt;this.np=b;this.K("rejected",b);this.ua("rejected");this.ua("fulfilled")};c.prototype.catch=function(a){return this.then(null,a)};c.prototype.then=function(a,b){var d=this;return this.qk()?this.tJ()?a?new c(function(b){b(a(d.Lp))}):c.resolve(this.Lp):b?new c(function(a){a(b(d.np))}):
c.reject(this.np):new c(function(c,h){d.Ja("fulfilled",function(b){try{b=a?a(b):b,c(b)}catch(v){d.Bu(h,v)}});d.Ja("rejected",function(a){b?(a=b(a),c(a)):h(a)})})};b.ba(c.prototype);c.prototype.then=c.prototype.then;c.prototype["catch"]=c.prototype.catch;c.race=c.race;c.all=c.all;c.timeout=c.timeout;c.isPromise=c.pk;return c});m(12,0,function(){var c=0,b={Xs:c++,Ys:c++,Gz:c++,Ty:c++,Fz:c++,Vs:c++,Uy:c++,Py:c++,mt:c++,wt:c++};b.count=c++;return b});m(13,0,function(){var c={},b=0;c.Wi=b++;c.ge=b++;c.nb=
b++;c.He=b++;c.gf=b++;c.og=b++;c.ef=b++;c.Gd=b++;c.ee=b++;c.S=b++;c.Ea=b++;c.Sb=b++;c.rc=b++;c.V=b++;c.ka=b++;c.O=b++;c.u=b++;c.dc=b++;c.qc=b++;c.count=b++;var a={hg:0,Qi:1,Xk:2,bl:3,Hz:4,Co:5,ut:100},d={};d[a.hg]={standard:{style:"standard",wa:[c.S,c.rc,c.V,c.Sb,c.ka,c.O,c.u,c.dc]},hybrid:{style:"hybrid",wa:[c.V,c.ka,c.O,c.u,c.dc]},satellite:{style:"satellite",wa:[c.nb]}};d[a.Qi]={standard:{style:"standard",wa:[c.S,c.rc,c.V,c.Sb,c.ka]},hybrid:{style:"hybrid",wa:[c.V,c.ka]},satellite:{style:"satellite",
wa:[c.nb]}};d[a.Xk]={standard:{style:"standard",wa:[c.Gd,c.O,c.u,c.dc]},hybrid:{style:"hybrid",wa:[c.ee,c.O,c.u,c.dc]},satellite:{style:"satellite",wa:[c.nb]}};d[a.bl]={standard:{style:"standard",wa:[c.ge]},hybrid:{style:"hybrid",wa:[c.nb,c.He]},satellite:{style:"satellite",wa:[c.nb]}};d[a.Hz]={standard:{style:"standard",wa:[c.Gd]},hybrid:{style:"hybrid",wa:[c.nb,c.ee]},satellite:{style:"satellite",wa:[c.nb]}};d[a.ut]={standard:{style:"standard",wa:[c.gf]},hybrid:{style:"hybrid",wa:[c.nb,c.ef]},satellite:{style:"satellite",
wa:[c.nb]}};d[a.Co]={standard:{style:"standard",wa:[c.S,c.rc,c.V,c.Sb,c.ka,c.O,c.u,c.dc]},hybrid:{style:"hybrid",wa:[c.nb,c.V,c.ka,c.O,c.u,c.dc]},satellite:{style:"satellite",wa:[c.nb]}};for(var h in a){b=d[a[h]];for(var f in b)"hybrid"===f&&b[f].wa.unshift(c.nb),b[f].wa.unshift(c.Wi)}Object.freeze(d);c.Ex=function(b,h,f){b===a.bl&&(f&&(b=a.ut),f=!0);b=d[b][h];var e=b.wa.slice();f||"satellite"===h||e.push(c.qc);h={wa:e,style:b.style};h.layers=h.wa;h.style=h.style;return h};var e=["standard","hybrid",
"satellite"];Object.freeze(e);c.NJ=function(){return e};c.Fd=a;a.Default=a.hg;a.BaseMapOnly=a.Qi;a.LOCSR=a.Xk;a.SSR=a.bl;a.Snapshot=a.Co;c.RenderingModes=c.Fd;c.StandardRasterTile_NoPOI=c.gf;c.StandardRasterTile_NoLabels=c.Gd;c.SatelliteRasterTile_NoPOI=c.og;c.HybridRasterTile_NoPOI=c.ef;c.HybridRasterTile_NoLabels=c.ee;c.StandardRasterTile=c.ge;c.SatelliteRasterTile=c.nb;c.HybridRasterTile=c.He;c.Polygon=c.S;c.Building=c.Sb;c.Road=c.V;c.River=c.rc;c.Shield=c.O;c.TextLabel=c.u;c.RoadTextLabel=c.dc;
c.POILabel=c.qc;c.Grid=c.Wi;c.RoadArrow=c.ka;c.propertiesFromMapMode=c.Ex;c.mapModes=c.NJ;c.colorSchemeForDisplayOptions=c.oO;c.Sy=[c.S,c.Ea,c.rc,c.Sb,c.V,c.nb,c.ge,c.Gd];return c});m(17,0,function(){function c(a,b){this.je=!1;this.Su=!0;this.sq=a;this.MD=b;this.ac=[0,0];this.reset()}var b=k(0),a=k(3),d=k(6),h=k(7),f=h.lo,e=h.xz,t=k(8),m=k(10);c.prototype.reset=function(){this.ke=[];this.qf={};this.Oc={};this.hj={};this.hj[b.Qx]={Im:0,Kc:0,am:0,ti:0,mi:0,gc:0,qn:!1,visible:!0,Ya:!1};this.hj[b.Lw]=
{Im:0,Kc:0,am:0,ti:0,mi:0,gc:0,qn:!1,visible:!1,Ya:!1};this.resize(this.ac)};c.prototype.resize=function(b){this.ac=b;b=this.je?a.g.clone(this.ac):a.g.j(0,0);a.g.scale(b,b,4);this.te=new d(this.sq,this.ac,b)};c.prototype.pi=function(a){this.Su=a};c.prototype.Ce=function(a){this.je=a;this.resize(this.ac)};c.prototype.Tg=function(a){for(var b=0,d=a.length;b<d;++b){var c=a[b];this.hj[c.id]=c}};c.prototype.Qf=function(b){this.Oc[b.id]=b;var d=b.sj?new e(0,0,0,0,0):new f(0,0,0,0);b.F={b:d,De:a.g.create()}};
c.prototype.Zf=function(a){delete this.Oc[a]};c.prototype.Gp=function(a,b){for(var d in this.Oc){var c=this.Oc[d];c.ZK(c.F.b,b,a)}};c.prototype.ev=function(a,d){if(a.F.xq!==d){var c=this.hj[a.element.fc[Math.min(Math.max(a.Iv[0],d),a.Iv[1])]],h=a.sm(c);h.Kc=h.Kc||b.AH;switch(a.type){case t.qc:case t.u:h.Wb=0;break;case t.qo:h.Wb=c.mi;h.xe=255;break;case t.cl:h.Wb=c.ti;h.xe=255;break;case t.mo:h.Wb=a.J[0]?0:255,h.xe=255}a.Ib?(h.Wb=Math.max(.1*Math.floor(10*a.Ib),h.Wb),h.bm=a.Ib):h.bm||(h.bm=h.Wb);
a.F.Yd=h;a.F.xq=d}};c.prototype.VD=function(a){for(var b in this.qf){var d=this.qf[b],c=d[0];this.ev(c,a);for(var h=1,f=d.length;h<f;h++){var e=d[h];this.je?this.ev(e,a):(e.F.Yd=c.F.Yd,e.F.xq=c.F.xq)}}};c.prototype.FK=function(a){a.F={id:a.element.na.key.id+":"+a.Ef};a.us(this.hj);var b=a.sa,d=this.qf[b]||[],c=d.length;if(!this.je&&c)for(var h=0;h<c;h++){var f=d[0];a.F.io=a.F.io||f.F.io;if(f.show){a.ny(f);break}}d.unshift(a);this.qf[b]=d};c.prototype.vM=function(a){var b=a.sa,d=this.qf[b];1===d.length?
delete this.qf[b]:(d.splice(d.indexOf(a),1),a.show&&d.forEach(function(b){b.ny(a)}))};c.prototype.XD=function(){this.ke=[];for(var a in this.qf){var b=this.qf[a];b.forEach(function(a,b){a.F.nk=a.show;a.F.yx=b;a.xK()});this.ke.push.apply(this.ke,b)}};c.prototype.iC=function(a,b){for(var d=0,c=this.ke.length;d<c;d++){var h=this.ke[d];h.F.Fs=h.vw(a,this.ac,b,this.MD)}};c.prototype.DB=function(a,b,d){var c=this.ke;if(this.je){var h=0;this.ke.forEach(function(a){h=Math.max(a.element.na.key.z,h)});var e=
{};this.ke.forEach(function(a){if(!a.Re&&(a=a.element.na.key,h===a.z&&!e[a.id])){var c=a.Hh().Db(b,d);e[a.id]=f.FI(c)}});c=c.filter(function(a){if(a.Re)return!1;var b=a.F.Fs,d=b.length,c;for(c in e)for(var h=e[c],f=0;f<d;f++){var n=a.ks(b[f]);if(h.contains(n))return a.F.jm=c,!0}})}return c=c.filter(function(b){if(b.Re)return!1;var d=b.F.Yd;return b.F.Fs.length&&d.visible&&d.Wb<=a})};c.prototype.update=function(a,b,d,c,h){var f=Math.floor(d);this.XD();this.iC(b,d);this.VD(f);this.Gp(a,b);b=this.DB(d,
a,b);c&&(this.te.clear(),c=this.pA(b),c.forEach(function(a){a.F.Aa=a.$K()}),h&&this.YA(c,a),this.Su&&this.eA())};c.prototype.tB=function(a,b){for(var d=a.F.Fs,c=0,h=d.length;c<h;c++){var f=d[c],e=a.fk(f,a.F.Yd);if(0!==e.length&&(e=this.te.mH(e),b(e,f)))break}};c.prototype.cC=function(a,b){if(b===a)return!1;a=a.Vl;b=b.Vl;for(var d=0,c=a.length;d<c;d++)for(var h=a[d],f=0,e=b.length;f<e;f++)if(b[f].se(h))return!0;return!1};c.prototype.Rt=function(a){if(0===a.cells.length)a.se=!0;else{for(var b=this.te.RI(a),
d=0,c=b.length;d<c;d++)if(this.cC(a,b[d])){a.se=!0;return}a.se=!1}};c.prototype.Vu=function(a,b){var d=this;return a.sort(function(a,c){var h=a.F.Yd,f=c.F.Yd;if(b&&a.element.na.key.id!==c.element.na.key.id)return a.element.na.key.id.localeCompare(c.element.na.key.id);if(h.Kc!==f.Kc)return h.Kc-f.Kc;h=h.bm;f=f.bm;if(h!==f)return h-f;if(!d.je){if(a.sa===c.sa)return a.Ow(c)?-1:c.Ow(a)?1:a.F.yx-c.F.yx;if(a.F.nk!==c.F.nk)return a.F.nk?-1:1}return a.F.id.localeCompare(c.F.id)})};c.prototype.pA=function(a){var b=
this,d="none";a=this.Vu(a,this.je);a=a.filter(function(a){a.F.wq=null;a.F.position=null;var c=a.element.na.key.id;b.je&&c!==d&&(b.te.clear(),d=c);var h=!1;b.tB(a,function(d,c){b.te.II(d);b.te.pv(d);b.Rt(d);d.se?(b.te.Ix(d),a.Eg(),h=!1):(a.F.wq=d,a.F.position=c,h=!0);return h});return h});this.je&&(a=this.Vu(a,!1),this.te.clear(),a=a.filter(function(a){var d=a.F.wq;b.te.pv(d);b.Rt(d);return d.se?(b.te.Ix(d),a.Eg(),!1):!0}));a.forEach(function(a){a.Fg(a.F.position,a.F.Yd)});return a};c.prototype.sC=
function(b,d){var c=a.g.j(.5*d[0],.5*d[1]),h=Math.max(d[0],d[1]),e=new f(50,50,d[0]-100,d[1]-100);b=b.sort(function(b,d){var h=b.F.Yd,f=d.F.Yd;if(b.type!==d.type)return b.type-d.type;if(b.sa!==d.sa)return b.sa.localeCompare(d.sa);if(h.gc!==f.gc)return h.gc-f.gc;h=b.F.nk&&e.contains(b.F.Aa);f=d.F.nk&&e.contains(d.F.Aa);if(h!==f)return h?-1:1;h=a.g.Jg(b.F.Aa,c);f=a.g.Jg(d.F.Aa,c);return h!==f?h-f:b.F.id.localeCompare(d.F.id)});var n=-1,k=null;b.forEach(function(b){if(b.sa===n){for(var d=0,c=k.length;d<
c;d++)if(a.g.Jg(k[d].F.Aa,b.F.Aa)<h){b.Eg();return}k.push(b)}else n=b.sa,k=[b]})};c.prototype.aB=function(d){d=d.sort(function(a,b){var d=a.F.Yd,c=b.F.Yd;if(a.type!==b.type)return a.type-b.type;if(a.sa!==b.sa)return a.sa.localeCompare(b.sa);if(d.gc!==c.gc)return d.gc-c.gc;d=a.element.na.key;c=b.element.na.key;if(d.id!==c.id){var h=(d.x&1)===(d.y&1)?1:0,f=(c.x&1)===(c.y&1)?1:0;if(h!==f)return h-f;if(d.x!==c.x)return d.x-c.x;if(d.y!==c.y)return d.y-c.y}return a.F.id.localeCompare(b.F.id)});var c=-1,
h=null,f=b.zr,e=b.Cd;d=d.filter(function(b){if(b.sa===c){for(var d=0,e=h.length;d<e;d++){var n=h[d];if(a.g.Jg(n.F.Aa,b.F.Aa)<f&&n.F.jm===b.F.jm)return b.Eg(),!1}h.push(b)}else c=b.sa,h=[b];return!0});c=-1;h=null;d.forEach(function(b){if(b.sa===c){for(var d=0,f=h.length;d<f;d++){var n=h[d];if(n.F.jm!==b.F.jm&&a.g.Jg(n.F.Aa,b.F.Aa)<e)return b.Eg(),!1}h.push(b)}else c=b.sa,h=[b];return!0})};c.prototype.YA=function(a,b){this.je?this.aB(a):this.sC(a,b)};c.prototype.GD=function(a){var b=this.Oc,d=!1;a=
a.F.Aa;for(var c in b){var h=b[c];if(h.$m()===m.al.zo&&(d=h.F.b.contains(a)))break}return d};c.prototype.JB=function(a){var b=this.Oc,d=!1;a.F.wq.iw(function(a){for(var c in b){var h=b[c];if(h.$m()===m.al.kt&&(d=a.$l(h.F.b)))break}return d});return d};c.prototype.eA=function(){new f(0,0,this.ac[0],this.ac[1]);for(var a=0,b=this.ke.length;a<b;a++){var d=this.ke[a];d.show&&(this.JB(d)?d.Eg():d.F.io||(this.GD(d)?d.F.io=!0:d.Eg()))}};return c});m(18,0,function(){var c=k(5);return{$:function(b,a){Object.defineProperty(b.prototype,
"__IS_NOT_INSTANCE__",{enumerable:!1,writable:!0});b.prototype.Bt=!0;a.prototype=new b;b.prototype.Bt=!1;a.prototype.constructor=a;Object.defineProperty(a.prototype,"classId",{enumerable:!1,writable:!0});c.Bb();a.prototype.parent=b.prototype},Va:function(b){return!b.Bt}}});m(19,0,function(){function c(a){var d=a.Hh().min(),h=a.z;this.coords=b.Da.j(d[0],d[1],0);this.size=c.py(h);this.Kb=a;this.id="tile-"+a.id;this.sb=c.Lf(a);this.Ox();this.modelMatrix=this.sb;this.tileKey=this.Kb}var b=k(3),a=k(11),
d=k(0),h=k(9);c.py=function(a){return Math.pow(2,-a)};c.Lf=function(a){a=a.kM();return c.UJ.apply(this,a)};c.UJ=function(a,h,e){var f=b.P.create();e=c.py(e)*d.pM;b.P.translate(f,f,b.Da.j(a,h,0));b.P.scale(f,f,b.Da.j(e,e,e));return f};c.prototype.Ox=function(){this.Lo=null;this.jj=[];this.Lu=[]};c.prototype.G=function(b){this.mC();if(void 0===b)return this.Lo;var d=this.jj.filter(function(a){return a.type===b}).map(function(a){return a.dn});return a.all(d)};c.prototype.gJ=function(a){for(var b=0,d=
this.jj.length;b<d;b++)if(this.jj[b].type===a)return!0;return!1};c.prototype.rv=function(a,b){this.jj.push({dn:a,type:b})};c.prototype.mC=function(){if(!this.Lo){var b=this.jj.map(function(a){return a.dn});this.Lo=a.all(b)}};c.prototype.hJ=function(a){return this.Lu[a]};c.prototype.hy=function(a){this.Lu[a]=!0;this.K(a+"-dependency-ready",a)};h.ba(c.prototype);c.prototype.deps=c.prototype.G;return c});m(20,0,function(){function c(d,c,h){b.Va(this)&&(this.element=c,this.id=h?h:a.Bb(),this.visible=
this.show=!1,this.ab=[],this.type=d,this.sa=this.kd=this.Ib=0,this.kv(),this.sf=!0)}var b=k(18),a=k(5),d=k(3);k(8);var h=k(0),f=k(19),e={};c.prototype.kv=function(){this.fC!==this.element.na.key.offset&&(this.Tu=!0,this.fC=this.element.na.key.offset,this.ic())};c.prototype.Ek=function(a){this.Oa=a};c.prototype.GK=function(a){this.ab.splice(this.ab.indexOf(a),1);this.visible=0!==this.ab.length};c.prototype.FH=function(){this.Vc=function(){return{id:this.id,Re:!0}};var a=!1;this.jk=function(){return a?
!1:a=!0};this.ic();this.lk()};c.prototype.Xv=function(){delete this.Vc;delete this.jk;this.ic()};c.prototype.Uu=function(a,b){if(this.ab.length){for(var d=this.ab.length-1,c=this.ab[d],h=0;h<d;h++)this.mu(this.ab[h],b);this.Oa.show(c,a)}};c.prototype.vn=function(){this.Uu(h.kr,h.Fm)};c.prototype.wn=function(){this.Uu(0,0)};c.prototype.mu=function(a,b){if(!a.KB){a.KB=!0;var d=this;this.Oa.Vd(a,b).then(function(){d.GK(a)})}};c.prototype.lk=function(){0<this.ab.length&&this.mu(this.ab[this.ab.length-
1],h.Fm)};c.prototype.um=function(){for(var a=this.ab.slice(),b=0,d=a.length;b<d;b++)this.Oa.Vd(a[b],0);this.ab=[];this.visible=!1};c.prototype.dm=function(){var a=this.element.fc,b=1E3,c=0,h;for(h in a)a=parseInt(h),b=Math.min(b,a),c=Math.max(c,a);this.Iv=d.g.j(b,c)};c.prototype.Mg=function(){this.Rk=e;this.Xv();this.ic()};c.prototype.Ns=function(){this.element.Xa&&this.Qk(this.element.Xa);this.kv()};c.prototype.Qk=function(){};c.prototype.zM=function(a){var b=a.position;this.Ya=(this.show=a.show)&&
a.Ya;this.show?(this.de(b),a.Oh?this.wn():this.vn(),this.visible=0!==this.ab.length):(this.Rk=e,this.lk())};c.prototype.xK=function(){this.show=!1};c.prototype.Eg=function(){this.show=!1;this.Ah&&(this.Oh=!1,delete this.Ah,delete this.No)};c.prototype.Fg=function(a,b){this.show=!0;a!==this.Ji&&(this.Ji=a,this.ic());this.Ya!==b.Ya&&(this.Ya=b.Ya,this.ic());this.Ah&&(this.No===this.Ji.Wa&&(this.Oh=!0,this.Ah.Oh=!0),delete this.Ah,delete this.No)};c.prototype.Ow=function(a){return a===this.Ah};c.prototype.ny=
function(a){if(a.Ji){var b=a.Ji.Wa;this.Dx(b);this.Ah=a;this.No=b}};c.prototype.Dx=function(){};c.prototype.Lk=function(a){return this.Rk.Wa!==a.Wa};c.prototype.de=function(a){this.Lk(a)?(this.Rk=a,a=this.fm(a),this.Oa.yf(a),this.ab.push(a)):this.xM(a)};c.prototype.xM=function(a){this.Fn(this.ab[this.ab.length-1],a)};c.prototype.Fn=function(){};c.prototype.od=function(a){a.id=this.id;a.type=this.type;a.Kb=this.element.na.key;a.Lc=this.element.fc;a.Ib=this.Ib;a.kd=""+this.kd;a.sa=this.sa;a.Ef=this.Ef;
return a};c.prototype.ic=function(){this.sf=!0};c.prototype.jk=function(){return this.sf};c.prototype.fJ=function(){return this.sf||this.IC!==this.show};c.prototype.aK=function(){this.IC=this.show;this.Oh=this.sf=!1};c.prototype.Vc=function(a){a.id=this.id;this.Tu&&(a.Rw=this.element.na.key.offset,this.Tu=!1);this.sf=!1;return a};c.create=function(){console.assert(!1)};c.prototype.Ed=function(a){this.Re=a.Re;if(void 0!==a.Rw){var b=this.element.na.key;b.offset=a.Rw;this.element.na.sb=f.Lf(b)}};c.prototype.$K=
function(){return this.ks(this.Ji)};c.prototype.us=function(){};return c});m(21,0,function(){function c(b,c,f,e){this.ob=a.I.create();this.ob[0]=b;this.ob[1]=c;this.ob[2]=f;this.ob[3]=e}function b(a,b,c,e){this.x=a;this.y=b;this.z=c;this.offset=e||0;this.As=a+"-"+b+"-"+c;this.id=this.As+":"+this.offset}var a=k(3);c.prototype.min=function(){return a.g.j(this.ob[0],this.ob[1])};c.prototype.max=function(){return a.g.j(this.ob[0]+this.ob[2],this.ob[1]+this.ob[3])};c.prototype.width=function(){return this.ob[2]};
c.prototype.height=function(){return this.ob[3]};c.prototype.Db=function(b,c){var d=a.I.j(this.ob[0],this.ob[1],0,1),h=a.I.j(this.ob[0]+this.ob[2],this.ob[1]+this.ob[3],0,1);a.I.Ka(d,d,c);a.I.Ka(h,h,c);d[0]/=d[3];d[1]/=d[3];h[0]/=h[3];h[1]/=h[3];this.ob[2]=.5*(h[0]-d[0])*b[0];this.ob[3]=.5*(h[1]-d[1])*b[1];this.ob[0]=.5*(d[0]+1)*b[0];this.ob[1]=.5*(d[1]+1)*b[1];return this};b.prototype.lx=function(){var a=1<<this.z,c=this.x,f=this.offset;f+=Math.floor(c/a);0>c?c=(c+1)%a-1+a:c>=a&&(c%=a);return new b(c,
this.y,this.z,f)};b.prototype.Aa=function(){var b=this.Hh(),c=b.min();b=b.max();return a.Da.j(.5*(c[0]+b[0]),.5*(c[1]+b[1]),this.z)};b.prototype.Hh=function(){var a=1<<this.z,b=1/a;return new c(this.x*b+this.offset,(a-1-this.y)*b,b,b)};b.prototype.kM=function(){var a=this.Hh().min();return[a[0],a[1],this.z]};return b});m(22,0,function(){function c(a,c,h){b.Va(this)&&(d.prototype.constructor.call(this,a,c,h),this.Zd=[],this.xh=[],this.padding=0,this.Am(),this.J=m.g.j(0,0))}var b=k(18),a=k(4).global,
d=k(20),h=k(8),f=k(7),e=k(19),t=k(21),m=k(3),g=k(0);b.$(d,c);c.prototype.Xq=function(){return!1};c.prototype.Am=function(){this.Xt=!0;this.ic()};c.prototype.vA=function(a){if(!this.Xt)return this.Cl;if(this.Xq())return this.Cl=this.jH(a);for(var b=0,d=0,c=this.Zd.length;d<c;d++)for(var h=this.Zd[d],f=this.ow(h.position,h.ii,a),e=0,n=f.length;e<n;e++){var k=f[e];k.sx=h;this.xh[b++]=k}this.Cl=this.xh;this.Xt=!1;return this.Cl};c.prototype.Ik=function(a,b){if(this.J[0]!==a||this.J[1]!==b)this.J[0]=a,
this.J[1]=b,this.Am()};c.prototype.ow=function(a,b,d){for(var c=Array(b.length),h=0,f=b.length;h<f;h++){var e=this.sA(a,b[h]);e.yS=m.g.j(e.origin[0]*d,e.origin[1]*d);c[h]=e}return c};c.prototype.sA=function(b,d){switch(d){case a.jh:var c={Wa:d,origin:b,offset:m.g.j(-this.J[0],.5*this.J[1])};break;case a.kh:c={Wa:d,origin:b,offset:m.g.j(0,.5*this.J[1])};break;case a.lh:c={Wa:d,origin:b,offset:m.g.j(.5*-this.J[0],this.J[1])};break;case a.jg:case a.Ti:c={Wa:d,origin:b,offset:m.g.j(.5*-this.J[0],0)};
break;case a.df:c={Wa:d,origin:b,offset:m.g.j(.5*-this.J[0],.5*this.J[1])};break;case a.Ui:c={Wa:d,origin:b,offset:m.g.j(-this.J[0],this.J[1])};break;case a.Vi:c={Wa:d,origin:b,offset:m.g.j(0,this.J[1])};break;case a.Si:c={Wa:d,origin:b,offset:m.g.j(0,0)};break;case a.Ri:c={Wa:d,origin:b,offset:m.g.j(-this.J[0],0)}}b=this.Ux(c);m.g.add(c.offset,c.offset,b);c.De=m.I.create();return c};c.prototype.Ux=function(){var a=m.g.j(0,0);return function(){return a}}();c.prototype.yd=function(b,d){d=d||[a.df];
this.Zd.push({position:b,ii:d});this.xh=Array(d.length);this.Am()};c.prototype.vw=function(a,b,d,c){d=this.vA(c);a=m.P.multiply(m.P.create(),a,this.element.na.sb);c=0;for(var h=d.length;c<h;c++){var f=d[c],e=f.origin,n=f.De;m.I.set(n,e[0],e[1],0,1);m.I.Ka(n,n,a);m.I.scale(n,n,1/n[3]);n[0]=b[0]*(n[0]+1)*.5;n[1]=b[1]*(n[1]+1)*.5;f.De=n}return d};c.prototype.fk=function(a){return[(new f.lo(a.De[0]+a.offset[0],a.De[1]+a.offset[1]-this.J[1],this.J[0],this.J[1])).br(-this.padding,-this.padding)]};c.prototype.jD=
function(a){var b=a.sx,d=this.Zd.indexOf(b);-1!==d&&(this.Zd.splice(d,1),this.Zd.unshift(b),b=b.ii,d=a.Wa,b.splice(b.indexOf(d),1),b.unshift(d),this.xh.splice(this.xh.indexOf(a),1),this.xh.unshift(a))};c.prototype.Fg=function(a){d.prototype.Fg.apply(this,arguments);this.Xq||this.jD(a)};c.prototype.fm=function(a){return{position:a.origin,offset:a.offset}};c.prototype.Fn=function(a,b){a.offset=b.offset};c.prototype.od=function(a){a=a||{};a.sr=this.Zd;return d.prototype.od.call(this,a)};c.prototype.Vc=
function(a){a=a||{};a.J=this.J;return d.prototype.Vc.call(this,a)};c.create=function(a,b){var d=a.Kb;d=new t(d.x,d.y,d.z,d.offset);d={fc:a.Lc,na:{key:d,sb:e.Lf(d)}};b=new c(b,d,a.id);b.dm();a=a.sr;d=0;for(var h=a.length;d<h;d++){var f=a[d];b.yd(f.position,f.ii)}return b};c.prototype.Ed=function(a){this.Ik(a.J[0],a.J[1]);d.prototype.Ed.apply(this,arguments)};c.prototype.ks=function(a){return a.De};c.prototype.us=function(a){this.Dh=m.g.j(g.gx,g.Dr);for(var b in this.element.fc)if(a[this.element.fc[b]].visible){var d=
parseInt(b);this.Dh[0]>d&&(this.Dh[0]=d);this.Dh[1]<d&&(this.Dh[1]=d)}};c.prototype.sm=function(a){var b={Kc:a.Kc,visible:a.visible,Ya:!0,Wb:this.Dh[0],xe:this.Dh[1],gc:a.gc};this.type===h.cl&&(b.Wb=a.ti,b.xe=g.gx);return b};return c});m(23,0,function(){function c(b,c){this.Ra=d.j(b[0],b[1],0,1);this.cb=d.j(c[0],c[1],0,1);this.Yo=a.zf(b,c)}var b=k(1),a=b.g,d=b.I;c.prototype.clone=function(){return new c(a.clone(this.Ra),a.clone(this.cb))};c.prototype.If=function(a,b){this.Ra=d.j(a[0],a[1],0,1);this.cb=
d.j(b[0],b[1],0,1)};c.prototype.length=function(a){return a*this.Yo};c.prototype.Ka=function(a){var b=d.Ka(d.create(),this.Ra,a);a=d.Ka(d.create(),this.cb,a);d.scale(b,b,1/b[3]);d.scale(a,a,1/a[3]);return new c(b,a)};c.prototype.Or=function(){return function(b,d,c){b=this.length(c)-.5*d+b;d=b/this.Yo;b=a.sub(a.create(),this.cb,this.Ra);d=a.js(a.create(),this.Ra,b,d);a.normalize(b,b);c=a.j(-b[1],b[0]);return{gM:b,position:d,kx:c}}}();c.prototype.Db=function(b,d){b=this.Ka(b);var c=b.Ra,h=b.cb,f=d[0];
d=d[1];c[0]=f*(c[0]+1)*.5;c[1]=d*(c[1]+1)*.5;h[0]=f*(h[0]+1)*.5;h[1]=d*(h[1]+1)*.5;b.Yo=a.zf(c,h);return b};c.prototype.scale=function(a){var b=this.clone(),c=b.Ra,h=b.cb;d.scale(c,c,a);d.scale(h,h,a);return b};c.prototype.Kw=function(){this.If(this.cb,this.Ra)};c.prototype.direction=function(){return a.sub(a.create(),this.cb,this.Ra)};c.prototype.Pw=function(){return!0};return c});m(24,0,function(){function c(d,c,h){b.Va(this)&&(a.prototype.constructor.call(this,h,d,c),this.padding=this.Wd=0)}var b=
k(18),a=k(22),d=k(8),h=k(21),f=k(19);b.$(a,c);c.prototype.ms=function(a){this.Sj=a};c.prototype.Bs=function(a){return 1E-4>a.Rd};c.prototype.Qk=function(a){if(this.Bs(a))this.FH();else{this.Xv();if(this.Sj){var b=this.Sj.Fv(a);this.caption!==b&&(this.ic(),this.caption=b);this.caption.jy(a.Rd);b=this.caption.J;this.Ik(b[0],b[1]);this.padding!==a.padding&&(this.padding=a.padding,this.ic())}this.Wd!==a.Wd&&(this.Wd=a.Wd,this.ic())}};c.prototype.Fg=function(b){var d=this.Ya;a.prototype.Fg.apply(this,
arguments);this.Ya=this.Ya&&0!==this.J[0]&&0!==this.J[1];d!==this.Ya&&this.ic()};c.prototype.Dx=function(a){this.Zd.forEach(function(b){b=b.ii;var d=b.indexOf(a);-1!==d&&(b.splice(d,1),b.unshift(a))})};c.prototype.de=function(b){if(this.Sj)return b.caption=this.caption,a.prototype.de.apply(this,arguments)};c.prototype.Lk=function(b){return a.prototype.Lk.apply(this,arguments)||b.caption!==this.Rk.caption};c.prototype.fm=function(b){var d=a.prototype.fm.apply(this,arguments),c=b.caption;c.Tw(b.Wa);
d.caption=c;return d};c.prototype.Fn=function(a,b){a.caption.Tw(b.Wa)};c.prototype.Vc=function(b){b=b||{};b.padding=this.padding;b.Wd=this.Wd;return a.prototype.Vc.call(this,b)};c.prototype.Ed=function(b){this.padding=b.padding;this.Wd=b.Wd;a.prototype.Ed.apply(this,arguments)};c.create=function(a){var b=a.Kb;b=new h(b.x,b.y,b.z,b.offset);b={fc:a.Lc,na:{key:b,sb:f.Lf(b)}};b=new c(b,a.id,d.u);b.dm();a=a.sr;for(var e=0,n=a.length;e<n;e++){var k=a[e];b.yd(k.position,k.ii)}return b};c.prototype.od=function(){return a.prototype.od.apply(this,
arguments)};return c});m(25,0,function(){function c(b,d){var c=a.g.clone(b.Ra),e=a.g.clone(b.cb),n=a.g.clone(b.jd);b=a.g.clone(b.Sc);a.g.scale(c,c,d);a.g.scale(e,e,d);a.g.scale(n,n,d);a.g.scale(b,b,d);return a.g.yc(c,e)&&a.g.yc(e,n)&&a.g.yc(n,b)?null:a.g.yc(c,e)&&a.g.yc(n,b)?new f(c,n):new h(c,e,n,b)}function b(b,d,h,f){e.prototype.constructor.call(this,v.qo,b,f);this.nE=d;f=Object.keys(d).map(function(a){return parseInt(a)});b=Math.min.apply(null,f);f=Math.max.apply(null,f);this.nv=Array(f-b+1);
for(var n=null,k=b;k<=f;k++){var m=d[k];m&&(n=c(m,h)||n);this.nv[k-b]=n}this.Wb=b;this.xe=f;this.J=a.g.create();this.Gu=null}var a=k(3),d=k(18),h=k(2),f=k(23),e=k(20),m=k(24),g=k(7),v=k(8),p=k(21),q=k(19),l=k(0);d.$(e,b);b.prototype.ms=function(a){this.Sj=a};b.prototype.hu=function(b){return this.nv[a.Wl(Math.floor(b),this.Wb,this.xe)-this.Wb]};b.prototype.Mg=function(){m.prototype.Mg.apply(this,arguments)};b.prototype.vw=function(b,d,c,h){var f=a.P.multiply(a.P.create(),b,this.element.na.sb);b=Math.floor(c);
c=this.hu(b);if(!c)return[];d=c.Db(f,d);h=c.scale(h);0>d.direction()[0]&&d.Kw();this.Gu===c&&this.Iu.Wa===b?(h=this.Iu,h.Es=d):this.Iu=h={zoom:b,Wa:b,t:0,Es:d,xS:h};this.Gu=c;return[h]};b.prototype.Qk=function(a){var b=this.Sj.Fv(a);this.caption!==b&&(this.ic(),this.caption=b);this.caption.jy(a.Rd);b=this.caption.J;if(b[0]!==this.J[0]||b[1]!==this.J[1])this.J[0]=this.caption.J[0],this.J[1]=this.caption.J[1],this.ic();this.padding!==a.padding&&(this.padding=a.padding,this.ic())};var r=.5*Math.sqrt(2);
b.prototype.fk=function(a){var b=a.Es;if(b.length(1)<this.J[0])return[];var d=.5*(this.J[1]+this.padding);a=b.length(a.t)+r*d;for(var c=d*Math.SQRT2,h=this.J[0]/c,f=[],e=0;e<h;e++){var n=b.Or(a,this.J[0],l.oq).position;a+=c;n=new g.at(n,d);f.push(n)}return f};b.prototype.de=function(a){a.caption=this.caption;return e.prototype.de.apply(this,arguments)};b.prototype.Fg=function(a){e.prototype.Fg.apply(this,arguments)};b.prototype.Lk=function(a){return e.prototype.Lk.apply(this,arguments)||a.caption!==
this.Rk.caption};b.prototype.fm=function(b){var d=this.hu(b.zoom),c=b.caption;c.Sw();return{curve:d,offset:a.g.j(0,0),t:b.t,caption:c}};b.prototype.Fn=function(a){a.caption.Sw()};b.prototype.od=function(a){a=a||{};a.JM=this.nE;return e.prototype.od.call(this,a)};b.create=function(a,d,c){d=a.Kb;var h=new p(d.x,d.y,d.z,d.offset);d=a.JM;h={fc:a.Lc,na:{key:h,sb:q.Lf(h)}};a=new b(h,d,c,a.id);a.dm();return a};b.prototype.Vc=function(a){a=a||{};a.J=this.J;a.padding=this.padding;return e.prototype.Vc.call(this,
a)};b.prototype.Ed=function(a){this.J[0]=a.J[0];this.J[1]=a.J[1];this.padding=a.padding;e.prototype.Ed.apply(this,arguments)};b.prototype.ks=function(a){return a.Es.Or(.5*this.J[0],this.J[0],l.oq).position};b.prototype.us=function(b){this.Ch=a.g.j(this.Wb,this.xe);for(var d in this.element.fc)if(b[this.element.fc[d]].Ya){var c=parseInt(d);this.Ch[0]>c&&(this.Ch[0]=c);this.Ch[1]<c&&(this.Ch[1]=c)}};b.prototype.sm=function(a){return{Kc:a.Kc,visible:a.visible,Ya:!0,Wb:Math.max(this.Ch[0],a.mi),xe:this.Ch[1],
gc:a.gc}};return b});m(26,0,function(){function c(a,b,c){d.prototype.constructor.call(this,a,b,h.qc,c);this.Ip=!1;this.ya=[-1,-1]}var b=k(3),a=k(18),d=k(24),h=k(8),f=k(21),e=k(19),m=k(7);k(5);var g=k(0),v=k(4).global;a.$(d,c);c.prototype.Bs=function(){return this.Ip&&d.prototype.Bs.apply(this,arguments)};c.prototype.wp=function(a){if(this.ya[0]!==a[0]||this.ya[1]!==a[1])this.ya[0]=a[0],this.ya[1]=a[1],this.Ip=0===this.ya[0]||0===this.ya[1],this.Am()};c.prototype.Ek=function(a){d.prototype.Ek.apply(this,
arguments);this.Oa.yf(this.element.zc)};c.prototype.hv=function(){this.wp(this.element.zc.Ff())};c.prototype.Mg=function(){this.hv();d.prototype.Mg.apply(this,arguments)};c.prototype.Ns=function(){this.hv();d.prototype.Ns.apply(this,arguments)};c.prototype.yd=function(a,b){b=b||[v.jg,v.lh,v.jh,v.kh];d.prototype.yd.call(this,a,b)};c.prototype.Xq=function(){return this.Ip};c.prototype.jH=function(a){for(var b=Array(this.Zd.length),d=0,c=0,h=this.Zd.length;c<h;c++)for(var f=this.Zd[c],e=this.ow(f.position,
[v.df],a),n=0,k=e.length;n<k;n++){var m=e[n];m.sx=f;b[d++]=m}return b};var p=.5*Math.sqrt(2);c.prototype.Ux=function(a){var d=b.g.create();switch(a.Wa){case v.Ui:d[0]=p*-this.ya[0]*.5;d[1]=p*this.ya[1]*.5;break;case v.Vi:d[0]=p*this.ya[0]*.5;d[1]=p*this.ya[1]*.5;break;case v.Si:d[0]=p*this.ya[0]*.5;d[1]=p*-this.ya[1]*.5;break;case v.Ri:d[0]=p*-this.ya[0]*.5;d[1]=p*-this.ya[1]*.5;break;case v.jg:d[1]=.5*-this.ya[1];break;case v.kh:d[0]=.5*this.ya[0];break;case v.jh:d[0]=.5*-this.ya[0];break;case v.lh:d[1]=
.5*this.ya[1];break;case v.Ti:console.assert(!1)}return d};c.prototype.fk=function(a,b){var c=b.Ya?d.prototype.fk.apply(this,arguments):[];var h=new m.lo(a.De[0]-.5*this.ya[0],a.De[1]-.5*this.ya[1],this.ya[0],this.ya[1]);c.push(h);return c};c.prototype.sm=function(a){var b=d.prototype.sm.apply(this,arguments);b.Ya=a.Ya;return b};c.prototype.de=function(a){d.prototype.de.apply(this,arguments);var b=this.element.zc;b&&b.de(a)};c.prototype.wn=function(){d.prototype.wn.apply(this,arguments);var a=this.element.zc;
a&&this.Oa.show(a,0)};c.prototype.vn=function(){d.prototype.vn.apply(this,arguments);var a=this.element.zc;a&&this.Oa.show(a,g.kr)};c.prototype.lu=function(a){var b=this.element.zc;b&&this.Oa.Vd(b,a)};c.prototype.lk=function(){d.prototype.lk.apply(this,arguments);this.lu(g.Fm)};c.prototype.um=function(){d.prototype.um.apply(this,arguments);this.lu(0)};c.prototype.od=function(a){a=a||{};a.Ff=this.ya;return d.prototype.od.call(this,a)};c.create=function(a){var b=a.Kb;b=new f(b.x,b.y,b.z,b.offset);b=
{fc:a.Lc,na:{key:b,sb:e.Lf(b)}};b=new c(b,a.id);b.dm();for(var d=a.sr,h=0,n=d.length;h<n;h++){var k=d[h];b.yd(k.position,k.ii)}b.wp(a.Ff);return b};c.prototype.Vc=function(a){a=a||{};a.Ff=this.ya;return d.prototype.Vc.call(this,a)};c.prototype.Ed=function(a){this.wp(a.Ff);d.prototype.Ed.apply(this,arguments)};return c});m(27,0,function(){function c(b){a.prototype.constructor.call(this,d.mo,b,f.Bb());this.Ht=0}var b=k(18),a=k(22),d=k(8),h=k(4).global,f=k(5),e=k(0),m=k(7);b.$(a,c);c.prototype.yd=function(b){a.prototype.yd.call(this,
b,[h.df])};c.prototype.Mg=function(){var b=this.element.zc.icon;this.Ht=b.width/b.height;this.Qk(this.element.Xa);a.prototype.Mg.apply(this,arguments)};c.prototype.Ff=function(){return this.J};c.prototype.Qk=function(a){this.Ik(a.height*this.Ht,a.height)};c.prototype.Ek=function(b){a.prototype.Ek.apply(this,arguments);this.Oa.yf(this.element.zc)};c.prototype.de=function(){};c.prototype.vn=function(){this.Oa.show(this.element.zc,e.kr)};c.prototype.wn=function(){};c.prototype.nu=function(a){this.Oa.Vd(this.element.zc,
a)};c.prototype.lk=function(){this.nu(e.Fm)};c.prototype.um=function(){this.nu(0)};c.prototype.od=function(){var b={};b.J=this.J;return a.prototype.od.call(this,b)};c.create=function(b){var d=a.create.apply(this,arguments);d.Ik(b.J[0],b.J[1]);d.fk=function(a){return[new m.at([a.De[0],a.De[1]],this.J[0])]};return d};return c});m(28,0,function(){function c(){this.Ue={};this.Ue[m.u]=f.create;this.Ue[m.cl]=a.create;this.Ue[m.mo]=e.create;this.Ue[m.qc]=h.create;this.Ue[m.qo]=d.create;this.Ue[m.dt]=a.create;
this.labels={};this.ac=[0,0]}var b=k(17),a=k(22),d=k(25),h=k(26),f=k(24),e=k(27),m=k(8),g=k(10),v=k(3);c.prototype.rb=function(a,d,c){this.re=new b(a,d,c);this.kc=d;this.yb=1/d};c.prototype.Ce=function(a){this.re.Ce(a)};c.prototype.Tg=function(a){this.re.Tg(a)};c.prototype.Ug=function(a){for(var b=0,d=a.length;b<d;b++){var c=a[b],h=this.Ue[c.type](c,c.type,this.yb);h.Ib=c.Ib;h.kd=c.kd;h.sa=c.sa;h.Ef=c.Ef;this.labels[h.id]=h;this.re.FK(h)}};c.prototype.$f=function(a){for(var b=0,d=a.length;b<d;b++){var c=
a[b],h=this.labels[c];delete this.labels[c];this.re.vM(h)}};c.prototype.Gp=function(a){var b=this.re.Oc;a.forEach(function(a){b[a.id].Ed(a)})};c.prototype.$D=function(a,b,d,c,h,f){b=v.P.clone(b);d=v.g.clone(d);if(d[0]!==this.ac[0]||d[1]!==this.ac[1])this.ac=d,this.re.resize(d);var e;var n=0;for(e=a.length;n<e;n++){var k=a[n];var m=this.labels[k.id];m.Re=k.Re;m.Re||m.Ed(k)}this.re.update(d,b,c,h,f);a=[];for(n in this.labels)m=this.labels[n],m.fJ()&&(b={id:n,show:m.show},m.show&&(b.Ya=m.Ya),m.Oh&&(b.Oh=
!0),m.show&&(d=m.Ji,b.position={Wa:d.Wa},d.origin&&(b.position.origin=d.origin),d.offset&&(b.position.offset=d.offset),"number"===typeof d.zoom&&(b.position.zoom=d.zoom)),m.aK(),a.push(b));return a};c.prototype.pi=function(a){this.re.pi(a)};c.prototype.update=function(a,b,d,c,h,f,e){this.Gp(b,d);return this.$D(a,d,c,h,f,e)};c.prototype.Xr=function(a){for(var b=0,d=a.length;b<d;b++){var c=g.create(a[b]);this.re.Qf(c)}};c.prototype.Ms=function(a){for(var b=0,d=a.length;b<d;b++)this.re.Zf(a[b])};var p=
{};c.rb=function(a,b,d,h){var f=new c;p[a]=f;f.rb(b,d,h)};c.Ce=function(a,b){p[a].Ce(b)};c.Ug=function(a,b){p[a].Ug(b)};c.$f=function(a,b){p[a].$f(b)};c.Tg=function(a,b){p[a].Tg(b)};c.Xr=function(a,b){p[a].Xr(b)};c.Ms=function(a,b){p[a].Ms(b)};c.update=function(a,b,d,c,h,f,e,n){return p[a].update(b,d,c,h,f,e,n)};c.pi=function(a,b){p[a].pi(b)};return c});m(29,0,function(){return function(){var c={};(function(b){b=b||{};b.a=b.a||{};b.a.Ea=function(){this.b=null;this.c=0};b.a.Ea.prototype.i=function(a,
b){this.c=a;this.b=b;return this};b.a.Ea.sQ=function(a,d){return(d||new b.a.Ea).i(a.U(a.position())+a.position(),a)};b.a.Ea.prototype.offset=function(){var a=this.b.f(this.c,4);return a?this.b.Xb(this.c+a):0};b.a.Ea.prototype.count=function(){var a=this.b.f(this.c,6);return a?this.b.Xb(this.c+a):0};b.a.Ea.prototype.qd=function(){var a=this.b.f(this.c,8);return a?this.b.B(this.c+a):0};b.a.Ea.prototype.Sa=function(a,d){var c=this.b.f(this.c,10);return c?(d||new b.a.Nb).i(this.b.Na(this.b.N(this.c+c)+
4*a),this.b):null};b.a.Ea.prototype.Xf=function(){var a=this.b.f(this.c,10);return a?this.b.ha(this.c+a):0};b.a.Ea.tL=function(a){a.va(4)};b.a.Ea.za=function(a,b){a.bd(0,b)};b.a.Ea.Up=function(a,b){a.bd(1,b)};b.a.Ea.Nj=function(a,b){a.ca(2,b,0)};b.a.Ea.Md=function(a,b){a.w(3,b)};b.a.Ea.Wj=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.Ea.Nk=function(a,b){a.l(4,b,4)};b.a.Ea.RH=function(a){return a.ra()};b.a.Ea.AO=function(a,d,c,f,e){b.a.Ea.tL(a);b.a.Ea.za(a,
d);b.a.Ea.Up(a,c);b.a.Ea.Nj(a,f);b.a.Ea.Md(a,e);return b.a.Ea.RH(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.da=function(){this.b=null;this.c=0};b.a.da.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.da.vQ=function(a,d){return(d||new b.a.da).i(a.U(a.position())+a.position(),a)};b.a.da.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.da.prototype.Kc=function(){var a=this.b.f(this.c,6);return a?this.b.U(this.c+a):0};b.a.da.prototype.mi=
function(){var a=this.b.f(this.c,8);return a?this.b.ia(this.c+a):0};b.a.da.prototype.ti=function(){var a=this.b.f(this.c,10);return a?this.b.ia(this.c+a):0};b.a.da.prototype.am=function(){var a=this.b.f(this.c,12);return a?this.b.B(this.c+a):0};b.a.da.prototype.gc=function(){var a=this.b.f(this.c,14);return a?this.b.B(this.c+a):0};b.a.da.prototype.Im=function(){var a=this.b.f(this.c,16);return a?this.b.B(this.c+a):0};b.a.da.prototype.qn=function(){var a=this.b.f(this.c,18);return a?!!this.b.Tc(this.c+
a):!1};b.a.da.prototype.Ya=function(){var a=this.b.f(this.c,20);return a?!!this.b.Tc(this.c+a):!1};b.a.da.prototype.visible=function(){var a=this.b.f(this.c,22);return a?!!this.b.Tc(this.c+a):!1};b.a.da.wL=function(a){a.va(10)};b.a.da.Hb=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.da.CE=function(a,b){a.bd(1,b)};b.a.da.dG=function(a,b){a.Qa(2,b)};b.a.da.lG=function(a,b){a.Qa(3,b)};b.a.da.BE=function(a,b){a.ca(4,b,0)};b.a.da.KE=function(a,b){a.ca(5,b,0)};b.a.da.Eh=function(a,b){a.ca(6,b,0)};b.a.da.iG=function(a,
b){a.ca(7,+b,0)};b.a.da.BG=function(a,b){a.ca(8,+b,0)};b.a.da.Oj=function(a,b){a.ca(9,+b,0)};b.a.da.UH=function(a){return a.ra()};b.a.da.EO=function(a,d,c,f,e,k,m,g,p,q,l){b.a.da.wL(a);b.a.da.Hb(a,d);b.a.da.CE(a,c);b.a.da.dG(a,f);b.a.da.lG(a,e);b.a.da.BE(a,k);b.a.da.KE(a,m);b.a.da.Eh(a,g);b.a.da.iG(a,p);b.a.da.BG(a,q);b.a.da.Oj(a,l);return b.a.da.UH(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.mc=function(){this.b=null;this.c=0};b.a.mc.prototype.i=function(a,b){this.c=a;this.b=b;return this};
b.a.mc.qQ=function(a,d){return(d||new b.a.mc).i(a.U(a.position())+a.position(),a)};b.a.mc.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.Tc(this.c+a):0};b.a.mc.prototype.value=function(a){var b=this.b.f(this.c,6);return b?this.b.kf(this.c+b,a):null};b.a.mc.rL=function(a){a.va(2)};b.a.mc.Hb=function(a,b){a.ca(0,b,0)};b.a.mc.JG=function(a,b){a.w(1,b)};b.a.mc.PH=function(a){return a.ra()};b.a.mc.yO=function(a,d,c){b.a.mc.rL(a);b.a.mc.Hb(a,d);b.a.mc.JG(a,c);return b.a.mc.PH(a)};b.a.Tb=
function(){this.b=null;this.c=0};b.a.Tb.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Tb.pQ=function(a,d){return(d||new b.a.Tb).i(a.U(a.position())+a.position(),a)};b.a.Tb.prototype.data=function(a){var b=this.b.f(this.c,4);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.Tb.prototype.Aq=function(){var a=this.b.f(this.c,4);return a?new Uint8Array(this.b.Ga.buffer,this.b.Ga.byteOffset+this.b.N(this.c+a),this.b.ha(this.c+a)):null};b.a.Tb.qL=function(a){a.va(1)};b.a.Tb.Vp=function(a,b){a.w(0,
b)};b.a.Tb.OO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.Tb.PR=function(a,b){a.l(1,b,1)};b.a.Tb.OH=function(a){return a.ra()};b.a.Tb.xO=function(a,d){b.a.Tb.qL(a);b.a.Tb.Vp(a,d);return b.a.Tb.OH(a)};b.a.oc=function(){this.b=null;this.c=0};b.a.oc.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.oc.BQ=function(a,d){return(d||new b.a.oc).i(a.U(a.position())+a.position(),a)};b.a.oc.prototype.key=function(a){var b=this.b.f(this.c,4);return b?
this.b.kf(this.c+b,a):null};b.a.oc.EL=function(a){a.va(2)};b.a.oc.Hb=function(a,b){a.w(0,b)};b.a.oc.qE=function(a,b){a.w(1,b)};b.a.oc.rO=function(a,b){a.l(2,b.length,2);for(var d=b.length-1;0<=d;d--)a.vf(b[d]);return a.T()};b.a.oc.CR=function(a,b){a.l(2,b,2)};b.a.oc.aI=function(a){return a.ra()};b.a.oc.eP=function(a,d,c){b.a.oc.EL(a);b.a.oc.Hb(a,d);b.a.oc.qE(a,c);return b.a.oc.aI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.Ma=function(){this.b=null;this.c=0};b.a.Ma.prototype.i=function(a,
b){this.c=a;this.b=b;return this};b.a.Ma.IQ=function(a,d){return(d||new b.a.Ma).i(a.U(a.position())+a.position(),a)};b.a.Ma.prototype.Od=function(a,d){var c=this.b.f(this.c,4);return c?(d||new b.a.Tb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.Ma.prototype.YG=function(){var a=this.b.f(this.c,4);return a?this.b.ha(this.c+a):0};b.a.Ma.prototype.$b=function(a,d){var c=this.b.f(this.c,6);return c?(d||new b.a.wb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.Ma.prototype.iM=function(){var a=
this.b.f(this.c,6);return a?this.b.ha(this.c+a):0};b.a.Ma.prototype.Lh=function(a,d){var c=this.b.f(this.c,8);return c?(d||new b.a.Tb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.Ma.prototype.vH=function(){var a=this.b.f(this.c,8);return a?this.b.ha(this.c+a):0};b.a.Ma.OL=function(a){a.va(3)};b.a.Ma.tE=function(a,b){a.w(0,b)};b.a.Ma.uO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.Ma.FR=function(a,b){a.l(4,b,4)};b.a.Ma.CG=function(a,b){a.w(1,
b)};b.a.Ma.RP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.Ma.rS=function(a,b){a.l(4,b,4)};b.a.Ma.JE=function(a,b){a.w(2,b)};b.a.Ma.MO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.Ma.OR=function(a,b){a.l(4,b,4)};b.a.Ma.iI=function(a){return a.ra()};b.a.Ma.zP=function(a,d,c,f){b.a.Ma.OL(a);b.a.Ma.tE(a,d);b.a.Ma.CG(a,c);b.a.Ma.JE(a,f);return b.a.Ma.iI(a)};b.a.A=function(){this.b=null;this.c=0};b.a.A.prototype.i=
function(a,b){this.c=a;this.b=b;return this};b.a.A.XI=function(a){return(new b.a.A).i(a.U(a.position())+a.position(),a)};b.a.A.prototype.version=function(a){var b=this.b.f(this.c,4);return b?this.b.kf(this.c+b,a):null};b.a.A.prototype.Dd=function(a){var d=this.b.f(this.c,6);return d?(a||new b.a.Ma).i(this.b.Na(this.c+d),this.b):null};b.a.A.prototype.Sa=function(a,d){var c=this.b.f(this.c,8);return c?(d||new b.a.sc).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.Xf=function(){var a=
this.b.f(this.c,8);return a?this.b.ha(this.c+a):0};b.a.A.prototype.oi=function(a,d){var c=this.b.f(this.c,10);return c?(d||new b.a.V).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.TK=function(){var a=this.b.f(this.c,10);return a?this.b.ha(this.c+a):0};b.a.A.prototype.Ck=function(a,d){var c=this.b.f(this.c,12);return c?(d||new b.a.ka).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.QK=function(){var a=this.b.f(this.c,12);return a?this.b.ha(this.c+a):0};b.a.A.prototype.ji=
function(a,d){var c=this.b.f(this.c,14);return c?(d||new b.a.S).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.sK=function(){var a=this.b.f(this.c,14);return a?this.b.ha(this.c+a):0};b.a.A.prototype.Zl=function(a,d){var c=this.b.f(this.c,16);return c?(d||new b.a.Ea).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.fH=function(){var a=this.b.f(this.c,16);return a?this.b.ha(this.c+a):0};b.a.A.prototype.Yg=function(a,d){var c=this.b.f(this.c,18);return c?(d||new b.a.O).i(this.b.Na(this.b.N(this.c+
c)+4*a),this.b):null};b.a.A.prototype.mL=function(){var a=this.b.f(this.c,18);return a?this.b.ha(this.c+a):0};b.a.A.prototype.bf=function(a,d){var c=this.b.f(this.c,20);return c?(d||new b.a.u).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.hM=function(){var a=this.b.f(this.c,20);return a?this.b.ha(this.c+a):0};b.a.A.prototype.Lc=function(a,d){var c=this.b.f(this.c,22);return c?(d||new b.a.da).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.hH=function(){var a=
this.b.f(this.c,22);return a?this.b.ha(this.c+a):0};b.a.A.prototype.Bd=function(a){var d=this.b.f(this.c,24);return d?(a||new b.a.Ab).i(this.b.Na(this.c+d),this.b):null};b.a.A.prototype.Kh=function(a,d){var c=this.b.f(this.c,26);return c?(d||new b.a.vb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.A.prototype.uH=function(){var a=this.b.f(this.c,26);return a?this.b.ha(this.c+a):0};b.a.A.BL=function(a){a.va(12)};b.a.A.fq=function(a,b){a.w(0,b)};b.a.A.aG=function(a,b){a.w(1,b)};b.a.A.Md=function(a,
b){a.w(2,b)};b.a.A.Wj=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.Nk=function(a,b){a.l(4,b,4)};b.a.A.fG=function(a,b){a.w(3,b)};b.a.A.HP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.lS=function(a,b){a.l(4,b,4)};b.a.A.cG=function(a,b){a.w(4,b)};b.a.A.EP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.jS=function(a,b){a.l(4,b,4)};b.a.A.YF=function(a,b){a.w(5,
b)};b.a.A.xP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.hS=function(a,b){a.l(4,b,4)};b.a.A.zE=function(a,b){a.w(6,b)};b.a.A.CO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.IR=function(a,b){a.l(4,b,4)};b.a.A.mG=function(a,b){a.w(7,b)};b.a.A.JP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.mS=function(a,b){a.l(4,b,4)};b.a.A.AG=function(a,b){a.w(8,b)};b.a.A.QP=
function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.qS=function(a,b){a.l(4,b,4)};b.a.A.DE=function(a,b){a.w(9,b)};b.a.A.FO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.JR=function(a,b){a.l(4,b,4)};b.a.A.Zp=function(a,b){a.w(10,b)};b.a.A.HE=function(a,b){a.w(11,b)};b.a.A.LO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.A.NR=function(a,b){a.l(4,b,4)};b.a.A.YH=function(a){return a.ra()};
b.a.A.$O=function(a,d,c,f,e,k,m,g,p,q,l,r,I){b.a.A.BL(a);b.a.A.fq(a,d);b.a.A.aG(a,c);b.a.A.Md(a,f);b.a.A.fG(a,e);b.a.A.cG(a,k);b.a.A.YF(a,m);b.a.A.zE(a,g);b.a.A.mG(a,p);b.a.A.AG(a,q);b.a.A.DE(a,l);b.a.A.Zp(a,r);b.a.A.HE(a,I);return b.a.A.YH(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.Ab=function(){this.b=null;this.c=0};b.a.Ab.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Ab.AQ=function(a,d){return(d||new b.a.Ab).i(a.U(a.position())+a.position(),a)};b.a.Ab.prototype.xm=function(a,
d){var c=this.b.f(this.c,4);return c?(d||new b.a.Xi).i(this.b.N(this.c+c)+16*a,this.b):null};b.a.Ab.prototype.oJ=function(){var a=this.b.f(this.c,4);return a?this.b.ha(this.c+a):0};b.a.Ab.prototype.Sa=function(a,d){var c=this.b.f(this.c,6);return c?(d||new b.a.Fc).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.Ab.prototype.Xf=function(){var a=this.b.f(this.c,6);return a?this.b.ha(this.c+a):0};b.a.Ab.DL=function(a){a.va(2)};b.a.Ab.gF=function(a,b){a.w(0,b)};b.a.Ab.XR=function(a,b){a.l(16,b,
8)};b.a.Ab.Md=function(a,b){a.w(1,b)};b.a.Ab.Wj=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.Ab.Nk=function(a,b){a.l(4,b,4)};b.a.Ab.$H=function(a){return a.ra()};b.a.Ab.dP=function(a,d,c){b.a.Ab.DL(a);b.a.Ab.gF(a,d);b.a.Ab.Md(a,c);return b.a.Ab.$H(a)};b.a.Yi=function(){this.b=null;this.c=0};b.a.Yi.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Yi.prototype.zoom=function(){return this.b.B(this.c)};b.a.Yi.prototype.hash=function(){return this.b.Pf(this.c+
8)};b.a.Yi.cP=function(a,b,c){a.ma(8,16);a.Oi(c);a.fi(7);a.Ta(b);return a.offset()};b.a.Xi=function(){this.b=null;this.c=0};b.a.Xi.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Xi.prototype.hash=function(){return this.b.Pf(this.c)};b.a.Xi.prototype.index=function(){return this.b.Uc(this.c+8)};b.a.Xi.bP=function(a,b,c){a.ma(8,16);a.fi(6);a.Mb(c);a.Oi(b);return a.offset()};b.a.Pi=function(){this.b=null;this.c=0};b.a.Pi.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Pi.prototype.key=
function(){return this.b.Xb(this.c)};b.a.Pi.prototype.value=function(){return this.b.Pf(this.c+8)};b.a.Pi.sO=function(a,b,c){a.ma(8,16);a.Oi(c);a.fi(4);a.Dc(b);return a.offset()};b.a.Fc=function(){this.b=null;this.c=0};b.a.Fc.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Fc.zQ=function(a,d){return(d||new b.a.Fc).i(a.U(a.position())+a.position(),a)};b.a.Fc.prototype.attributes=function(a,d){var c=this.b.f(this.c,4);return c?(d||new b.a.Pi).i(this.b.N(this.c+c)+16*a,this.b):null};b.a.Fc.prototype.VG=
function(){var a=this.b.f(this.c,4);return a?this.b.ha(this.c+a):0};b.a.Fc.CL=function(a){a.va(1)};b.a.Fc.rE=function(a,b){a.w(0,b)};b.a.Fc.DR=function(a,b){a.l(16,b,8)};b.a.Fc.ZH=function(a){return a.ra()};b.a.Fc.aP=function(a,d){b.a.Fc.CL(a);b.a.Fc.rE(a,d);return b.a.Fc.ZH(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.ig=function(){this.b=null;this.c=0};b.a.ig.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.ig.prototype.ft=function(){return this.b.B(this.c)};b.a.ig.prototype.ht=
function(){return this.b.B(this.c+1)};b.a.ig.prototype.et=function(){return this.b.B(this.c+2)};b.a.ig.prototype.gt=function(){return this.b.B(this.c+3)};b.a.ig.UO=function(a,b,c,f,e){a.ma(1,4);a.Ta(e);a.Ta(f);a.Ta(c);a.Ta(b);return a.offset()};b.a.Ec=function(){this.b=null;this.c=0};b.a.Ec.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Ec.prototype.Ti=function(){return this.b.B(this.c)};b.a.Ec.prototype.Ui=function(){return this.b.B(this.c+1)};b.a.Ec.prototype.lh=function(){return this.b.B(this.c+
2)};b.a.Ec.prototype.Vi=function(){return this.b.B(this.c+3)};b.a.Ec.prototype.kh=function(){return this.b.B(this.c+4)};b.a.Ec.prototype.Si=function(){return this.b.B(this.c+5)};b.a.Ec.prototype.jg=function(){return this.b.B(this.c+6)};b.a.Ec.prototype.Ri=function(){return this.b.B(this.c+7)};b.a.Ec.prototype.jh=function(){return this.b.B(this.c+8)};b.a.Ec.prototype.df=function(){return this.b.B(this.c+9)};b.a.Ec.prototype.it=function(){return this.b.B(this.c+10)};b.a.Ec.VO=function(a,b,c,f,e,k,m,
g,p,q,l,r){a.ma(1,11);a.Ta(r);a.Ta(l);a.Ta(q);a.Ta(p);a.Ta(g);a.Ta(m);a.Ta(k);a.Ta(e);a.Ta(f);a.Ta(c);a.Ta(b);return a.offset()};b.a.mh=function(){this.b=null;this.c=0};b.a.mh.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.mh.prototype.Oz=function(){return this.b.B(this.c)};b.a.mh.prototype.zz=function(){return this.b.B(this.c+1)};b.a.mh.prototype.Az=function(){return this.b.B(this.c+2)};b.a.mh.WO=function(a,b,c,f){a.ma(1,3);a.Ta(f);a.Ta(c);a.Ta(b);return a.offset()};b.a.La=function(){this.b=
null;this.c=0};b.a.La.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.La.wQ=function(a,d){return(d||new b.a.La).i(a.U(a.position())+a.position(),a)};b.a.La.prototype.name=function(a){var b=this.b.f(this.c,4);return b?this.b.kf(this.c+b,a):null};b.a.La.prototype.dd=function(a){var b=this.b.f(this.c,6);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.La.prototype.fd=function(a){var b=this.b.f(this.c,8);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.La.prototype.gd=function(a){var b=this.b.f(this.c,
10);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.La.xL=function(a){a.va(4)};b.a.La.HF=function(a,b){a.w(0,b)};b.a.La.LE=function(a,b){a.w(1,b)};b.a.La.PO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.La.QR=function(a,b){a.l(1,b,1)};b.a.La.$E=function(a,b){a.w(2,b)};b.a.La.YO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.La.UR=function(a,b){a.l(1,b,1)};b.a.La.aF=function(a,b){a.w(3,b)};b.a.La.ZO=function(a,
b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.La.VR=function(a,b){a.l(1,b,1)};b.a.La.VH=function(a){var b=a.ra();a.KK(b);return b};b.a.La.GO=function(a,d,c,f,e){b.a.La.xL(a);b.a.La.HF(a,d);b.a.La.LE(a,c);b.a.La.$E(a,f);b.a.La.aF(a,e);return b.a.La.VH(a)};b.a.cc=function(){this.b=null;this.c=0};b.a.cc.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.cc.EQ=function(a,d){return(d||new b.a.cc).i(a.U(a.position())+a.position(),a)};b.a.cc.JL=function(a){a.va(2)};
b.a.cc.RF=function(a,b){a.w(0,b)};b.a.cc.qP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.cc.cS=function(a,b){a.l(4,b,4)};b.a.cc.pE=function(a,b){a.w(1,b)};b.a.cc.qO=function(a,b){a.l(2,b.length,2);for(var d=b.length-1;0<=d;d--)a.vf(b[d]);return a.T()};b.a.cc.BR=function(a,b){a.l(2,b,2)};b.a.cc.eI=function(a){return a.ra()};b.a.cc.lP=function(a,d,c){b.a.cc.JL(a);b.a.cc.RF(a,d);b.a.cc.pE(a,c);return b.a.cc.eI(a)};b.a.s=function(){this.b=null;this.c=0};b.a.s.prototype.i=
function(a,b){this.c=a;this.b=b;return this};b.a.s.YI=function(a){return(new b.a.s).i(a.U(a.position())+a.position(),a)};b.a.s.prototype.Gm=function(a){var d=this.b.f(this.c,4);return d?(a||new b.a.ig).i(this.c+d,this.b):null};b.a.s.prototype.Hm=function(a){var d=this.b.f(this.c,6);return d?(a||new b.a.Ec).i(this.c+d,this.b):null};b.a.s.prototype.Fe=function(a){var d=this.b.f(this.c,8);return d?(a||new b.a.mh).i(this.c+d,this.b):null};b.a.s.prototype.Pr=function(a){var b=this.b.f(this.c,10);return b?
this.b.B(this.b.N(this.c+b)+a):0};b.a.s.prototype.pK=function(){var a=this.b.f(this.c,10);return a?this.b.ha(this.c+a):0};b.a.s.prototype.an=function(a){var b=this.b.f(this.c,12);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.s.prototype.rK=function(){var a=this.b.f(this.c,12);return a?this.b.ha(this.c+a):0};b.a.s.prototype.ni=function(a){var b=this.b.f(this.c,14);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.s.prototype.SK=function(){var a=this.b.f(this.c,14);return a?this.b.ha(this.c+a):0};b.a.s.prototype.Nr=
function(a){var b=this.b.f(this.c,16);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.s.prototype.oK=function(){var a=this.b.f(this.c,16);return a?this.b.ha(this.c+a):0};b.a.s.prototype.qq=function(a){var b=this.b.f(this.c,18);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.s.prototype.aH=function(){var a=this.b.f(this.c,18);return a?this.b.ha(this.c+a):0};b.a.s.prototype.ds=function(a,d){var c=this.b.f(this.c,20);return c?(d||new b.a.mc).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.s.prototype.NK=
function(){var a=this.b.f(this.c,20);return a?this.b.ha(this.c+a):0};b.a.s.prototype.uk=function(a){var b=this.b.f(this.c,22);return b?this.b.kf(this.c+b,a):null};b.a.s.prototype.bi=function(a){var b=this.b.f(this.c,24);return b?this.b.kf(this.c+b,a):null};b.a.s.prototype.vi=function(){var a=this.b.f(this.c,26);return a?this.b.ia(this.c+a):0};b.a.s.prototype.tk=function(){var a=this.b.f(this.c,28);return a?this.b.ia(this.c+a):0};b.a.s.prototype.ai=function(){var a=this.b.f(this.c,30);return a?this.b.ia(this.c+
a):0};b.a.s.prototype.sk=function(){var a=this.b.f(this.c,32);return a?this.b.ia(this.c+a):0};b.a.s.prototype.$h=function(){var a=this.b.f(this.c,34);return a?this.b.ia(this.c+a):0};b.a.s.prototype.Yb=function(){var a=this.b.f(this.c,36);return a?this.b.ia(this.c+a):0};b.a.s.prototype.Te=function(){var a=this.b.f(this.c,38);return a?this.b.Xb(this.c+a):0};b.a.s.prototype.kc=function(){var a=this.b.f(this.c,40);return a?this.b.Uc(this.c+a):2048};b.a.s.prototype.fx=function(){var a=this.b.f(this.c,
42);return a?this.b.B(this.c+a):18};b.a.s.prototype.Ih=function(a,d){var c=this.b.f(this.c,44);return c?(d||new b.a.La).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.s.prototype.iH=function(){var a=this.b.f(this.c,44);return a?this.b.ha(this.c+a):0};b.a.s.HL=function(a){a.va(23)};b.a.s.oF=function(a,b){a.oe(0,b)};b.a.s.pF=function(a,b){a.oe(1,b)};b.a.s.DG=function(a,b){a.oe(2,b)};b.a.s.VF=function(a,b){a.w(3,b)};b.a.s.sP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);
return a.T()};b.a.s.eS=function(a,b){a.l(1,b,1)};b.a.s.XF=function(a,b){a.w(4,b)};b.a.s.wP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.s.gS=function(a,b){a.l(1,b,1)};b.a.s.eG=function(a,b){a.w(5,b)};b.a.s.GP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.s.kS=function(a,b){a.l(1,b,1)};b.a.s.UF=function(a,b){a.w(6,b)};b.a.s.rP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};
b.a.s.dS=function(a,b){a.l(1,b,1)};b.a.s.uE=function(a,b){a.w(7,b)};b.a.s.wO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.s.GR=function(a,b){a.l(1,b,1)};b.a.s.bG=function(a,b){a.w(8,b)};b.a.s.DP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.s.iS=function(a,b){a.l(4,b,4)};b.a.s.BF=function(a,b){a.w(9,b)};b.a.s.AF=function(a,b){a.w(10,b)};b.a.s.oG=function(a,b){a.Qa(11,b)};b.a.s.xF=function(a,b){a.Qa(12,b)};b.a.s.yF=
function(a,b){a.Qa(13,b)};b.a.s.uF=function(a,b){a.Qa(14,b)};b.a.s.vF=function(a,b){a.Qa(15,b)};b.a.s.hG=function(a,b){a.Qa(16,b)};b.a.s.ME=function(a,b){a.bd(17,b)};b.a.s.EG=function(a,b){a.Oe(18,b,2048)};b.a.s.EF=function(a,b){a.ca(19,b,18)};b.a.s.FE=function(a,b){a.w(20,b)};b.a.s.HO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.s.KR=function(a,b){a.l(4,b,4)};b.a.s.DF=function(a,b){a.Oe(21,b,25)};b.a.s.TF=function(a,b){a.w(22,b)};b.a.s.cI=function(a){return a.ra()};
b.a.s.hP=function(a,d,c,f,e,k,m,g,p,q,l,r,I,x,R,G,u,V,w,O,y,C,B,D){b.a.s.HL(a);b.a.s.oF(a,d);b.a.s.pF(a,c);b.a.s.DG(a,f);b.a.s.VF(a,e);b.a.s.XF(a,k);b.a.s.eG(a,m);b.a.s.UF(a,g);b.a.s.uE(a,p);b.a.s.bG(a,q);b.a.s.BF(a,l);b.a.s.AF(a,r);b.a.s.oG(a,I);b.a.s.xF(a,x);b.a.s.yF(a,R);b.a.s.uF(a,G);b.a.s.vF(a,u);b.a.s.hG(a,V);b.a.s.ME(a,w);b.a.s.EG(a,O);b.a.s.EF(a,y);b.a.s.FE(a,C);b.a.s.DF(a,B);b.a.s.TF(a,D);return b.a.s.cI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.pg=function(){this.b=null;this.c=
0};b.a.pg.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.pg.prototype.x=function(){return this.b.Uc(this.c)};b.a.pg.prototype.y=function(){return this.b.Uc(this.c+2)};b.a.pg.WP=function(a,b,c){a.ma(2,4);a.Mb(c);a.Mb(b);return a.offset()};b.a.jf=function(){this.b=null;this.c=0};b.a.jf.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.jf.prototype.x=function(){return this.b.Ye(this.c)};b.a.jf.prototype.y=function(){return this.b.Ye(this.c+2)};b.a.jf.VP=function(a,b,c){a.ma(2,
4);a.Mb(c);a.Mb(b);return a.offset()};b.a.cj=function(){this.b=null;this.c=0};b.a.cj.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.cj.prototype.x=function(){return this.b.ia(this.c)};b.a.cj.prototype.y=function(){return this.b.ia(this.c+4)};b.a.cj.UP=function(a,b,c){a.ma(4,8);a.zb(c);a.zb(b);return a.offset()};b.a.ph=function(){this.b=null;this.c=0};b.a.ph.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.ph.prototype.x=function(){return this.b.ia(this.c)};b.a.ph.prototype.y=
function(){return this.b.ia(this.c+4)};b.a.ph.prototype.z=function(){return this.b.ia(this.c+8)};b.a.ph.YP=function(a,b,c,f){a.ma(4,12);a.zb(f);a.zb(c);a.zb(b);return a.offset()};b.a.dj=function(){this.b=null;this.c=0};b.a.dj.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.dj.prototype.x=function(){return this.b.Wr(this.c)};b.a.dj.prototype.y=function(){return this.b.Wr(this.c+8)};b.a.dj.prototype.z=function(){return this.b.Wr(this.c+16)};b.a.dj.XP=function(a,b,c,f){a.ma(8,24);a.fg(f);
a.fg(c);a.fg(b);return a.offset()};b.a.lg=function(){this.b=null;this.c=0};b.a.lg.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.lg.prototype.Yc=function(){return this.b.ia(this.c)};b.a.lg.prototype.x=function(){return this.b.ia(this.c+4)};b.a.lg.prototype.y=function(){return this.b.ia(this.c+8)};b.a.lg.prototype.z=function(){return this.b.ia(this.c+12)};b.a.lg.yP=function(a,b,c,f,e){a.ma(4,16);a.zb(e);a.zb(f);a.zb(c);a.zb(b);return a.offset()};b.a.bj=function(){this.b=null;this.c=0};
b.a.bj.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.bj.prototype.rotation=function(a){return(a||new b.a.lg).i(this.c+24,this.b)};b.a.bj.AP=function(a,b,c,f,e,k,m,g){a.ma(8,40);a.ma(4,16);a.zb(g);a.zb(m);a.zb(k);a.zb(e);a.ma(8,24);a.fg(f);a.fg(c);a.fg(b);return a.offset()};b.a.$k=function(){this.b=null;this.c=0};b.a.$k.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.$k.prototype.kx=function(a){return(a||new b.a.ph).i(this.c,this.b)};b.a.$k.prototype.zf=function(){return this.b.ia(this.c+
12)};b.a.$k.pP=function(a,b,c,f,e){a.ma(4,16);a.zb(e);a.ma(4,12);a.zb(f);a.zb(c);a.zb(b);return a.offset()};b.a.nc=function(){this.b=null;this.c=0};b.a.nc.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.nc.yQ=function(a,d){return(d||new b.a.nc).i(a.U(a.position())+a.position(),a)};b.a.nc.AL=function(a){a.va(2)};b.a.nc.QF=function(a,b){a.w(0,b)};b.a.nc.bS=function(a,b){a.l(16,b,4)};b.a.nc.GE=function(a,b){a.w(1,b)};b.a.nc.MR=function(a,b){a.l(12,b,4)};b.a.nc.XH=function(a){return a.ra()};
b.a.nc.TO=function(a,d,c){b.a.nc.AL(a);b.a.nc.QF(a,d);b.a.nc.GE(a,c);return b.a.nc.XH(a)};b.a.gg=function(){this.b=null;this.c=0};b.a.gg.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.gg.prototype.Ra=function(a){return(a||new b.a.jf).i(this.c,this.b)};b.a.gg.prototype.cb=function(a){return(a||new b.a.jf).i(this.c+4,this.b)};b.a.gg.prototype.jd=function(a){return(a||new b.a.jf).i(this.c+8,this.b)};b.a.gg.prototype.Sc=function(a){return(a||new b.a.jf).i(this.c+12,this.b)};b.a.gg.JO=function(a,
b,c,f,e,k,m,g,p){a.ma(2,16);a.ma(2,4);a.Mb(p);a.Mb(g);a.ma(2,4);a.Mb(m);a.Mb(k);a.ma(2,4);a.Mb(e);a.Mb(f);a.ma(2,4);a.Mb(c);a.Mb(b);return a.offset()};b.a.aj=function(){this.b=null;this.c=0};b.a.aj.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.aj.prototype.position=function(a){return(a||new b.a.pg).i(this.c,this.b)};b.a.aj.prototype.angle=function(){return this.b.ia(this.c+4)};b.a.aj.jP=function(a,b,c,f){a.ma(4,8);a.zb(f);a.ma(2,4);a.Mb(c);a.Mb(b);return a.offset()}}).call({},c);(function(b){b=
b||{};b.a=b.a||{};b.a.C=b.a.C||{};b.a.C.qz={pz:0,$M:1,ON:2,eN:3,AN:4,bN:5,oN:6};b.a.C.pN={0:"Lens",1:"Cylinder",2:"Sphere",3:"Fisheye",4:"Pinhole",5:"Equiangular",6:"Lens6"};b.a.C.gb=function(){this.b=null;this.c=0};b.a.C.gb.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.C.gb.FQ=function(a,d){return(d||new b.a.C.gb).i(a.U(a.position())+a.position(),a)};b.a.C.gb.prototype.heading=function(){var a=this.b.f(this.c,6);return a?this.b.ia(this.c+a):0};b.a.C.gb.prototype.frame=function(a){var d=
this.b.f(this.c,8);return d?(a||new b.a.bj).i(this.c+d,this.b):null};b.a.C.gb.prototype.GI=function(a){var d=this.b.f(this.c,12);return d?(a||new b.a.nc).i(this.b.Na(this.c+d),this.b):null};b.a.C.gb.KL=function(a){a.va(6)};b.a.C.gb.vE=function(a,b){a.ca(0,b,0)};b.a.C.gb.dF=function(a,b){a.Qa(1,b)};b.a.C.gb.Xp=function(a,b){a.oe(2,b)};b.a.C.gb.GF=function(a,b){a.oe(3,b)};b.a.C.gb.XE=function(a,b){a.w(4,b)};b.a.C.gb.tF=function(a,d){a.ca(5,d,b.a.C.qz.pz)};b.a.C.gb.fI=function(a){return a.ra()};b.a.C.gb.nP=
function(a,d,c,f,e,k,m){b.a.C.gb.KL(a);b.a.C.gb.vE(a,d);b.a.C.gb.dF(a,c);b.a.C.gb.Xp(a,f);b.a.C.gb.GF(a,e);b.a.C.gb.XE(a,k);b.a.C.gb.tF(a,m);return b.a.C.gb.fI(a)};b.a.C.mb=function(){this.b=null;this.c=0};b.a.C.mb.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.C.mb.uQ=function(a,d){return(d||new b.a.C.mb).i(a.U(a.position())+a.position(),a)};b.a.C.mb.prototype.frame=function(a){var d=this.b.f(this.c,8);return d?(a||new b.a.bj).i(this.c+d,this.b):null};b.a.C.mb.prototype.height=function(){var a=
this.b.f(this.c,12);return a?this.b.ia(this.c+a):0};b.a.C.mb.vL=function(a){a.va(5)};b.a.C.mb.fF=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.C.mb.FF=function(a,b){a.oe(1,b)};b.a.C.mb.Xp=function(a,b){a.oe(2,b)};b.a.C.mb.NF=function(a,b){a.w(3,b)};b.a.C.mb.oP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.C.mb.aS=function(a,b){a.l(4,b,4)};b.a.C.mb.Yp=function(a,b){a.Qa(4,b)};b.a.C.mb.TH=function(a){return a.ra()};b.a.C.mb.DO=function(a,d,c,f,e,k){b.a.C.mb.vL(a);
b.a.C.mb.fF(a,d);b.a.C.mb.FF(a,c);b.a.C.mb.Xp(a,f);b.a.C.mb.NF(a,e);b.a.C.mb.Yp(a,k);return b.a.C.mb.TH(a)};b.a.C.Metadata=function(){this.b=null;this.c=0};b.a.C.Metadata.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.C.Metadata.DQ=function(a,d){return(d||new b.a.C.Metadata).i(a.U(a.position())+a.position(),a)};b.a.C.Metadata.prototype.version=function(a){var b=this.b.f(this.c,4);return b?this.b.kf(this.c+b,a):null};b.a.C.Metadata.prototype.key=function(a){var d=this.b.f(this.c,6);return d?
(a||new b.a.hf).i(this.c+d,this.b):null};b.a.C.Metadata.IL=function(a){a.va(3)};b.a.C.Metadata.fq=function(a,b){a.w(0,b)};b.a.C.Metadata.Hb=function(a,b){a.oe(1,b)};b.a.C.Metadata.WF=function(a,b){a.w(2,b)};b.a.C.Metadata.tP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.C.Metadata.fS=function(a,b){a.l(4,b,4)};b.a.C.Metadata.dI=function(a){return a.ra()};b.a.C.Metadata.iP=function(a,d,c,f){b.a.C.Metadata.IL(a);b.a.C.Metadata.fq(a,d);b.a.C.Metadata.Hb(a,
c);b.a.C.Metadata.WF(a,f);return b.a.C.Metadata.dI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.S=function(){this.b=null;this.c=0};b.a.S.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.S.GQ=function(a,d){return(d||new b.a.S).i(a.U(a.position())+a.position(),a)};b.a.S.prototype.qd=function(){var a=this.b.f(this.c,4);return a?this.b.B(this.c+a):0};b.a.S.prototype.ym=function(){var a=this.b.f(this.c,6);return a?this.b.B(this.c+a):0};b.a.S.prototype.Is=function(){var a=this.b.f(this.c,
8);return a?this.b.Xb(this.c+a):0};b.a.S.prototype.An=function(){var a=this.b.f(this.c,10);return a?this.b.Xb(this.c+a):0};b.a.S.prototype.Lq=function(){var a=this.b.f(this.c,12);return a?this.b.Xb(this.c+a):0};b.a.S.prototype.Kq=function(){var a=this.b.f(this.c,14);return a?this.b.Xb(this.c+a):0};b.a.S.prototype.Sa=function(a,d){var c=this.b.f(this.c,16);return c?(d||new b.a.Nb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.S.prototype.Xf=function(){var a=this.b.f(this.c,16);return a?this.b.ha(this.c+
a):0};b.a.S.LL=function(a){a.va(7)};b.a.S.Nj=function(a,b){a.ca(0,b,0)};b.a.S.hF=function(a,b){a.ca(1,b,0)};b.a.S.rG=function(a,b){a.bd(2,b)};b.a.S.qG=function(a,b){a.bd(3,b)};b.a.S.QE=function(a,b){a.bd(4,b)};b.a.S.PE=function(a,b){a.bd(5,b)};b.a.S.Md=function(a,b){a.w(6,b)};b.a.S.Wj=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.S.Nk=function(a,b){a.l(4,b,4)};b.a.S.gI=function(a){return a.ra()};b.a.S.uP=function(a,d,c,f,e,k,m,g){b.a.S.LL(a);b.a.S.Nj(a,
d);b.a.S.hF(a,c);b.a.S.rG(a,f);b.a.S.qG(a,e);b.a.S.QE(a,k);b.a.S.PE(a,m);b.a.S.Md(a,g);return b.a.S.gI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.ka=function(){this.b=null;this.c=0};b.a.ka.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.ka.KQ=function(a,d){return(d||new b.a.ka).i(a.U(a.position())+a.position(),a)};b.a.ka.prototype.position=function(a){var d=this.b.f(this.c,4);return d?(a||new b.a.aj).i(this.c+d,this.b):null};b.a.ka.prototype.HM=function(a){var b=this.b.f(this.c,
6);return b?this.b.Uc(this.b.N(this.c+b)+2*a):0};b.a.ka.prototype.IM=function(){var a=this.b.f(this.c,6);return a?this.b.ha(this.c+a):0};b.a.ka.QL=function(a){a.va(2)};b.a.ka.cq=function(a,b){a.oe(0,b)};b.a.ka.MG=function(a,b){a.w(1,b)};b.a.ka.aQ=function(a,b){a.l(2,b.length,2);for(var d=b.length-1;0<=d;d--)a.vf(b[d]);return a.T()};b.a.ka.tS=function(a,b){a.l(2,b,2)};b.a.ka.kI=function(a){return a.ra()};b.a.ka.CP=function(a,d,c){b.a.ka.QL(a);b.a.ka.cq(a,d);b.a.ka.MG(a,c);return b.a.ka.kI(a)};b.a.vb=
function(){this.b=null;this.c=0};b.a.vb.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.vb.xQ=function(a,d){return(d||new b.a.vb).i(a.U(a.position())+a.position(),a)};b.a.vb.prototype.id=function(){var a=this.b.f(this.c,4);return a?this.b.Pf(this.c+a):this.b.Ba(0,0)};b.a.vb.prototype.length=function(){var a=this.b.f(this.c,6);return a?this.b.Uc(this.c+a):0};b.a.vb.prototype.qm=function(a){var b=this.b.f(this.c,8);return b?this.b.Uc(this.b.N(this.c+b)+2*a):0};b.a.vb.prototype.HI=function(){var a=
this.b.f(this.c,8);return a?this.b.ha(this.c+a):0};b.a.vb.yL=function(a){a.va(3)};b.a.vb.$p=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.vb.sF=function(a,b){a.Oe(1,b,0)};b.a.vb.YE=function(a,b){a.w(2,b)};b.a.vb.XO=function(a,b){a.l(2,b.length,2);for(var d=b.length-1;0<=d;d--)a.vf(b[d]);return a.T()};b.a.vb.TR=function(a,b){a.l(2,b,2)};b.a.vb.WH=function(a){return a.ra()};b.a.vb.KO=function(a,d,c,f){b.a.vb.yL(a);b.a.vb.$p(a,d);b.a.vb.sF(a,c);b.a.vb.YE(a,f);return b.a.vb.WH(a)};b.a.V=function(){this.b=null;
this.c=0};b.a.V.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.V.JQ=function(a,d){return(d||new b.a.V).i(a.U(a.position())+a.position(),a)};b.a.V.prototype.qd=function(){var a=this.b.f(this.c,4);return a?this.b.B(this.c+a):0};b.a.V.prototype.offset=function(){var a=this.b.f(this.c,6);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.V.prototype.count=function(){var a=this.b.f(this.c,8);return a?this.b.Xb(this.c+a):0};b.a.V.prototype.Tk=function(){var a=this.b.f(this.c,10);return a?this.b.Xb(this.c+
a):0};b.a.V.prototype.Sa=function(a,d){var c=this.b.f(this.c,12);return c?(d||new b.a.Nb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.V.prototype.Xf=function(){var a=this.b.f(this.c,12);return a?this.b.ha(this.c+a):0};b.a.V.PL=function(a){a.va(5)};b.a.V.Nj=function(a,b){a.ca(0,b,0)};b.a.V.za=function(a,b){a.ec(1,b,a.Ba(0,0))};b.a.V.Up=function(a,b){a.bd(2,b)};b.a.V.LG=function(a,b){a.bd(3,b)};b.a.V.Md=function(a,b){a.w(4,b)};b.a.V.Wj=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=
d;d--)a.za(b[d]);return a.T()};b.a.V.Nk=function(a,b){a.l(4,b,4)};b.a.V.jI=function(a){return a.ra()};b.a.V.BP=function(a,d,c,f,e,k){b.a.V.PL(a);b.a.V.Nj(a,d);b.a.V.za(a,c);b.a.V.Up(a,f);b.a.V.LG(a,e);b.a.V.Md(a,k);return b.a.V.jI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.O=function(){this.b=null;this.c=0};b.a.O.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.O.MQ=function(a,d){return(d||new b.a.O).i(a.U(a.position())+a.position(),a)};b.a.O.prototype.text=function(a){var b=
this.b.f(this.c,4);return b?this.b.kf(this.c+b,a):null};b.a.O.prototype.id=function(){var a=this.b.f(this.c,6);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.O.prototype.Nf=function(a,d){var c=this.b.f(this.c,8);return c?(d||new b.a.pg).i(this.b.N(this.c+c)+4*a,this.b):null};b.a.O.prototype.Rr=function(){var a=this.b.f(this.c,8);return a?this.b.ha(this.c+a):0};b.a.O.prototype.vq=function(){var a=this.b.f(this.c,10);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.O.prototype.Ib=function(){var a=
this.b.f(this.c,12);return a?this.b.ia(this.c+a):0};b.a.O.prototype.Ym=function(a){var b=this.b.f(this.c,14);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.O.prototype.hK=function(){var a=this.b.f(this.c,14);return a?new Uint8Array(this.b.Ga.buffer,this.b.Ga.byteOffset+this.b.N(this.c+a),this.b.ha(this.c+a)):null};b.a.O.prototype.variant=function(){var a=this.b.f(this.c,16);return a?this.b.B(this.c+a):0};b.a.O.SL=function(a){a.va(7)};b.a.O.xG=function(a,b){a.w(0,b)};b.a.O.$p=function(a,b){a.ec(1,
b,a.Ba(0,0))};b.a.O.eq=function(a,b){a.w(2,b)};b.a.O.NL=function(a,b){a.l(4,b,2)};b.a.O.AE=function(a,b){a.ec(3,b,a.Ba(0,0))};b.a.O.aq=function(a,b){a.Qa(4,b)};b.a.O.LF=function(a,b){a.w(5,b)};b.a.O.kP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.O.ZR=function(a,b){a.l(1,b,1)};b.a.O.KG=function(a,b){a.ca(6,b,0)};b.a.O.mI=function(a){return a.ra()};b.a.O.IP=function(a,d,c,f,e,k,m,g){b.a.O.SL(a);b.a.O.xG(a,d);b.a.O.$p(a,c);b.a.O.eq(a,f);b.a.O.AE(a,e);b.a.O.aq(a,
k);b.a.O.LF(a,m);b.a.O.KG(a,g);return b.a.O.mI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.wo={po:0,Qy:1,LM:2};b.a.EN={0:"BelowRoad",1:"AboveRoad",2:"AboveBuildings"};b.a.qg={NONE:0,M:1,la:2,ja:3,ga:4,L:5};b.a.aO={0:"NONE",1:"RoadStyle",2:"TextLabelStyle",3:"PolygonStyle",4:"CoastlineStyle",5:"BuildingStyle"};b.a.M=function(){this.b=null;this.c=0};b.a.M.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.M.LQ=function(a,d){return(d||new b.a.M).i(a.U(a.position())+a.position(),a)};
b.a.M.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.M.prototype.om=function(){var a=this.b.f(this.c,6);return a?this.b.B(this.c+a):0};b.a.M.prototype.Bn=function(){var a=this.b.f(this.c,8);return a?this.b.B(this.c+a):0};b.a.M.prototype.fillColor=function(a){var b=this.b.f(this.c,10);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.M.prototype.dr=function(){var a=this.b.f(this.c,12);return a?!!this.b.Tc(this.c+a):!1};b.a.M.prototype.width=function(){var a=
this.b.f(this.c,14);return a?this.b.ia(this.c+a):0};b.a.M.prototype.Zb=function(){var a=this.b.f(this.c,16);return a?this.b.ia(this.c+a):0};b.a.M.prototype.strokeColor=function(a){var b=this.b.f(this.c,18);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.M.prototype.Wf=function(){var a=this.b.f(this.c,20);return a?this.b.Pf(this.c+a):this.b.Ba(0,0)};b.a.M.prototype.Bf=function(){var a=this.b.f(this.c,22);return a?this.b.Pf(this.c+a):this.b.Ba(0,0)};b.a.M.prototype.Dm=function(){var a=this.b.f(this.c,
24);return a?!!this.b.Tc(this.c+a):!1};b.a.M.prototype.nn=function(){var a=this.b.f(this.c,26);return a?!!this.b.Tc(this.c+a):!1};b.a.M.prototype.Em=function(){var a=this.b.f(this.c,28);return a?!!this.b.Tc(this.c+a):!1};b.a.M.RL=function(a){a.va(13)};b.a.M.Hb=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.M.SE=function(a,b){a.ca(1,b,0)};b.a.M.uG=function(a,b){a.ca(2,b,0)};b.a.M.Wp=function(a,b){a.w(3,b)};b.a.M.nH=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.M.zL=
function(a,b){a.l(1,b,1)};b.a.M.lF=function(a,b){a.ca(4,+b,0)};b.a.M.gq=function(a,b){a.Qa(5,b)};b.a.M.Mj=function(a,b){a.Qa(6,b)};b.a.M.Lj=function(a,b){a.w(7,b)};b.a.M.Mv=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.M.uy=function(a,b){a.l(1,b,1)};b.a.M.sG=function(a,b){a.ec(8,b,a.Ba(0,0))};b.a.M.RE=function(a,b){a.ec(9,b,a.Ba(0,0))};b.a.M.mF=function(a,b){a.ca(10,+b,0)};b.a.M.gG=function(a,b){a.ca(11,+b,0)};b.a.M.nF=function(a,b){a.ca(12,+b,0)};b.a.M.lI=
function(a){return a.ra()};b.a.M.FP=function(a,d,c,f,e,k,m,g,p,q,l,r,I,x){b.a.M.RL(a);b.a.M.Hb(a,d);b.a.M.SE(a,c);b.a.M.uG(a,f);b.a.M.Wp(a,e);b.a.M.lF(a,k);b.a.M.gq(a,m);b.a.M.Mj(a,g);b.a.M.Lj(a,p);b.a.M.sG(a,q);b.a.M.RE(a,l);b.a.M.mF(a,r);b.a.M.gG(a,I);b.a.M.nF(a,x);return b.a.M.lI(a)};b.a.la=function(){this.b=null;this.c=0};b.a.la.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.la.QQ=function(a,d){return(d||new b.a.la).i(a.U(a.position())+a.position(),a)};b.a.la.prototype.key=function(){var a=
this.b.f(this.c,4);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.la.prototype.ik=function(){var a=this.b.f(this.c,6);return a?this.b.ia(this.c+a):0};b.a.la.prototype.Rd=function(){var a=this.b.f(this.c,8);return a?this.b.ia(this.c+a):0};b.a.la.prototype.af=function(a){var b=this.b.f(this.c,10);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.la.prototype.Yf=function(a){var b=this.b.f(this.c,12);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.la.prototype.padding=function(){var a=this.b.f(this.c,14);
return a?this.b.B(this.c+a):0};b.a.la.prototype.Wd=function(){var a=this.b.f(this.c,16);return a?this.b.B(this.c+a):0};b.a.la.WL=function(a){a.va(7)};b.a.la.Hb=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.la.bF=function(a,b){a.Qa(1,b)};b.a.la.VE=function(a,b){a.Qa(2,b)};b.a.la.yG=function(a,b){a.w(3,b)};b.a.la.MP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.la.oS=function(a,b){a.l(1,b,1)};b.a.la.zG=function(a,b){a.w(4,b)};b.a.la.NP=function(a,b){a.l(1,b.length,
1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.la.pS=function(a,b){a.l(1,b,1)};b.a.la.bq=function(a,b){a.ca(5,b,0)};b.a.la.eF=function(a,b){a.ca(6,b,0)};b.a.la.qI=function(a){return a.ra()};b.a.la.PP=function(a,d,c,f,e,k,m,g){b.a.la.WL(a);b.a.la.Hb(a,d);b.a.la.bF(a,c);b.a.la.VE(a,f);b.a.la.yG(a,e);b.a.la.zG(a,k);b.a.la.bq(a,m);b.a.la.eF(a,g);return b.a.la.qI(a)};b.a.L=function(){this.b=null;this.c=0};b.a.L.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.L.oQ=function(a,
d){return(d||new b.a.L).i(a.U(a.position())+a.position(),a)};b.a.L.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.L.prototype.visible=function(){var a=this.b.f(this.c,6);return a?!!this.b.Tc(this.c+a):!1};b.a.L.prototype.zs=function(){var a=this.b.f(this.c,8);return a?this.b.ia(this.c+a):0};b.a.L.prototype.Zb=function(){var a=this.b.f(this.c,10);return a?this.b.ia(this.c+a):0};b.a.L.prototype.strokeColor=function(a){var b=this.b.f(this.c,12);return b?
this.b.B(this.b.N(this.c+b)+a):0};b.a.L.prototype.Js=function(){var a=this.b.f(this.c,14);return a?this.b.ia(this.c+a):0};b.a.L.prototype.zi=function(a){var b=this.b.f(this.c,16);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.L.prototype.Qh=function(a){var b=this.b.f(this.c,18);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.L.prototype.Kg=function(a){var b=this.b.f(this.c,20);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.L.prototype.Di=function(a){var b=this.b.f(this.c,22);return b?this.b.B(this.b.N(this.c+
b)+a):0};b.a.L.prototype.zIndex=function(){var a=this.b.f(this.c,24);return a?this.b.Xb(this.c+a):0};b.a.L.pL=function(a){a.va(11)};b.a.L.Hb=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.L.Oj=function(a,b){a.ca(1,+b,0)};b.a.L.nG=function(a,b){a.Qa(2,b)};b.a.L.Mj=function(a,b){a.Qa(3,b)};b.a.L.Lj=function(a,b){a.w(4,b)};b.a.L.Mv=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.L.uy=function(a,b){a.l(1,b,1)};b.a.L.tG=function(a,b){a.Qa(5,b)};b.a.L.pG=function(a,b){a.w(6,
b)};b.a.L.KP=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.L.nS=function(a,b){a.l(1,b,1)};b.a.L.NE=function(a,b){a.w(7,b)};b.a.L.RO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.L.RR=function(a,b){a.l(1,b,1)};b.a.L.TE=function(a,b){a.w(8,b)};b.a.L.SO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.L.SR=function(a,b){a.l(1,b,1)};b.a.L.FG=function(a,b){a.w(9,b)};b.a.L.TP=
function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.L.sS=function(a,b){a.l(1,b,1)};b.a.L.hq=function(a,b){a.bd(10,b)};b.a.L.NH=function(a){return a.ra()};b.a.L.vO=function(a,d,c,f,e,k,m,g,p,q,l,r){b.a.L.pL(a);b.a.L.Hb(a,d);b.a.L.Oj(a,c);b.a.L.nG(a,f);b.a.L.Mj(a,e);b.a.L.Lj(a,k);b.a.L.tG(a,m);b.a.L.pG(a,g);b.a.L.NE(a,p);b.a.L.TE(a,q);b.a.L.FG(a,l);b.a.L.hq(a,r);return b.a.L.NH(a)};b.a.ja=function(){this.b=null;this.c=0};b.a.ja.prototype.i=function(a,b){this.c=
a;this.b=b;return this};b.a.ja.HQ=function(a,d){return(d||new b.a.ja).i(a.U(a.position())+a.position(),a)};b.a.ja.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.ja.prototype.visible=function(){var a=this.b.f(this.c,6);return a?!!this.b.Tc(this.c+a):!1};b.a.ja.prototype.zIndex=function(){var a=this.b.f(this.c,8);return a?this.b.Xb(this.c+a):0};b.a.ja.prototype.Zb=function(){var a=this.b.f(this.c,10);return a?this.b.ia(this.c+a):0};b.a.ja.prototype.strokeColor=
function(a){var b=this.b.f(this.c,12);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.ja.prototype.fillColor=function(a){var b=this.b.f(this.c,14);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.ja.prototype.Wa=function(){var a=this.b.f(this.c,16);return a?this.b.B(this.c+a):b.a.wo.po};b.a.ja.ML=function(a){a.va(7)};b.a.ja.Hb=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.ja.Oj=function(a,b){a.ca(1,+b,0)};b.a.ja.hq=function(a,b){a.bd(2,b)};b.a.ja.Mj=function(a,b){a.Qa(3,b)};b.a.ja.Lj=function(a,b){a.w(4,b)};
b.a.ja.Mv=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.ja.uy=function(a,b){a.l(1,b,1)};b.a.ja.Wp=function(a,b){a.w(5,b)};b.a.ja.nH=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.ja.zL=function(a,b){a.l(1,b,1)};b.a.ja.OF=function(a,d){a.ca(6,d,b.a.wo.po)};b.a.ja.hI=function(a){return a.ra()};b.a.ja.vP=function(a,d,c,f,e,k,m,g){b.a.ja.ML(a);b.a.ja.Hb(a,d);b.a.ja.Oj(a,c);b.a.ja.hq(a,f);b.a.ja.Mj(a,e);b.a.ja.Lj(a,
k);b.a.ja.Wp(a,m);b.a.ja.OF(a,g);return b.a.ja.hI(a)};b.a.ga=function(){this.b=null;this.c=0};b.a.ga.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.ga.tQ=function(a,d){return(d||new b.a.ga).i(a.U(a.position())+a.position(),a)};b.a.ga.prototype.key=function(){var a=this.b.f(this.c,4);return a?this.b.Ae(this.c+a):this.b.Ba(0,0)};b.a.ga.prototype.color=function(a){var b=this.b.f(this.c,6);return b?this.b.B(this.b.N(this.c+b)+a):0};b.a.ga.prototype.vs=function(){var a=this.b.f(this.c,8);
return a?this.b.ia(this.c+a):0};b.a.ga.prototype.ws=function(){var a=this.b.f(this.c,10);return a?this.b.ia(this.c+a):0};b.a.ga.prototype.$q=function(){var a=this.b.f(this.c,12);return a?this.b.ia(this.c+a):0};b.a.ga.prototype.Zq=function(){var a=this.b.f(this.c,14);return a?this.b.ia(this.c+a):0};b.a.ga.prototype.Lr=function(){var a=this.b.f(this.c,16);return a?this.b.ia(this.c+a):0};b.a.ga.prototype.Kr=function(){var a=this.b.f(this.c,18);return a?this.b.ia(this.c+a):0};b.a.ga.uL=function(a){a.va(8)};
b.a.ga.Hb=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.ga.EE=function(a,b){a.w(1,b)};b.a.ga.IO=function(a,b){a.l(1,b.length,1);for(var d=b.length-1;0<=d;d--)a.ib(b[d]);return a.T()};b.a.ga.LR=function(a,b){a.l(1,b,1)};b.a.ga.jG=function(a,b){a.Qa(2,b)};b.a.ga.kG=function(a,b){a.Qa(3,b)};b.a.ga.jF=function(a,b){a.Qa(4,b)};b.a.ga.iF=function(a,b){a.Qa(5,b)};b.a.ga.KF=function(a,b){a.Qa(6,b)};b.a.ga.JF=function(a,b){a.Qa(7,b)};b.a.ga.SH=function(a){return a.ra()};b.a.ga.BO=function(a,d,c,f,e,k,m,g,p){b.a.ga.uL(a);
b.a.ga.Hb(a,d);b.a.ga.EE(a,c);b.a.ga.jG(a,f);b.a.ga.kG(a,e);b.a.ga.jF(a,k);b.a.ga.iF(a,m);b.a.ga.KF(a,g);b.a.ga.JF(a,p);return b.a.ga.SH(a)};b.a.Nb=function(){this.b=null;this.c=0};b.a.Nb.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Nb.OQ=function(a,d){return(d||new b.a.Nb).i(a.U(a.position())+a.position(),a)};b.a.Nb.prototype.zoom=function(){var a=this.b.f(this.c,4);return a?this.b.B(this.c+a):0};b.a.Nb.prototype.key=function(){var a=this.b.f(this.c,6);return a?this.b.Ae(this.c+a):
this.b.Ba(0,0)};b.a.Nb.UL=function(a){a.va(2)};b.a.Nb.Pj=function(a,b){a.ca(0,b,0)};b.a.Nb.Hb=function(a,b){a.ec(1,b,a.Ba(0,0))};b.a.Nb.oI=function(a){return a.ra()};b.a.Nb.LP=function(a,d,c){b.a.Nb.UL(a);b.a.Nb.Pj(a,d);b.a.Nb.Hb(a,c);return b.a.Nb.oI(a)};b.a.sc=function(){this.b=null;this.c=0};b.a.sc.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.sc.NQ=function(a,d){return(d||new b.a.sc).i(a.U(a.position())+a.position(),a)};b.a.sc.prototype.cM=function(){var a=this.b.f(this.c,4);return a?
this.b.B(this.c+a):b.a.qg.NONE};b.a.sc.prototype.style=function(a){var b=this.b.f(this.c,6);return b?this.b.Vz(a,this.c+b):null};b.a.sc.TL=function(a){a.va(2)};b.a.sc.wG=function(a,d){a.ca(0,d,b.a.qg.NONE)};b.a.sc.vG=function(a){a.w(1,void 0)};b.a.sc.nI=function(a){return a.ra()};b.a.sc.gm=function(a,d){b.a.sc.TL(a);b.a.sc.wG(a,d);b.a.sc.vG(a);return b.a.sc.nI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.$i=function(){this.b=null;this.c=0};b.a.$i.prototype.i=function(a,b){this.c=a;this.b=
b;return this};b.a.$i.prototype.Qe=function(){return this.b.B(this.c)};b.a.$i.prototype.lineWidth=function(){return this.b.Uc(this.c+2)};b.a.$i.gP=function(a,b,c){a.ma(2,4);a.Mb(c);a.fi(1);a.Ta(b);return a.offset()};b.a.Fa=function(){this.b=null;this.c=0};b.a.Fa.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Fa.CQ=function(a,d){return(d||new b.a.Fa).i(a.U(a.position())+a.position(),a)};b.a.Fa.prototype.ux=function(){var a=this.b.f(this.c,4);return a?this.b.B(this.c+a):0};b.a.Fa.prototype.orientation=
function(){var a=this.b.f(this.c,6);return a?this.b.B(this.c+a):0};b.a.Fa.prototype.position=function(){var a=this.b.f(this.c,8);return a?this.b.B(this.c+a):0};b.a.Fa.prototype.Hy=function(){var a=this.b.f(this.c,10);return a?!!this.b.Tc(this.c+a):!1};b.a.Fa.prototype.zx=function(){var a=this.b.f(this.c,12);return a?this.b.Xb(this.c+a):0};b.a.Fa.prototype.Bw=function(){var a=this.b.f(this.c,14);return a?!!this.b.Tc(this.c+a):!1};b.a.Fa.prototype.Uw=function(a){var d=this.b.f(this.c,16);return d?(a||
new b.a.cj).i(this.c+d,this.b):null};b.a.Fa.FL=function(a){a.va(7)};b.a.Fa.PF=function(a,b){a.ca(0,b,0)};b.a.Fa.IF=function(a,b){a.ca(1,b,0)};b.a.Fa.cq=function(a,b){a.ca(2,b,0)};b.a.Fa.IG=function(a,b){a.ca(3,+b,0)};b.a.Fa.ZF=function(a,b){a.bd(4,b)};b.a.Fa.cF=function(a,b){a.ca(5,+b,0)};b.a.Fa.rF=function(a,b){a.oe(6,b)};b.a.Fa.bI=function(a){return a.ra()};b.a.Fa.fP=function(a,d,c,f,e,k,m,g){b.a.Fa.FL(a);b.a.Fa.PF(a,d);b.a.Fa.IF(a,c);b.a.Fa.cq(a,f);b.a.Fa.IG(a,e);b.a.Fa.ZF(a,k);b.a.Fa.cF(a,m);
b.a.Fa.rF(a,g);return b.a.Fa.bI(a)};b.a.Ha=function(){this.b=null;this.c=0};b.a.Ha.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Ha.rQ=function(a,d){return(d||new b.a.Ha).i(a.U(a.position())+a.position(),a)};b.a.Ha.prototype.lines=function(a,d){var c=this.b.f(this.c,4);return c?(d||new b.a.$i).i(this.b.N(this.c+c)+4*a,this.b):null};b.a.Ha.prototype.IJ=function(){var a=this.b.f(this.c,4);return a?this.b.ha(this.c+a):0};b.a.Ha.prototype.lineHeight=function(){var a=this.b.f(this.c,6);
return a?this.b.Uc(this.c+a):0};b.a.Ha.prototype.dx=function(){var a=this.b.f(this.c,8);return a?this.b.Uc(this.c+a):0};b.a.Ha.prototype.offset=function(){var a=this.b.f(this.c,10);return a?this.b.Uc(this.c+a):0};b.a.Ha.prototype.zd=function(){var a=this.b.f(this.c,12);return a?this.b.B(this.c+a):0};b.a.Ha.prototype.Ad=function(){var a=this.b.f(this.c,14);return a?this.b.B(this.c+a):0};b.a.Ha.sL=function(a){a.va(6)};b.a.Ha.zF=function(a,b){a.w(0,b)};b.a.Ha.YR=function(a,b){a.l(4,b,2)};b.a.Ha.wF=function(a,
b){a.Oe(1,b,0)};b.a.Ha.CF=function(a,b){a.Oe(2,b,0)};b.a.Ha.za=function(a,b){a.Oe(3,b,0)};b.a.Ha.IE=function(a,b){a.ca(4,b,0)};b.a.Ha.ZE=function(a,b){a.ca(5,b,0)};b.a.Ha.QH=function(a){return a.ra()};b.a.Ha.createCaption=function(a,d,c,f,e,k,m){b.a.Ha.sL(a);b.a.Ha.zF(a,d);b.a.Ha.wF(a,c);b.a.Ha.CF(a,f);b.a.Ha.za(a,e);b.a.Ha.IE(a,k);b.a.Ha.ZE(a,m);return b.a.Ha.QH(a)};b.a.uc=function(){this.b=null;this.c=0};b.a.uc.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.uc.TQ=function(a,d){return(d||
new b.a.uc).i(a.U(a.position())+a.position(),a)};b.a.uc.prototype.zoom=function(){var a=this.b.f(this.c,4);return a?this.b.B(this.c+a):0};b.a.uc.prototype.caption=function(a){var d=this.b.f(this.c,6);return d?(a||new b.a.Ha).i(this.b.Na(this.c+d),this.b):null};b.a.uc.ZL=function(a){a.va(2)};b.a.uc.Pj=function(a,b){a.ca(0,b,0)};b.a.uc.wE=function(a,b){a.w(1,b)};b.a.uc.tI=function(a){return a.ra()};b.a.uc.$P=function(a,d,c){b.a.uc.ZL(a);b.a.uc.Pj(a,d);b.a.uc.wE(a,c);return b.a.uc.tI(a)};b.a.Ub=function(){this.b=
null;this.c=0};b.a.Ub.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.Ub.SQ=function(a,d){return(d||new b.a.Ub).i(a.U(a.position())+a.position(),a)};b.a.Ub.prototype.zoom=function(){var a=this.b.f(this.c,4);return a?this.b.B(this.c+a):0};b.a.Ub.prototype.WG=function(a){var d=this.b.f(this.c,6);return d?(new b.a.gg).i(this.b.N(this.c+d)+16*a,this.b):null};b.a.Ub.prototype.XG=function(){var a=this.b.f(this.c,6);return a?this.b.ha(this.c+a):0};b.a.Ub.YL=function(a){a.va(2)};b.a.Ub.Pj=function(a,
b){a.ca(0,b,0)};b.a.Ub.sE=function(a,b){a.w(1,b)};b.a.Ub.ER=function(a,b){a.l(16,b,2)};b.a.Ub.sI=function(a){return a.ra()};b.a.Ub.ZP=function(a,d,c){b.a.Ub.YL(a);b.a.Ub.Pj(a,d);b.a.Ub.sE(a,c);return b.a.Ub.sI(a)};b.a.u=function(){this.b=null;this.c=0};b.a.u.prototype.i=function(a,b){this.c=a;this.b=b;return this};b.a.u.PQ=function(a,d){return(d||new b.a.u).i(a.U(a.position())+a.position(),a)};b.a.u.prototype.kd=function(){var a=this.b.f(this.c,4);return a?this.b.Pf(this.c+a):this.b.Ba(0,0)};b.a.u.prototype.Tj=
function(){var a=this.b.f(this.c,6);return a?!!this.b.Tc(this.c+a):!1};b.a.u.prototype.Sa=function(a,d){var c=this.b.f(this.c,8);return c?(d||new b.a.Nb).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.u.prototype.Xf=function(){var a=this.b.f(this.c,8);return a?this.b.ha(this.c+a):0};b.a.u.prototype.wf=function(a,d){var c=this.b.f(this.c,10);return c?(d||new b.a.uc).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.u.prototype.dH=function(){var a=this.b.f(this.c,10);return a?this.b.ha(this.c+
a):0};b.a.u.prototype.CM=function(){var a=this.b.f(this.c,12);return a?!!this.b.Tc(this.c+a):!1};b.a.u.prototype.gi=function(a,d){var c=this.b.f(this.c,14);return c?(d||new b.a.Ub).i(this.b.Na(this.b.N(this.c+c)+4*a),this.b):null};b.a.u.prototype.jK=function(){var a=this.b.f(this.c,14);return a?this.b.ha(this.c+a):0};b.a.u.prototype.Nf=function(a,d){var c=this.b.f(this.c,16);return c?(d||new b.a.pg).i(this.b.N(this.c+c)+4*a,this.b):null};b.a.u.prototype.Rr=function(){var a=this.b.f(this.c,16);return a?
this.b.ha(this.c+a):0};b.a.u.prototype.lr=function(a){var d=this.b.f(this.c,18);return d?(a||new b.a.Fa).i(this.b.Na(this.c+d),this.b):null};b.a.u.prototype.Ib=function(){var a=this.b.f(this.c,20);return a?this.b.ia(this.c+a):0};b.a.u.prototype.Bd=function(a,d){var c=this.b.f(this.c,22);return c?(d||new b.a.Yi).i(this.b.N(this.c+c)+16*a,this.b):null};b.a.u.prototype.mJ=function(){var a=this.b.f(this.c,22);return a?this.b.ha(this.c+a):0};b.a.u.prototype.sa=function(){var a=this.b.f(this.c,24);return a?
this.b.Pf(this.c+a):this.b.Ba(0,0)};b.a.u.VL=function(a){a.va(12)};b.a.u.$F=function(a,b){a.ec(0,b,a.Ba(0,0))};b.a.u.xE=function(a,b){a.ca(1,+b,0)};b.a.u.Md=function(a,b){a.w(2,b)};b.a.u.Wj=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.u.Nk=function(a,b){a.l(4,b,4)};b.a.u.yE=function(a,b){a.w(3,b)};b.a.u.zO=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.u.HR=function(a,b){a.l(4,b,4)};b.a.u.HG=function(a,b){a.ca(4,
+b,0)};b.a.u.MF=function(a,b){a.w(5,b)};b.a.u.mP=function(a,b){a.l(4,b.length,4);for(var d=b.length-1;0<=d;d--)a.za(b[d]);return a.T()};b.a.u.$R=function(a,b){a.l(4,b,4)};b.a.u.eq=function(a,b){a.w(6,b)};b.a.u.NL=function(a,b){a.l(4,b,2)};b.a.u.qF=function(a,b){a.w(7,b)};b.a.u.aq=function(a,b){a.Qa(8,b)};b.a.u.Zp=function(a,b){a.w(9,b)};b.a.u.WR=function(a,b){a.l(16,b,8)};b.a.u.OE=function(a,b){a.ec(10,b,a.Ba(0,0))};b.a.u.SF=function(a,b){a.Oe(11,b,0)};b.a.u.pI=function(a){return a.ra()};b.a.u.OP=
function(a,d,c,f,e,k,m,g,p,q,l,r,I){b.a.u.VL(a);b.a.u.$F(a,d);b.a.u.xE(a,c);b.a.u.Md(a,f);b.a.u.yE(a,e);b.a.u.HG(a,k);b.a.u.MF(a,m);b.a.u.eq(a,g);b.a.u.qF(a,p);b.a.u.aq(a,q);b.a.u.Zp(a,l);b.a.u.OE(a,r);b.a.u.SF(a,I);return b.a.u.pI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.vo={DEPTH_COMPONENT:0,ALPHA:1,RGB:2,RGBA:3,LUMINANCE:4,LUMINANCE_ALPHA:5};b.a.BN={0:"DEPTH_COMPONENT",1:"ALPHA",2:"RGB",3:"RGBA",4:"LUMINANCE",5:"LUMINANCE_ALPHA"};b.a.wb=function(){this.b=null;this.c=0};b.a.wb.prototype.i=
function(a,b){this.c=a;this.b=b;return this};b.a.wb.RQ=function(a,d){return(d||new b.a.wb).i(a.U(a.position())+a.position(),a)};b.a.wb.prototype.data=function(a){var d=this.b.f(this.c,4);return d?(a||new b.a.Tb).i(this.b.Na(this.c+d),this.b):null};b.a.wb.prototype.width=function(){var a=this.b.f(this.c,6);return a?this.b.Uc(this.c+a):0};b.a.wb.prototype.height=function(){var a=this.b.f(this.c,8);return a?this.b.Uc(this.c+a):0};b.a.wb.prototype.format=function(){var a=this.b.f(this.c,10);return a?
this.b.B(this.c+a):b.a.vo.DEPTH_COMPONENT};b.a.wb.XL=function(a){a.va(4)};b.a.wb.Vp=function(a,b){a.w(0,b)};b.a.wb.gq=function(a,b){a.Oe(1,b,0)};b.a.wb.Yp=function(a,b){a.Oe(2,b,0)};b.a.wb.WE=function(a,d){a.ca(3,d,b.a.vo.DEPTH_COMPONENT)};b.a.wb.rI=function(a){return a.ra()};b.a.wb.createTexture=function(a,d,c,f,e){b.a.wb.XL(a);b.a.wb.Vp(a,d);b.a.wb.gq(a,c);b.a.wb.Yp(a,f);b.a.wb.WE(a,e);return b.a.wb.rI(a)}}).call({},c);(function(b){b=b||{};b.a=b.a||{};b.a.hf=function(){this.b=null;this.c=0};b.a.hf.prototype.i=
function(a,b){this.c=a;this.b=b;return this};b.a.hf.prototype.x=function(){return this.b.Xb(this.c)};b.a.hf.prototype.y=function(){return this.b.Xb(this.c+4)};b.a.hf.prototype.z=function(){return this.b.B(this.c+8)};b.a.hf.SP=function(a,b,c,f){a.ma(4,12);a.fi(3);a.Ta(f);a.Dc(c);a.Dc(b);return a.offset()}}).call({},c);return c.a}.call({})});m(30,0,function(){return"1.7.1"});m(31,0,function(){return function(){var c={Ao:2,ng:4,Vk:4,Zy:{Nz:1,UN:2}};c.Hf=new Int32Array(2);c.gw=new Float32Array(c.Hf.buffer);
c.hw=new Float64Array(c.Hf.buffer);c.Bm=1===(new Uint16Array((new Uint8Array([1,0])).buffer))[0];c.Zc=function(b,a){this.low=b|0;this.high=a|0};c.Zc.create=function(b,a){return 0==b&&0==a?c.Zc.ZERO:new c.Zc(b,a)};c.Zc.prototype.Ci=function(){return this.low+4294967296*this.high};c.Zc.prototype.Qd=function(b){return this.low==b.low&&this.high==b.high};c.Zc.ZERO=new c.Zc(0,0);c.qa=function(b){b||(b=1024);this.b=c.Ca.vv(b);this.xb=b;this.Sm=1;this.eh=null;this.Qs=0;this.Cm=!1;this.nx=0;this.co=[];this.Jy=
0;this.Sh=!1};c.qa.prototype.ma=function(b,a){b>this.Sm&&(this.Sm=b);for(var d=~(this.b.Ga.length-this.xb+a)+1&b-1;this.xb<d+b+a;){var h=this.b.Ga.length;this.b=c.qa.eJ(this.b);this.xb+=this.b.Ga.length-h}this.fi(d)};c.qa.prototype.fi=function(b){for(var a=0;a<b;a++)this.b.Ta(--this.xb,0)};c.qa.prototype.Ta=function(b){this.b.Ta(--this.xb,b)};c.qa.prototype.Mb=function(b){this.b.Mb(this.xb-=2,b)};c.qa.prototype.Dc=function(b){this.b.Dc(this.xb-=4,b)};c.qa.prototype.Oi=function(b){this.b.Oi(this.xb-=
8,b)};c.qa.prototype.zb=function(b){this.b.zb(this.xb-=4,b)};c.qa.prototype.fg=function(b){this.b.fg(this.xb-=8,b)};c.qa.prototype.ib=function(b){this.ma(1,0);this.Ta(b)};c.qa.prototype.vf=function(b){this.ma(2,0);this.Mb(b)};c.qa.prototype.qv=function(b){this.ma(4,0);this.Dc(b)};c.qa.prototype.kF=function(b){this.ma(8,0);this.Oi(b)};c.qa.prototype.UE=function(b){this.ma(4,0);this.zb(b)};c.qa.prototype.ca=function(b,a,d){if(this.Sh||a!=d)this.ib(a),this.slot(b)};c.qa.prototype.Oe=function(b,a,d){if(this.Sh||
a!=d)this.vf(a),this.slot(b)};c.qa.prototype.bd=function(b,a){if(this.Sh||0!=a)this.qv(a),this.slot(b)};c.qa.prototype.ec=function(b,a,d){if(this.Sh||!a.Qd(d))this.kF(a),this.slot(b)};c.qa.prototype.Qa=function(b,a){if(this.Sh||0!=a)this.UE(a),this.slot(b)};c.qa.prototype.w=function(b,a){if(this.Sh||0!=a)this.za(a),this.slot(b)};c.qa.prototype.oe=function(b,a){0!=a&&(this.WJ(a),this.slot(b))};c.qa.prototype.WJ=function(b){if(b!=this.offset())throw Error("FlatBuffers: struct must be serialized inline.");
};c.qa.prototype.mx=function(){if(this.Cm)throw Error("FlatBuffers: object serialization must not be nested.");};c.qa.prototype.slot=function(b){this.eh[b]=this.offset()};c.qa.prototype.offset=function(){return this.b.Ga.length-this.xb};c.qa.eJ=function(b){var a=b.Ga.length;if(a&3221225472)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var d=a<<1,h=c.Ca.vv(d);h.setPosition(d-a);h.Ga.set(b.Ga,d-a);return h};c.qa.prototype.za=function(b){this.ma(c.ng,0);this.Dc(this.offset()-b+c.ng)};
c.qa.prototype.va=function(b){this.mx();null==this.eh&&(this.eh=[]);this.Qs=b;for(var a=0;a<b;a++)this.eh[a]=0;this.Cm=!0;this.nx=this.offset()};c.qa.prototype.ra=function(){if(null==this.eh||!this.Cm)throw Error("FlatBuffers: endObject called without startObject");this.qv(0);for(var b=this.offset(),a=this.Qs-1;0<=a;a--)this.vf(0!=this.eh[a]?b-this.eh[a]:0);this.vf(b-this.nx);this.vf((this.Qs+2)*c.Ao);var d=0;a=0;a:for(;a<this.co.length;a++){var h=this.b.Ga.length-this.co[a],f=this.xb,e=this.b.Ye(h);
if(e==this.b.Ye(f)){for(var k=c.Ao;k<e;k+=c.Ao)if(this.b.Ye(h+k)!=this.b.Ye(f+k))continue a;d=this.co[a];break}}d?(this.xb=this.b.Ga.length-b,this.b.Dc(this.xb,d-b)):(this.co.push(this.offset()),this.b.Dc(this.b.Ga.length-b,this.offset()-b));this.Cm=!1;return b};c.qa.prototype.finish=function(b,a){if(a){this.ma(this.Sm,c.ng+c.Vk);if(a.length!=c.Vk)throw Error("FlatBuffers: file identifier must be length "+c.Vk);for(var d=c.Vk-1;0<=d;d--)this.Ta(a.charCodeAt(d))}this.ma(this.Sm,c.ng);this.za(b);this.b.setPosition(this.xb)};
c.qa.prototype.KK=function(b){b=this.b.Ga.length-b;if(0==this.b.Ye(b-this.b.U(b)+4))throw Error("FlatBuffers: field 4 must be set");};c.qa.prototype.l=function(b,a,d){this.mx();this.Jy=a;this.ma(c.ng,b*a);this.ma(d,b*a)};c.qa.prototype.T=function(){this.Dc(this.Jy);return this.offset()};c.qa.prototype.Ba=function(b,a){return c.Zc.create(b,a)};c.Ca=function(b){this.Ga=b;this.Ax=0};c.Ca.vv=function(b){return new c.Ca(new Uint8Array(b))};c.Ca.prototype.position=function(){return this.Ax};c.Ca.prototype.setPosition=
function(b){this.Ax=b};c.Ca.prototype.Tc=function(b){return this.B(b)<<24>>24};c.Ca.prototype.B=function(b){return this.Ga[b]};c.Ca.prototype.Ye=function(b){return this.Uc(b)<<16>>16};c.Ca.prototype.Uc=function(b){return this.Ga[b]|this.Ga[b+1]<<8};c.Ca.prototype.U=function(b){return this.Ga[b]|this.Ga[b+1]<<8|this.Ga[b+2]<<16|this.Ga[b+3]<<24};c.Ca.prototype.Xb=function(b){return this.U(b)>>>0};c.Ca.prototype.Ae=function(b){return new c.Zc(this.U(b),this.U(b+4))};c.Ca.prototype.Pf=function(b){return new c.Zc(this.Xb(b),
this.Xb(b+4))};c.Ca.prototype.ia=function(b){c.Hf[0]=this.U(b);return c.gw[0]};c.Ca.prototype.Wr=function(b){c.Hf[c.Bm?0:1]=this.U(b);c.Hf[c.Bm?1:0]=this.U(b+4);return c.hw[0]};c.Ca.prototype.Ta=function(b,a){this.Ga[b]=a};c.Ca.prototype.Mb=function(b,a){this.Ga[b]=a;this.Ga[b+1]=a>>8};c.Ca.prototype.Dc=function(b,a){this.Ga[b]=a;this.Ga[b+1]=a>>8;this.Ga[b+2]=a>>16;this.Ga[b+3]=a>>24};c.Ca.prototype.Oi=function(b,a){this.Dc(b,a.low);this.Dc(b+4,a.high)};c.Ca.prototype.zb=function(b,a){c.gw[0]=a;
this.Dc(b,c.Hf[0])};c.Ca.prototype.fg=function(b,a){c.hw[0]=a;this.Dc(b,c.Hf[c.Bm?0:1]);this.Dc(b+4,c.Hf[c.Bm?1:0])};c.Ca.prototype.f=function(b,a){b-=this.U(b);return a<this.Ye(b)?this.Ye(b+a):0};c.Ca.prototype.Vz=function(b,a){b.c=a+this.U(a);b.b=this;return b};c.Ca.prototype.kf=function(b,a){b+=this.U(b);var d=this.U(b),h="",f=0;b+=c.ng;if(a===c.Zy.Nz)return this.Ga.subarray(b,b+d);for(;f<d;){a=this.B(b+f++);if(!(192>a)){var e=this.B(b+f++);if(224>a)a=(a&31)<<6|e&63;else{var k=this.B(b+f++);if(240>
a)a=(a&15)<<12|(e&63)<<6|k&63;else{var m=this.B(b+f++);a=(a&7)<<18|(e&63)<<12|(k&63)<<6|m&63}}}65536>a?h+=String.fromCharCode(a):(a-=65536,h+=String.fromCharCode((a>>10)+55296,(a&1023)+56320))}return h};c.Ca.prototype.Na=function(b){return b+this.U(b)};c.Ca.prototype.N=function(b){return b+this.U(b)+c.ng};c.Ca.prototype.ha=function(b){return this.U(b+this.U(b))};c.Ca.prototype.Ba=function(b,a){return c.Zc.create(b,a)};return c}.call({})});m(32,0,function(){function c(a){var b=a.toString(16);16>a&&
(b="0"+b);return b}function b(){}var a=k(29),d=k(30),h=k(31),f=k(3),e=k(0),m=k(5),g=k(11);h.Zc.prototype.pe=function(){return 0===this.high&&0===this.low?"0":this.high+":"+this.low};h.Zc.prototype.xv=function(a){return 0===this.high&&0===this.low?"0":this.high+":"+this.low+":"+a};b.prototype.MA=function(a,b){var d=a.YG(),c=[],f;for(f=0;f<d;f++){var h=a.Od(f).Aq();c.push(h)}h=a.iM();d=[];for(f=0;f<h;f++){var e=a.$b(f);e={width:e.width(),height:e.height(),data:e.data().Aq(),format:e.format()};d.push(e)}e=
a.vH();h=[];for(f=0;f<e;f++){var n=a.Lh(f).Aq();h.push(n)}a={};a.Od=c;a.$b=d;a.Lh=h;b.Dd=a};b.prototype.PA=function(a,b){var d=a.key().pe();b.om=a.om();b.Bn=a.Bn();b.fillColor=[a.fillColor(0),a.fillColor(1),a.fillColor(2),a.fillColor(3)];b.bw=b.fillColor;b.strokeColor=[a.strokeColor(0),a.strokeColor(1),a.strokeColor(2),a.strokeColor(3)];b.Zb=a.Zb();b.width=a.width();b.dr=a.dr();b.nn=a.nn();b.Dm=a.Dm();b.Em=a.Em();b.Wf=a.Wf().Ci();b.Bf=a.Bf().Ci();return d};b.prototype.TA=function(a,b){var d=a.key().pe();
b.Rd=a.Rd();b.ik=a.ik();b.af=[a.af(0),a.af(1),a.af(2),a.af(3)];b.Yf=[a.Yf(0),a.Yf(1),a.Yf(2),a.Yf(3)];b.padding=a.padding();b.Wd=a.padding();return d};b.prototype.AA=function(a,b){var d=a.key().pe();b.zIndex=a.zIndex();b.visible=a.visible();b.zs=a.zs();b.Zb=a.Zb();b.strokeColor=[a.strokeColor(0),a.strokeColor(1),a.strokeColor(2),a.strokeColor(3)];b.Js=a.Js();b.zi=[a.zi(0),a.zi(1),a.zi(2),a.zi(3)];b.Qh=[a.Qh(0),a.Qh(1),a.Qh(2),a.Qh(3)];b.Kg=[a.Kg(0),a.Kg(1),a.Kg(2),a.Kg(3)];b.Di=[a.Di(0),a.Di(1),a.Di(2),
a.Di(3)];return d};b.prototype.KA=function(a,b){var d=a.key().pe();b.zIndex=a.zIndex();b.fillColor=[a.fillColor(0),a.fillColor(1),a.fillColor(2),a.fillColor(3)];b.strokeColor=[a.strokeColor(0),a.strokeColor(1),a.strokeColor(2),a.strokeColor(3)];b.visible=a.visible();b.Zb=a.Zb();b.Wa=a.Wa();return d};b.prototype.BA=function(a,b){var d=a.key().pe();b.color=[a.color(0),a.color(1),a.color(2),a.color(3)];b.vs=a.vs();b.ws=a.ws();b.$q=a.$q();b.Zq=a.Zq();b.Lr=a.Lr();b.Kr=a.Kr();return d};b.prototype.SA=function(b,
d){for(var c=b.Xf(),f={},h=0;h<c;h++){var e=b.Sa(h),n={};switch(e.cM()){case a.qg.M:var k=new a.M;e=this.PA(e.style(k),n);break;case a.qg.la:k=new a.la;e=this.TA(e.style(k),n);break;case a.qg.L:k=new a.L;e=this.AA(e.style(k),n);break;case a.qg.ja:k=new a.ja;e=this.KA(e.style(k),n);break;case a.qg.ga:k=new a.ga;e=this.BA(e.style(k),n);break;default:continue}f[e]=n}d.Sa=f};b.prototype.DA=function(a,b){for(var d=a.hH(),c={},f=0;f<d;f++){var h=a.Lc(f),e=h.key().pe();h={Kc:h.Kc(),ti:h.ti(),mi:h.mi(),gc:h.gc(),
am:h.am(),Im:h.Im(),qn:h.qn(),visible:h.visible(),Ya:h.Ya()};c[e]=h}b.Lc=c};b.prototype.QA=function(a,b){for(var d=a.TK(),c=Array(d),f=0;f<d;f++){var h=a.oi(f),e={qd:h.qd(),offset:h.offset().Ci(),Tk:h.Tk(),count:h.count()},n={};this.ml(h,n);e.Sa=n;c[f]=e}b.oi=c};b.prototype.LA=function(a,b){for(var d=a.sK(),c=Array(d),f=0;f<d;f++){var h=a.ji(f),e={};e.qd=h.qd();e.ym=h.ym();e.Is=h.Is();e.An=h.An();e.Lq=h.Lq();e.Kq=h.Kq();var n={};this.ml(h,n);e.Sa=n;c[f]=e}b.ji=c};b.prototype.CA=function(a,b){for(var d=
a.fH(),c=Array(d),f=0;f<d;f++){var h=a.Zl(f),e={};e.offset=h.offset();e.count=h.count();e.qd=h.qd();var n={};this.ml(h,n);e.Sa=n;c[f]=e}b.Zl=c};b.prototype.RA=function(a,b){for(var d=a.mL(),h=Array(d),e=0;e<d;e++){var n=a.Yg(e),k=n.id().Ci(),m=n.text(),g=n.vq().pe(),t=n.Ib(),p=n.hK();k={id:k,text:m,vq:g,Ib:t,Ym:p?c(p[0])+c(p[1])+c(p[2])+c(p[3]):"FFFFFF00",variant:n.variant()};m=n.Rr();g=Array(m);for(t=0;t<m;t++)p=n.Nf(t),p=f.g.j(p.x(),p.y()),g[t]=p;k.Nf=g;h[e]=k}b.Yg=h};b.prototype.JA=function(a,
b){b.ux=a.ux();b.orientation=a.orientation();b.position=a.position();b.Hy=a.Hy();b.zx=a.zx();b.Bw=a.Bw();a=a.Uw();b.Uw=f.g.j(a.x(),a.y())};b.cu=function(a){return a.sa()};b.sa=b.cu;b.kB=function(a){return a.kd()};b.JH=function(){b.sa=b.kB};b.GH=function(){b.sa=b.cu};b.prototype.UA=function(a,d,c){var h=a.hM(),e=[];c=c.z;for(var n=0;n<h;n++){var k=a.bf(n),m={},g=k.CM(),t;m.wf={};var p=k.dH();for(t=0;t<p;t++){var q=k.wf(t),l=q.zoom(),v=q.caption(),r={};r.zd=v.zd();r.Ad=v.Ad();r.offset=v.offset();r.lineHeight=
v.lineHeight();r.dx=v.dx();var A=v.IJ(),F=Array(A);for(q=0;q<A;q++){var z=v.lines(q);z={Qe:z.Qe(),lineWidth:z.lineWidth()};F[q]=z}r.lines=F;m.wf[l]=r}m.kd=k.kd().pe();m.sa=b.sa(k).pe();m.Ib=k.Ib();m.Tj=k.Tj();if(g){p=k.jK();l={};for(t=0;t<p;t++){v=k.gi(t);g=v.zoom();r=v.XG();A=Array(r);for(q=0;q<r;q++){var u=v.WG(q);F=u.Ra();z=u.cb();var M=u.jd();u=u.Sc();var J={};J.Ra=f.g.j(F.x(),F.y());J.cb=f.g.j(z.x(),z.y());J.jd=f.g.j(M.x(),M.y());J.Sc=f.g.j(u.x(),u.y());A[q]=J}l[g]=A}m.gi=l}else{q=k.Rr();g=Array(q);
for(t=0;t<q;t++)p=k.Nf(t),g[t]=f.g.j(p.x(),p.y());m.Nf=g}t=k.lr();q={};this.JA(t,q);m.lr=q;t={};this.ml(k,t);m.Sa=t;if(q=k.mJ()){p={};for(t=0;t<q;t++)l=k.Bd(t),g=l.zoom(),l=l.hash(),p[g]=l.xv(c);m.Bd=p}e.push(m)}d.bf=e};b.prototype.ml=function(a,b){for(var d=a.Xf(),c=0;c<d;c++){var f=a.Sa(c),h=f.key().pe();f=f.zoom();b[f]=h}};Object.freeze({xm:{},Sa:[]});b.prototype.GA=function(a,b,d){a=a.Bd();var c=a.oJ(),f=a.Xf(),h=d.z;d={};var e;for(e=0;e<c;e++){var n=a.xm(e),k=n.hash().xv(h);n=n.index();d[k]=
n}c=Array(f);for(e=0;e<f;e++){h=a.Sa(e);k=h.VG();n={};for(var m=0;m<k;m++){var g=h.attributes(m);n[g.key()]=g.value().Ci()}c[e]={attributes:n}}b.Bd={xm:d,Sa:c}};b.prototype.OA=function(a,b){for(var d=a.QK(),c=Array(d),h=b.Sa,n=0;n<d;n++){var k=a.Ck(n),m=k.position(),g=m.position(),t={};m={angle:m.angle(),position:f.g.j(g.x(),g.y()),Sa:t};var p=k.IM();g=0;for(var q=-1,l=0;l<p;l++){var r=k.HM(l);q=r>>10;g=0===l?q:g;r&=1023;var v=e.PK+r;v in h||(h[v]={height:r});t[q]=v}k=q;for(p=g;g<k;g++)g in t?p=g:
t[g]=t[p];c[n]=m}b.Ck=c};b.prototype.FA=function(a,b){for(var d=a.uH(),c=Array(d),f=0;f<d;f++){for(var h=a.Kh(f),e={length:h.length(),id:h.id().Ci()},n=h.HI(),k=Array(n),m=0;m<n;m++)k[m]=h.qm(m);e.qm=k;c[f]=e}b.Kh=c};b.prototype.Bq=function(b,c){var f=this;return new g(function(e,n){var k={},g=a.A.XI(new h.Ca(b)),t=g.version();m.Os(t,d)?(f.MA(g.Dd(),k),f.SA(g,k),f.DA(g,k),f.QA(g,k),f.LA(g,k),f.CA(g,k),f.RA(g,k),f.UA(g,k,c),f.GA(g,k,c),f.OA(g,k),f.FA(g,k),e(k)):n("Header generated with different Proto Definitions version! Client Version: '"+
d+"', Remote Version: '"+t+"'")})};b.prototype.lA=function(a){this.bi=a.bi();return m.Os(this.bi,d)};b.prototype.HA=function(a,b){a=a.Gm();b.Gm={et:a.et(),ft:a.ft(),gt:a.gt(),ht:a.ht()}};b.prototype.IA=function(a,b){a=a.Hm();b.Hm={it:a.it(),jg:a.jg(),df:a.df(),jh:a.jh(),Ri:a.Ri(),Si:a.Si(),Ti:a.Ti(),kh:a.kh(),lh:a.lh(),Ui:a.Ui(),Vi:a.Vi()}};b.prototype.VA=function(a,b){a=a.Fe();b.Fe={xo:a.zz(),Bz:a.Az(),yt:a.Oz()}};b.prototype.NA=function(a,b){for(var d={},c=a.NK(),f=0;f<c;f++){var h=a.ds(f),e=h.key();
h=h.value();d[e]=h}b.ds=d};b.prototype.ij=function(a,b){for(var d=Array(b),c=0;c<b;c++)d[c]=a(c);return d};b.prototype.WA=function(a,b){var d=a.pK();b.Pr=this.ij(a.Pr.bind(a),d);d=a.rK();b.an=this.ij(a.an.bind(a),d);d=a.SK();b.ni=this.ij(a.ni.bind(a),d);d=a.oK();b.Nr=this.ij(a.Nr.bind(a),d);d=a.aH();b.qq=this.ij(a.qq.bind(a),d)};b.prototype.EA=function(a,b){var d={},c=a.iH();if(0===c)b.Ih={"light-standard":{dd:[249,245,237,255],fd:[249,245,237,255],gd:[149,148,144,127]},"light-muted":{dd:[249,245,
237,255],fd:[249,245,237,255],gd:[149,148,144,127]},"dark-standard":{dd:[43,45,47,255],fd:[43,45,47,255],gd:[56,64,68,102]},"dark-muted":{dd:[43,45,47,255],fd:[43,45,47,255],gd:[56,64,68,102]}};else{for(var f=0;f<c;++f){var h=a.Ih(f),e=h.name();d[e]={};d[e].dd=[h.dd(0),h.dd(1),h.dd(2),h.dd(3)];d[e].fd=[h.fd(0),h.fd(1),h.fd(2),h.fd(3)];d[e].gd=[h.gd(0),h.gd(1),h.gd(2),h.gd(3)]}b.Ih=d}};b.prototype.sB=function(a,b){b.vi=a.vi();b.tk=a.tk();b.ai=a.ai();b.sk=a.sk();b.$h=a.$h();b.Yb=a.Yb();b.Te=a.Te();
b.kc=a.kc();b.fx=a.fx();b.uk=a.uk()};b.prototype.Nv=function(b){var c=this;return new g(function(f,e){var n={},k=a.s.YI(new h.Ca(b));c.lA(k)?(c.HA(k,n),c.IA(k,n),c.VA(k,n),c.WA(k,n),c.NA(k,n),c.EA(k,n),c.sB(k,n),f(n)):e("Header generated with different Proto Definitions version! Client Version: '"+d+"', Remote Version: '"+c.bi+"'")})};return b});m(33,0,function(){k(11);var c=k(32);return{Fy:function(b){b=JSON.parse(b);var a=new c;b=Uint8Array.from(b);return a.Nv(b)}}});m(34,0,function(c){var b={0:function(a){var b=
a(16),d=a(34);a=k(9);var c=new b.GN;d.qR=function(){return c};b.DS(d,{fa:1});a.forward(c,function(a,b){d.K("profile",{key:a,value:b})})},1:function(a,b){a(16).context().update(b)},2:function(a,b,d,c){a=a(28);a.rb(b,d,c);a.Ce(b,!1)},3:function(a,b,d){a(28).Ce(b,d)},4:function d(a,b,d,c,f,h,e,k,m){return a(28).update(b,d,c,f,h,e,k,m)},5:function(a,b,d,c,f,h,e){a=a(28);var n=Date.now();a.Tg(b,f);a.Ug(b,d);a.$f(b,c);a.Xr(b,h);a.Ms(b,e);return{rR:Date.now()-n}},6:function(a,b){a(28).pi(b,!1)},7:function(a,
b){a(28).pi(b,!0)}};k(28);var a=k(33),d=k(9),h=k(5),f={start:function(b,d){return a.Fy(d).then(function(a){h.Ig(a.Hm);h.Ig(a.Gm)})},fa:function(a,d){d=h.Ge(d);d=[c].concat(d);var f=b[a];if(f)return f.apply(null,d);console.error("function with id "+a+" was not found")}};d.ba(f);return f});m(35,0,function(){k(34);return function(){function c(b,a){var d=k(34);d.start(b,a).then(function(){self.onmessage=function(a){var b=a.data;a=b.Zh;b=d.fa(b.pm,b.kq);postMessage({type:"result",Zh:a,result:b})};k(9).forward(d,
function(a,b){self.postMessage({type:"message",key:a,value:b})});postMessage({id:"initialized"})})}self.onmessage=function(b){b.data&&b.data.id?"init"===b.data.id&&c(b.data.lH,b.data.xa):console.error("Unrecognized messager")}}});q&&k(35)()}function X(){return 1}function u(e,g,r){"function"===typeof g&&(r=g);try{var q=r(l)}catch(p){q="--eval-failed--",da[e]=p}Y[e]=q}function l(e){if("--eval-failed--"===Y[e])throw"module '"+e+"' failed to initialize: "+da[e]+"\n";return Y[e]}var Y=Array(171);var da=
{},Z=[];u(37,Z,X);u(38,Z,X);u(39,Z,X);aa(u,l,function(){});u(36,[],function(){return function(){return function(){return new Worker(window.URL.createObjectURL(new Blob(["("+aa+")(null,null,function () {}",");"],{type:"text/javascript"})))}}});u(77,0,function(){var e={tc:0,bc:1,Ie:2,ff:-1};e.YES=e.tc;e.NO=e.bc;e.MAYBE=e.Ie;e.NOT_RUN=e.ff;return e});u(78,0,function(){return{WI:function(){a:{var e=/(.*)(?=csr\/1.x.x\/mk-csr.js)/;for(var g=document.scripts,l=0,q=g.length;l<q;++l){var p=e.exec(g[l].src);
if(p){e=p[0];break a}}e=void 0}return e?e+"csr/1.x.x/res/":"//cdn.apple-mapkit.com/mk/csr/1.x.x/res/"},LI:function(){a:{var e=/(.*)(?=\/\/cdn.apple-mapkit.com\/mk\/csr\/1.x.x\/.*)/;for(var g=document.scripts,l=0,q=g.length;l<q;++l){var p=e.exec(g[l].src);if(p&&(p=p[0],"http:"!==p&&"https:"!==p)){e=p;break a}}e=void 0}return e?e+"https://gsp10-ssl.ls.apple.com/hvr/mw/v1/spile":"https://gsp10-ssl.ls.apple.com/hvr/mw/v1/spile"}}});u(79,0,function(){return{parse:function(e){var g=e.toLowerCase();try{if(!g.includes("safari")||
g.includes("chrome")||g.includes("crios")||g.includes("gsa")||g.includes("fxios"))if(!g.includes("chrome")&&!g.includes("crios")||g.includes("chromium")||g.includes("edge")||g.includes("samsungbrowser"))if(!g.includes("firefox")&&!g.includes("fxios")||g.includes("seamonkey"))if(g.includes("msie")){var l="Internet Explorer";var q=/msie\s(\d*\.?\d*)/ig.exec(g)[1]}else g.includes("edge")?(l="Edge",q=/edge\/(\d*\.?\d*)/ig.exec(g)[1]):g.includes("gsa")?(l="Google Search App",q=/gsa\/(.*?)\s[^._\d]/i.exec(g)[1]):
q=l="other";else l="Firefox",q=g.includes("firefox")?/firefox\/(\d*\.?\d*)/ig.exec(g)[1]:/fxios\/(\d*\.?\d*)/ig.exec(g)[1];else l="Chrome",q=g.includes("chrome")?/chrome\/(.*?)\s/ig.exec(g)[1]:/crios\/(.*?)\s/ig.exec(g)[1];else l="Safari",q=/version\/(\d+\.?\d*)/ig.exec(g)[1];var p={name:l,version:q}}catch(b){p={name:"other",version:"other"}}e=e.toLowerCase();try{if(e.includes("ipad")){var k="iPad";var m="iOS "+/os\s+(.*?)[^_.\d]/i.exec(e)[1]}else e.includes("iphone")&&!e.includes("ipad")?(k="iPhone",
m="iOS "+/os\s+(.*?)[^_.\d]+/i.exec(e)[1]):e.includes("macintosh")?(k="Macintosh",m="Mac OS X "+/mac os x (.*?)[^_.\d]/.exec(e)[1]):e.includes("windows")?(k="Windows",m="Windows NT "+/windows nt (.*?)[^._\d]/.exec(e)[1]):e.includes("android")?(k="Android",m="Android "+/android (.*?)[^._\d]/.exec(e)[1]):m=e.includes("linux")&&!e.includes("android")?k="Linux":e.includes("cros")?k="Chrome OS":k="other";var c={platform:k,gK:m}}catch(b){c={platform:"other",gK:"other"}}return{Cv:p,Tv:c}}}});u(80,0,function(){return"1.22.25"});
u(81,0,function(){function e(e){var k=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack;if("1"!==k&&"yes"!==k){k=new XMLHttpRequest;k.open("POST",p);k.setRequestHeader("Content-Type","text/plain");k.responseType="text";var c=window.location&&window.location.search.match(/\bmachineID=([^&#]*)/i);c&&(e.gR=c[1]);c=r.parse(e["user-agent"]);var b=e["async-fidelity"],a=[];b&&b.tileResults&&(a=b.tileResults.map(function(a){return a.totalGrayDiff}));k.send(JSON.stringify({qy:[{status:e.status,
YQ:a,version:q,Tv:c.Tv,Cv:c.Cv}]}))}}var g=l(78),r=l(79),q=l(80),p=g.LI();return{Dk:function(k){try{e(k)}catch(m){}}}});u(82,[],function(){return{spile:"1.22.25",syrup:"1.22.25"}});u(83,0,function(){var e=l(82);return{uw:function(g){try{var l=JSON.parse(window.localStorage.getItem("mapkit.SpileTestResult"))}catch(q){return null}if("object"!==typeof l||null===l||"undefined"===typeof l.hash||"undefined"===typeof l.version||l.hash!==g||l.version!==e.qy){try{window.localStorage.removeItem("mapkit.SpileTestResult")}catch(q){}return null}return l},
Ly:function(e){try{window.localStorage.setItem("mapkit.SpileTestResult",JSON.stringify({hash:e.hash,version:e.version.qy,status:e.status}))}catch(r){console.log(r)}}}});u(84,["spile/status"],function(){var e=l(77);return{fa:function(){var g={status:e.bc},l=navigator.userAgent;l=null!==l.match(/\bMSIE\b/)&&null!==l.match(/\bTrident\//);g.isIE=l;g["typed-arrays"]="undefined"!==typeof Float64Array&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Float32Array&&
"undefined"!==typeof Int32Array;g.btoa="function"===typeof window.btoa;if(!g["typed-arrays"]||!g.btoa||"function"!==typeof Uint8Array.from)return g;g.status=e.tc;return g}}});u(85,0,function(){return{CI:function(e){return e?btoa(e.getParameter(e.RENDERER)+e.getParameter(e.VENDOR)+e.getParameter(e.VERSION)):"N/A"}}});u(87,0,function(){Image.prototype.uJ=!0;return Image});u(88,0,function(){function e(e){q.Va(this)&&(this.origin=e.origin,this.Ru=[],/\//.exec(this.origin)&&(this.origin=this.origin.substr(0,
this.origin.length)))}function g(){}function r(k){k=k||{};k.origin=k.origin;k.origin="undefined"!==typeof k.origin?k.origin:document.location.origin+"/";e.prototype.constructor.call(this,k)}var q=l(18),p=l(9);l(87);e.prototype.ul=function(e,m,c,b){var a=new XMLHttpRequest,d=this.accessKey();d&&(d=encodeURIComponent(d),e=-1===e.indexOf("?")?e+("?accessKey="+d):e+("&accessKey="+d));var h=this.origin+e,f=this;a.onreadystatechange=function(){4===a.readyState&&(200!==a.status?(403===a.status&&f.cr(),b("Could not fetch file '"+
h+"', error code = "+a.status)):c(a.response))};a.open("GET",h);m&&(a.responseType=m);a.send();return{abort:function(){a.onreadystatechange=void 0;a.abort()}}};e.prototype.json=function(e,m,c){return this.ul(e,"text",function(b){m(JSON.parse(b))},c)};e.prototype.blob=function(e,m,c){return this.ul(e,"arraybuffer",function(b){m(new Uint8Array(b))},c)};e.prototype.image=function(e,m,c){var b=this.Ru.pop()||new Image;b.crossOrigin="";var a=this;b.onerror=function(){function d(){b.GB||c("'"+b.src+"' not found")}
a.ul(e,"arraybuffer",d,d)};b.onload=function(){m(b)};var d=this.accessKey(),h=this.origin+e;d&&(h+="&accessKey="+encodeURIComponent(d));b.src=h;b.Ss="png";/^stile.*/.exec(e)&&(b.Ss="jpg");return{abort:function(){b.onload=void 0;b.onerror=void 0;a.Ru.push(b)}}};e.prototype.text=function(e,m,c){return this.ul(e,"text",m,c)};e.prototype.$e=function(e){this.Ho=e};e.prototype.accessKey=function(){return this.Ho};e.prototype.cr=function(){this.K("invalid-access-key")};p.ba(e.prototype);g.prototype.json=
function(e,m){e=atob(e.split(",")[1]);m(JSON.parse(e));return{abort:function(){}}};g.prototype.text=function(e,m){e=atob(e.split(",")[1]);m(e);return{abort:function(){}}};g.prototype.blob=function(e,m){e=atob(e.split(",")[1]);var c=new ArrayBuffer(e.length);c=new Uint8Array(c);for(var b=0;b<e.length;b++)c[b]=e.charCodeAt(b);m(c);return{abort:function(){}}};g.prototype.image=function(e,m,c){var b=new Image;b.onerror=function(){c("'"+b.src+"' not found")};b.onload=function(){m(b)};b.src=e;b.Ss="png";
return{abort:function(){}}};q.$(e,r);return{rd:r,Xy:g,hg:r}});u(89,0,function(){function e(b){if(m.Va(this)){this.Hd=Array(b.Wm.length);for(var a=b.Xx,d=0,c=b.Wm.length;d<c;d++){var f=b.Wm[d];"/"!==f[f.length-1]&&(f+="/");f=new q.rd({origin:f+a});f.Ja("invalid-access-key",function(){this.K("invalid-access-key")},this);this.Hd[d]=f}}}function g(b,a){var d=b.protocol,c=b.domains.map(function(a){return d+"//"+a});if(a)for(var f=0,n=c.length;f<n;f++)c[f]=a[f%a.length]+c[f];e.prototype.constructor.call(this,
{Wm:c,Xx:""});this.Fj=b.path;"/"===this.Fj[0]&&(this.Fj=this.Fj.substr(1,this.Fj.length-1));this.ND=b.name}function r(b,a){m.Va(this)&&(c.prototype.constructor.call(this,{origin:b}),this.mapping=a)}var q=l(88),p=l(5),k=l(9);l(4);var m=l(18);e.prototype.zl=function(b){b=Math.floor(76731.36742*b);return this.Hd[b%this.Hd.length]};e.prototype.json=function(b,a,d,c){var f=this.zl(c.vc);return f.json.apply(f,arguments)};e.prototype.blob=function(b,a,d,c){var f=this.zl(c.vc);return f.blob.apply(f,arguments)};
e.prototype.text=function(b,a,d,c){var f=this.zl(c.vc);return f.text.apply(f,arguments)};e.prototype.image=function(b,a,d,c){var f=this.zl(c.vc);return f.image.apply(f,arguments)};e.prototype.tn=function(b){this.Hd.forEach(function(a){a.tn(b)})};e.prototype.$e=function(b){this.Hd.forEach(function(a){a.$e(b)})};k.ba(e.prototype);m.$(e,g);g.prototype.image=function(b,a,d,c){b=p.yI(this.Fj,c);0===c.labels&&(b+="&labels=0");"standard"===this.ND&&(b+="&tint="+c.tint,b+="&emphasis="+c.emphasis);return e.prototype.image.call(this,
b,a,d,c)};g.prototype.$e=function(){};q.st=g;var c=q.rd;m.$(c,r);r.prototype.il=function(b,a,d,c,f){var h=this.mapping[a];return h?b.call(this,h,d,c,f):(c("[MapFileAdapter] resource '"+a+"' not mapped"),{abort:function(){}})};r.prototype.json=function(b,a,d,h){return this.il(c.prototype.json,b,a,d,h)};r.prototype.blob=function(b,a,d,h){return this.il(c.prototype.blob,b,a,d,h)};r.prototype.image=function(b,a,d,h){return this.il(c.prototype.image,b,a,d,h)};r.prototype.text=function(b,a,d,h){return this.il(c.prototype.text,
b,a,d,h)};q.fe=r;q.jt=e;q.MapFileAdapter=q.fe;q.MadabaFileAdapter=q.rN;q.GroupNetworkAdapter=q.jt;q.RasterTileAdapter=q.st;q.NetworkAdapter=q.rd;q.rd.prototype.json=q.rd.prototype.json;q.rd.prototype.image=q.rd.prototype.image;q.rd.prototype.text=q.rd.prototype.text;q.rd.prototype.blob=q.rd.prototype.blob;q.fe.prototype.blob=q.fe.prototype.blob;q.fe.prototype.image=q.fe.prototype.image;q.fe.prototype.json=q.fe.prototype.json;q.fe.prototype.text=q.fe.prototype.text;return q});u(90,0,function(){function e(){for(var c=
0,b=p.length;c<b;c++){var a=p[c],d=a.wk;a.wk=1E8;a.update();a.wk=d}}function g(c,b){this.ex=c;this.wk=b;this.fn=[];p.push(this)}var r=l(11),q=l(9),p=[],k=1E3/60;g.prototype.count=function(){return this.fn.length};g.prototype.update=function(){var c=Date.now();var b=this.fn.shift();for(var a=0;b;){var d=b.fa.call(b.context);b.resolve(d);b=Date.now()-c;a++;if(b>=this.ex&&a>=this.wk)break;b=this.fn.shift()}};g.prototype.fa=function(c,b){var a={fa:c,context:b};c=new r(function(b){a.resolve=b});this.fn.push(a);
return c};q.ba(g);var m=0;g.Zg=function(){if(0===m++){var c=function(){0!==m&&(setTimeout(c,0),g.K("loop"),e())};c()}};g.yi=function(){m--};g.ih=new g(1E5,1E4);g.so=new g(16,3);g.Yk=new g(6,1);g.Zi=new g(2,0);g.update=function(c){for(var b=0,a=p.length;b<a;b++){var d=p[b],h=k-(Date.now()-c);0>h&&(h+=k);(0<d.wk||h>d.ex)&&d.update()}};g.xk=function(c){var b=p.reduce(function(a,b){return a+b.count()},0);c["queue-count"]=b;c["ASYNC_WORK-count"]=g.ih.count();c["HIGHP-count"]=g.so.count();c["MEDIUMP-count"]=
g.Yk.count();c["LOWP-count"]=g.Zi.count();return 0!==b};g.clear=e;q.$x(g);g.update=g.update;g.clear=g.clear;g.needsUpdate=g.xk;g.startDispatchQueueLoop=g.Gs;g.stopDispatchQueueLoop=g.Hs;return g});u(92,0,function(){function e(){this.zj={};this.pu();this.Qu=1E5;this.Kp=!0;this.Dt=g.resolve();this.Nu=1}var g=l(11),r=l(9);l(86);var q=l(89),p=l(5),k=l(90);l(91);e.prototype.pu=function(){this.Hd=[];this.Wg("__default__",new q.hg);this.Wg(/^data:/,new q.Xy)};e.prototype.el=function(e){for(var c=this.Hd[0],
b=1,a=this.Hd.length;b<a;b++){var d=this.Hd[b];if(e.match(d.pattern)){c=d;break}}return c.Pl};e.prototype.Wg=function(e,c){"function"===typeof c.$e&&(this.Ja("valid-access-key",c.$e,c),c.Ja("invalid-access-key",this.cr,this),c.$e(this.Ho));this.Hd.push({pattern:e,Pl:c})};e.prototype.Yl=function(){var e=this;this.Hd.forEach(function(c){"function"===typeof c.Pl.$e&&(c.Pl.ua("invalid-access-key"),e.ua("valid-access-key",null,c.Pl))});this.pu()};e.prototype.uM=function(e){return/.(jpeg|jpg|JPEG|JPG|png|PNG)$/.exec(e)?
3:/.(json|JSON)$/.exec(e)?1:/.(bin|BIN|obj|OBJ)$/.exec(e)?2:5};e.prototype.Et=function(e,c){this.zj[c]=e};e.prototype.SC=function(e){delete this.zj[e]};e.prototype.mB=function(e,c,b){c=c||this.uM(e);b=b||p.Bb();var a,d,h=new g(function(b,c){a=b;d=c});switch(c){case 1:var f=this.el(e).json(e,a,d,b);break;case 2:f=this.el(e).blob(e,a,d,b);break;case 3:f=this.el(e).image(e,a,d,b);break;case 4:f=this.el(e).text(e,a,d,b);break;case 5:return g.reject("INVALID_RESOURCE while fetching '"+e+"'");default:throw"ResourceManager.get(): Given type is not defined";
}var n=!1;h=h.then(function(a){n=!0;return k.ih.fa(function(){return a})});var m;e=new g(function(a,b){m=function(a){n||f.abort(a);b(a)}});h=g.race([h,e]);h.cancel=m;return h};e.prototype.get=function(e,c,b,a){function d(a,d){if(f)return g.reject(d);n=h.Dt;return n.then(function(){var d=h.mB(e,c,b);k=d;if(!a)return d;var f,n=new g(function(a,b){f=setTimeout(b.bind(h,{code:h.TIMEOUT,MK:e}),h.Qu)});return g.race([d,n]).then(function(a){clearTimeout(f);return a})})}if(this.has(e))return this.zj[e];var h=
this,f=!1,n,k=null,m=1<=this.Nu,p=d(m);if(m){for(m=1;m<this.Nu;++m)p=p.catch(d.bind(null,!0));p=p.catch(d.bind(null,!1))}7!==a&&this.Et(p,e);p.abort=function(a){n.then(function(){f=!0;k.cancel(a);k=null})};return p};e.prototype.add=function(e,c,b){g.pk(c)||(c=g.resolve(c));if(8===b){var a=this;c.then(function(b){b.once("released",a.remove.bind(a,e),a)}).catch(this.remove.bind(this,e))}this.Et(c,e);return this};e.prototype.remove=function(e){this.SC(e)};e.prototype.has=function(e){return e in this.zj};
e.prototype.reset=function(){this.zj={}};e.prototype.cr=function(){if(this.Kp){this.Kp=!1;var e=this;this.Dt=new g(function(c){e.once("valid-access-key",c)});this.K("invalid-access-key")}};e.prototype.$e=function(e){this.Ho=e;this.K("valid-access-key",e);this.Kp=!0};e.prototype.iy=function(e){this.Qu=e};e.JSON=1;e.no=2;e.kg=3;e.vt=4;e.Mz=5;e.kN="INVALID_RESOURCE";e.TIMEOUT=504;e.wz=404;e.oh=7;e.yz=8;e.JSON=e.JSON;e.BLOB=e.no;e.IMAGE=e.kg;e.TEXT=e.vt;e.UNKNOWN=e.Mz;e.TIMEOUT=e.TIMEOUT;e.NOT_FOUND=
e.wz;e.prototype.route=e.prototype.Wg;e.prototype.clearRoutes=e.prototype.Yl;e.prototype.reset=e.prototype.reset;e.prototype.add=e.prototype.add;e.prototype.remove=e.prototype.remove;e.prototype.setResourceTimeoutThreshold=e.prototype.iy;r.ba(e.prototype);return e});u(93,0,function(){function e(e){this.ej={};this.he=!1;this.Ph(e)}var g=l(9),r=l(5),q=l(11),p=l(3);g.ba(e.prototype);e.Oy=0;e.Uk=1;e.prototype.yf=function(e){e.alpha=0;e.qh={Um:function(){},id:r.Bb(),duration:0,zn:-1}};e.prototype.Nh=function(){this.Ke=
!1};e.prototype.Ph=function(e){this.kp=e;this.Ke=!0};e.prototype.show=function(k,m){k.qh.zn=1;k.qh.duration=m;if(this.Ke)return this.Ft(k);k.alpha=1;return q.resolve(e.Uk)};e.prototype.Vd=function(k,m){k.qh.zn=-1;k.qh.duration=m;if(this.Ke)return this.Ft(k);k.alpha=0;return q.resolve(e.Uk)};e.prototype.Xu=function(e){return.5*(e.zn+1)};e.prototype.Ft=function(k){var m=k.qh;m.Um(e.Oy);var c=!1;0===m.duration?(k.alpha=this.Xu(m),c=!0):c=this.Xu(m)===k.alpha;if(c)return delete this.ej[m.id],q.resolve(e.Uk);
this.ej[m.id]=k;this.he=!0;return new q(function(b){m.Um=function(a){m.Um=function(){};b(a)}})};e.prototype.update=function(k){var m=r.Ge(this.ej);this.he=!1;if(0!==m.length){for(var c=k-this.kp,b=0,a=m.length;b<a;b++){var d=m[b],h=d.qh;d.alpha+=h.zn*c/h.duration;0>d.alpha||1<d.alpha?(d.alpha=p.Wl(d.alpha,0,1),delete this.ej[h.id],h.Um(e.Uk)):this.he=!0}this.tC()}this.kp=k};e.prototype.tC=function(){this.K("alpha-updated")};e.prototype.Mw=function(e){e["animation-enabled"]=this.Ke;e["animating-count"]=
Object.keys(this.ej).length;return this.Ke&&this.he};return e});u(94,0,function(){l(39);l(38);l(5);return{create:function(e,g,l,q){q=q||document.createElement("canvas");q.style.width=e+"px";q.style.height=g+"px";q.width=e*l;q.height=g*l;q.className="syrup-canvas";return q.getContext("webgl",{antialias:!1,stencil:!0})},resize:function(e,g,l,q){e.canvas.width=g*q;e.canvas.height=l*q;e.canvas.style.width=g+"px";e.canvas.style.height=l+"px"}}});u(95,0,function(){function e(b){delete a[b.id];b.K("destroyed",
b);b.lv=!1;b.ua("destroyed")}function g(){return a}function r(a,b,d){a.ua("destroyed",b,d)}function q(a,b,d){a.Ja("destroyed",b,d)}function p(e,f,n,k){n=n||1;var h=b.create(e,f,n,k);if(!h)return h;h.oL=n;h.lv=!0;Object.defineProperty(h,"valid",{get:function(){return this.lv},set:function(){throw"'valid' is a READONLY value";}});h.To=c();Object.defineProperty(h,"id",{get:function(){return this.To},set:function(){throw"'id' is a READONLY value";}});a[h.id]=h;m.ba(h);d.K("creation",h);h.canvas.addEventListener("webglcontextlost",
function(){d.K("context-lost",h)});return h}function k(a,d,c,e){b.resize(a,d,c,e);a.oL=e}var m=l(9),c=function(){var a=0;return function(){return a++}}(),b=l(94),a={},d={create:p,resize:k,Uj:void 0,Hr:q,kR:r,all:g,pa:e};m.ba(d);d.create=p;d.resize=k;d.checkErrors=void 0;d.onDestroyed=q;d.offDestroyed=r;d.all=g;d.destroy=e;return d});u(96,0,function(){return new (l(92))});u(97,0,function(){function e(){m.push(this);return this.nd()}function g(){0===--this.Ct&&(this.K("released",this),this.ua("released"));
return this}function r(){this.Ct++;return this}function q(){this.Ct=0;return this}var p=l(9);l(5);var k=l(90),m=[],c=!1;return{ba:function(b){p.yJ(b)||p.ba(b);b.Xd=q;b.nd=r;b.release=g;b.Cg=e;return b},Vv:function(){m.length&&!c&&(k.Zi.fa(function(){for(var b=0,a=m.length;b<a;b++)m[b].release();m.length=0;c=!1}),c=!0)}}});u(98,0,function(){function e(e){this.D=e;this.Eb=e.createBuffer();this.Xd();this.once("released",this.pa,this)}var g=l(95),r=l(97);e.prototype.type=function(e){this.Ic=e;this.fE();
return this};e.prototype.ZA=function(e){this.nl=e;return this};e.prototype.fE=function(){this.nl&&void 0!==this.Ic&&void 0!==this.Hp&&(this.Ic===e.Wk&&this.bind().data(this.nl).m(),delete this.nl)};e.prototype.Qw=function(){return void 0!==this.nl};e.prototype.usage=function(e){this.Hp=e;return this};e.prototype.zD=function(e){this.D.bufferData(this.Ic,e,this.Hp)};e.prototype.data=function(e,g){if("number"===typeof e)this.zD(e);else{var k=this.D;"number"===typeof g?k.bufferSubData(this.Ic,g,e):k.bufferData(this.Ic,
e,this.Hp)}return this};e.prototype.bind=function(){this.D.bindBuffer(this.Ic,this.Eb);return this};e.prototype.m=function(){return this};e.prototype.use=function(e){this.bind();e();this.m()};e.prototype.Cb=function(){return this.Eb};e.prototype.size=function(){var e=this.D;return e.getBufferParameter(this.Ic,e.BUFFER_SIZE)};e.prototype.pa=function(){this.Qw()||this.D.bindBuffer(this.Ic,null);this.D.deleteBuffer(this.Eb);this.Eb=null};r.ba(e.prototype);e.em=function(g,p){g=new e(g);g.type(e.Wk).usage(e.Bo).bind().data(p).m();
return g};e.xf=function(g,p){g=new e(g);g.type(e.xt).usage(e.Bo).bind().data(p).m();return g};e.QO=function(g,p){g=new e(g);g.type(e.Wk).usage(e.bt).bind().data(p).m();return g};e.Kv=function(g){var p=new Float32Array(0);g=new e(g);g.type(e.xt).usage(e.bt).bind().data(p).m();return g};e.rH=function(g,p){g=new e(g);g.ZA(p).usage(e.Bo);return g};g.once("creation",function(g){e.Bo=g.STATIC_DRAW;e.bt=g.DYNAMIC_DRAW;e.MN=g.STREAM_DRAW;e.xt=g.ARRAY_BUFFER;e.Wk=g.ELEMENT_ARRAY_BUFFER});e.prototype.bind=
e.prototype.bind;e.prototype.unbind=e.prototype.m;e.prototype.destroy=e.prototype.pa;return e});u(99,0,function(){var e=l(96),g=l(98),r={Vh:function(l){var p="unit-square-vbo-ibo-"+l.id;if(!e.has(p)){var k={};k.Pa=g.xf(l,new Float32Array([0,0,0,1,1,0,1,1]));k.$a=g.em(l,new Uint16Array([0,1,2,2,1,3,3,2,0,2]));k.ibo=k.$a;k.vbo=k.Pa;e.add(p,k)}return e.get(p)},QI:function(l,p,k){var m="grid-vbos-ibos-"+l.id+"-"+k+"x"+p,c;if(!e.has(m)){var b=Array(4+3*(k+1+p+1)),a=1/p,d=0;b[d++]=0;b[d++]=0;b[d++]=0;b[d++]=
1;b[d++]=0;b[d++]=0;b[d++]=1;b[d++]=1;b[d++]=0;var h=a;for(c=0;c<p;c++)b[d++]=h,b[d++]=0,b[d++]=1,b[d++]=h,b[d++]=1,b[d++]=1,h+=a;h=a=1/k;for(c=0;c<k;c++)b[d++]=0,b[d++]=h,b[d++]=1,b[d++]=1,b[d++]=h,b[d++]=1,h+=a;a=Array(4+2*(p+k));d=0;a[d++]=0;a[d++]=1;a[d++]=1;a[d++]=2;h=3;for(c=0;c<p-1;c++){var f=h+2*c+0;var n=h+2*c+1;a[d++]=f;a[d++]=n}h+=2*p;for(c=0;c<k;c++)f=h+2*c+0,n=h+2*c+1,a[d++]=f,a[d++]=n;p={};p.Pa=g.xf(l,new Float32Array(b));p.$a=g.em(l,new Uint16Array(a));e.add(m,p)}return e.get(m)}};
r.getUnitSquare=r.Vh;return r});u(100,0,function(){return{USE_STANDARD_DERIVATIVES:"1"}});u(101,0,function(){function e(e){this.origin=e||"";this.id=q.Bb()}var g=l(92),r=l(9),q=l(5);e.prototype.Ve=function(){return{url:this.origin+"manifest",data:{mn:"manifest",vc:0}}};e.prototype.fetch=function(e){var k=this.Ve();return e.get(k.url,g.no,k.data,g.oh)};e.prototype.load=function(k,m){return this.fetch(k).then(function(c){this.MH=c;return m.Nv(c).then(function(b){this.json=b}.bind(this))}.bind(this)).then(function(){this.vC(this.json);
this.rA();e.K("loaded",this);return this}.bind(this))};e.prototype.vC=function(e){for(var k in e)this[k]=e[k]};e.prototype.rA=function(){this.yb=1/this.kc;this.Qm=1/this.Yb;for(var e in this.Ih){var m=this.Ih[e];m.dd=q.Tm(m.dd);m.fd=q.Tm(m.fd);m.gd=q.Tm(m.gd)}};r.ba(e.prototype);r.ba(e);e.prototype.Wx=function(){var e=Array.from(this.MH);return JSON.stringify(e)};e.prototype.Zk={MM:[6],NM:[19],OM:[132],KM:[226],RM:[281],SM:[102],TM:[34],WM:[104],XM:[8],YM:[136],ZM:[137],aN:[335],dN:[111],fN:[145],
gN:[159,210,14],hN:[112],iN:[10],jN:[11],nN:[237],qN:[13],sN:[116],tN:[15],uN:[16],vN:[153],wN:[318],xN:[18],yN:[19],zN:[120],CN:[394],DN:[122],FN:[123],HN:[216,24,188,185,379,217,290,184,225],JN:[93,400,401,402,403,404,405,406],KN:[20,209,247,264,285,314,321,328,336,339,432,343,344,351,378],LN:[283,361,362],NN:[169,213,214,215],PN:[21],QN:[22],SN:[23],VN:[25],ZN:[128],$N:[129]};e.prototype.pt=[];for(var p in e.prototype.Zk)e.prototype.Zk[p].forEach(function(k){e.prototype.pt[k]=p});return e});u(102,
0,function(){function e(a,b,d){this.h=a;this.type=b;this.Mc=a.createShader(b);this.src=d}function g(a,b,d){this.h=a;this.Ps=b;this.jw=d;this.Mc=a.createProgram()}var r=l(95),q=l(92),p=l(100),k=l(11),m=l(0),c=l(101),b=new q,a=JSON.parse(JSON.stringify(p));e.prototype.compile=function(b){var d=this.h;b=b||{};var c=[],e;for(e in a)c.push("#define "+e+" "+a[e]);for(e in b)c.push("#define "+e+" "+b[e]);this.cm=c.join("\n")+"\n"+this.src;this.xC();this.wC();d.shaderSource(this.Mc,this.cm);d.compileShader(this.Mc);
delete this.cm;delete this.src;return this};e.prototype.attributes=function(){return this.fj};e.prototype.H=function(){return this.Gj};e.prototype.xC=function(){this.Gj=[];for(var a=this.cm.split("\n"),b=/uniform[ \t]+((highp|mediump|lowp)[ \t]+)?(vec[2-4]|bool|int|float|mat[2-4]|sampler2D)[ \t]+([_a-zA-Z][_a-zA-Z0-9]*)/,d=0,c=a.length;d<c;d++){var e=b.exec(a[d]);e&&this.Gj.push(e[4])}};e.prototype.wC=function(){if(this.type!==this.h.FRAGMENT_SHADER){this.fj=[];for(var a=this.cm.split("\n"),b=/attribute[ \t]+((highp|mediump|lowp)[ \t]+)?(vec[2-4]|float|mat[2-4])[ \t]+([_a-zA-Z][_a-zA-Z0-9]*)/,
d=0,c=a.length;d<c;d++){var e=b.exec(a[d]);e&&this.fj.push(e[4])}}};e.prototype.Cb=function(){return this.Mc};e.mw=function(a,d,c,k){return b.get(d,q.vt,0,q.oh).then(function(b){return(new e(a,c,b)).compile(k)})};g.prototype.link=function(){var a=this.h;a.attachShader(this.Mc,this.Ps.Cb());a.attachShader(this.Mc,this.jw.Cb());a.linkProgram(this.Mc);var b=this.Ps.attributes(),d=[];d.push.apply(d,this.Ps.H());d.push.apply(d,this.jw.H());this.fj={};b.forEach(function(b){this.fj[b]=a.getAttribLocation(this.Mc,
b)},this);this.Gj={};d.forEach(function(b){this.Gj[b]=a.getUniformLocation(this.Mc,b)},this);return this};g.prototype.Uj=function(a){var b=this.h;if(!b.getProgramParameter(this.Mc,b.LINK_STATUS)){if(a)throw"program filed to link:"+b.getProgramInfoLog(this.Mc);console.error("program filed to link:"+b.getProgramInfoLog(this.Mc))}};g.prototype.use=function(){this.h.useProgram(this.Mc)};g.prototype.eb=function(){this.h.useProgram(null)};g.prototype.Cb=function(){return this.Mc};g.prototype.attributes=
function(){return this.fj};g.prototype.H=function(){return this.Gj};g.kb=function(a,b,d,c){b=e.mw(a,b,a.VERTEX_SHADER,c);d=e.mw(a,d,a.FRAGMENT_SHADER,c);return k.all([b,d]).then(function(b){return(new g(a,b[0],b[1])).link()})};g.fromURLs=g.kb;var d={Iz:e,hb:g};r.once("creation",function(a){d.VERTEX_SHADER=a.VERTEX_SHADER;d.FRAGMENT_SHADER=a.FRAGMENT_SHADER});c.Ja("loaded",function(d){a.TILE_SIZE_IN_POINT=Math.floor(d.kc)+".0";a.TILES_PER_POINT=d.yb;a.LINE_JUMP_VERTEX_CEIL=""+d.tk;-1===a.LINE_JUMP_VERTEX_CEIL.indexOf(".")&&
(a.LINE_JUMP_VERTEX_CEIL+=".0");a.LINE_JUMP_VERTEX_OFFSET=""+d.ai;-1===a.LINE_JUMP_VERTEX_OFFSET.indexOf(".")&&(a.LINE_JUMP_VERTEX_OFFSET+=".0");a.LINE_DRAW_ENDCAP_OFFSET=""+d.$h;-1===a.LINE_DRAW_ENDCAP_OFFSET.indexOf(".")&&(a.LINE_DRAW_ENDCAP_OFFSET+=".0");a.LINE_DRAW_ENDCAP_CEIL=""+d.sk;-1===a.LINE_DRAW_ENDCAP_CEIL.indexOf(".")&&(a.LINE_DRAW_ENDCAP_CEIL+=".0");a.SIGNED_VERTEX_OFFSET=""+d.vi;-1===a.SIGNED_VERTEX_OFFSET.indexOf(".")&&(a.SIGNED_VERTEX_OFFSET+=".0");a.BEZIER_CURVE_ANCHOR=""+m.oq;-1===
a.BEZIER_CURVE_ANCHOR.indexOf(".")&&(a.BEZIER_CURVE_ANCHOR+=".0");a.LINE_AA_PIXEL_COUNT=""+m.Jm;-1===a.LINE_AA_PIXEL_COUNT.indexOf(".")&&(a.LINE_AA_PIXEL_COUNT+=".0");a.DISTANCE_FIELD_SIZE=Math.floor(d.Yb)+".0";a.MAX_HALF_LINE_WIDTH=m.di+".0";a.DISTANCE_FIELD_SIZE=Math.floor(d.Yb)+".0";a.MIN_GLYPH_AA_SIZE=d.Qm;a.HALF_MIN_GLYPH_AA_SIZE=.5*d.Qm;b.reset();b.add("shaders/arrow.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec2 viewportSize;\nuniform mat4 modelViewProjMatrix;\nuniform float pr;\nattribute vec2 tilePosition;\nattribute vec2 uvSize;\nattribute vec2 uvStart;\nattribute vec2 size;\nattribute float alpha;\nattribute float angle;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_xDirectionVector;\nvarying vec2 v_yDirectionVector;\nvarying vec2 v_start;\nvarying vec2 v_length;\nvoid main() {\n  v_uvStart = uvStart;\n  v_uvSize = uvSize;\n  v_alpha = alpha;\n  \n  float pointSize = sqrt(pow(size.x, 2.0) + pow(size.y, 2.0));\n  v_start = (pointSize - size) * 0.5 / pointSize;\n  v_length = size / pointSize;\n  v_xDirectionVector = vec2(cos(angle), sin(angle));\n  vec4 dcXDirectionVector = modelViewProjMatrix * vec4(v_xDirectionVector, 0.0, 0.0);\n  dcXDirectionVector.xy = dcXDirectionVector.xy * 0.5 * viewportSize;\n  v_xDirectionVector = normalize(dcXDirectionVector.xy);\n  v_xDirectionVector = vec2(v_xDirectionVector.x, -1.0 * v_xDirectionVector.y);\n  v_yDirectionVector = vec2(-v_xDirectionVector.y, v_xDirectionVector.x);\n  vec4 dcPosition = modelViewProjMatrix * vec4(tilePosition, 0.0, 1.0);\n  dcPosition /= dcPosition.w;\n  \n  float margin = pointSize / min(viewportSize.x, viewportSize.y);\n  float upperBound = 1.0 + margin;\n  float lowerBound = -1.0 - margin;\n  if (dcPosition.x < -1.0 && dcPosition.x > lowerBound) {\n    v_start.x -= (-1.0 - dcPosition.x) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = -1.0;\n  } else if (dcPosition.x > 1.0 && dcPosition.x < upperBound) {\n    v_start.x += (dcPosition.x - 1.0) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = 1.0;\n  }\n  if (dcPosition.y < -1.0 && dcPosition.y > lowerBound) {\n    v_start.y -= (-1.0 - dcPosition.y) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = -1.0;\n  } else if (dcPosition.y > 1.0 && dcPosition.y < upperBound) {\n    v_start.y += (dcPosition.y - 1.0) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = 1.0;\n  }\n  gl_Position = dcPosition;\n  gl_PointSize = pointSize * pr;\n}");
b.add("shaders/arrow.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform sampler2D iconTexture;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_xDirectionVector;\nvarying vec2 v_yDirectionVector;\nvarying vec2 v_start;\nvarying vec2 v_length;\nvoid main() {\n  vec2 position = vec2(gl_PointCoord.s, 1.0 - gl_PointCoord.t);\n  \n  position = (position - v_start) / v_length;\n  vec2 centeredPosition = position - vec2(0.5, 0.5);\n  vec2 pos = centeredPosition.x * v_xDirectionVector +\n             centeredPosition.y * v_yDirectionVector +\n             vec2(0.5, 0.5);\n  if (pos.x < 0.0 || pos.x > 1.0 || pos.y < 0.0 || pos.y > 1.0) {\n    discard;\n  }\n  vec2 uv = v_uvStart + pos * v_uvSize;\n  gl_FragColor = texture2D(iconTexture, uv);\n  gl_FragColor.a *= v_alpha;\n}");
b.add("shaders/icon.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform sampler2D iconTexture;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_psIconOrigin; \nvarying vec2 v_psIconSize ; \nvoid main() {\n  vec2 position = vec2(gl_PointCoord.s, 1.0 - gl_PointCoord.t);\n  vec2 psTopRight = v_psIconOrigin + v_psIconSize;\n  \n  \n  if (position.x < v_psIconOrigin.x || position.x >= psTopRight.x ||\n      position.y < v_psIconOrigin.y || position.y >= psTopRight.y ) {\n    discard;\n  }\n  \n  position = (position - v_psIconOrigin) / v_psIconSize;\n  vec2 uv = v_uvStart + position * v_uvSize;\n  gl_FragColor = texture2D(iconTexture, uv);\n  gl_FragColor.a *= v_alpha;\n}");
b.add("shaders/icon.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec2 viewportSize;\nuniform mat4 modelViewProjMatrix;\nuniform float pr;\n#if SNAP_ICONS_TO_PIXEL\n# if ALLOW_SUPERSAMPLING\n  uniform float pixelSnapFactor;\n# endif\n#endif\nattribute vec2 tilePosition;\nattribute vec2 uvSize;\nattribute vec2 uvStart;\nattribute vec2 size;\nattribute float alpha;\nvarying vec2 v_uvSize;\nvarying vec2 v_uvStart;\nvarying float v_alpha;\nvarying vec2 v_psIconOrigin; \nvarying vec2 v_psIconSize;   \nvoid main() {\n  v_uvStart = uvStart;\n  v_uvSize = uvSize;\n  v_alpha = alpha;\n  float pointSize = max(size.x, size.y);\n  vec2 dcPixelSize = 2.0 / (pr * viewportSize);\n  v_psIconOrigin = (pointSize - size) * 0.5 / pointSize;\n  v_psIconSize = size / pointSize;\n  vec4 dcPosition = modelViewProjMatrix * vec4(tilePosition, 0.0, 1.0);\n  dcPosition /= dcPosition.w;\n  vec2 ssPosition = (dcPosition.xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n#if SNAP_ICONS_TO_PIXEL\n# if !ALLOW_SUPERSAMPLING\n  float pixelSnapFactor = pr;\n# endif\n  \n  \n  \n  \n  \n  \n  \n  ssPosition = floor(pixelSnapFactor * ssPosition + 0.5) / pixelSnapFactor;\n# if ALLOW_SUPERSAMPLING\n  \n  \n  ssPosition.xy -= (pr - pixelSnapFactor) * mod(size, 2.0) / pr;\n# endif\n  dcPosition.xy = (2.0 * ssPosition / viewportSize) - vec2(1.0, 1.0);\n  vec2 uvOffset = vec2(0.5, 0.5);\n#else\n  vec2 uvOffset = mod(ssPosition, 1.0);\n#endif\n  v_psIconOrigin -= uvOffset * dcPixelSize;\n  \n  \n  \n  \n  float margin = pointSize / min(viewportSize.x, viewportSize.y);\n  float upperBound = 1.0 + margin;\n  float lowerBound = -1.0 - margin;\n  if (dcPosition.x < -1.0 && dcPosition.x > lowerBound) {\n    v_psIconOrigin.x -= (-1.0 - dcPosition.x) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = -1.0;\n  } else if (dcPosition.x > 1.0 && dcPosition.x < upperBound) {\n    v_psIconOrigin.x += (dcPosition.x - 1.0) * viewportSize.x / pointSize / 2.0;\n    dcPosition.x = 1.0;\n  }\n  if (dcPosition.y < -1.0 && dcPosition.y > lowerBound) {\n    v_psIconOrigin.y -= (-1.0 - dcPosition.y) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = -1.0;\n  } else if (dcPosition.y > 1.0 && dcPosition.y < upperBound) {\n    v_psIconOrigin.y += (dcPosition.y - 1.0) * viewportSize.y / pointSize / 2.0;\n    dcPosition.y = 1.0;\n  }\n  gl_Position = dcPosition;\n  gl_PointSize = pointSize * pr;\n}");
b.add("shaders/line-fill.frag","#ifdef GL_ES\n  precision highp float;\n  precision mediump int;\n#endif\nuniform vec4 color;\nuniform vec4 outerColor;\nuniform float alpha;\nuniform float lineAAPointCount;\nuniform sampler2D alphaTexture;\nuniform float halfLineWidth;\nuniform float lineWidthFactor;\nuniform float endcapThreshold;\nuniform float bodyThreshold;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\n#ifdef RENDER_PATTERN\nvarying vec2 v_ssV0;\nvarying float v_ssAdvance;\nvarying vec2 v_ssPosition;\nuniform sampler2D patternTexture;\nuniform vec2 patternTextureSize;\n#endif\nvoid main() {\n#ifdef RENDERING_TEST\n   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n   return;\n#endif\n  vec4 baseColor = mix(outerColor, color, clamp(v_colorFactor, 0.0, 1.0));\n  float lineAlpha;\n  float distanceFromCenterLine;\n  float len0 = length(v_position - v_v0);\n  float len1 = length(v_position - v_v1);\n  float len;\n  vec2 direction;\n  vec2 closestCenter;\n  float endcapDiscard;\n  if (len0 > len1) {\n    closestCenter = v_v1;\n    direction = v_v0 - v_v1;\n    len = len1 * TILE_SIZE_IN_POINT;\n  } else {\n    closestCenter  = v_v0;\n    direction = v_v1 - v_v0;\n    len = len0 * TILE_SIZE_IN_POINT;\n  }\n  float dotValue = dot(direction, v_position - closestCenter);\n  float u = v_uv[0];\n  float v = v_uv[1];\n  if (dotValue < 0.0) {\n    \n    \n    \n    \n    \n    u = len / ((halfLineWidth + lineAAPointCount) * lineWidthFactor);\n    \n    lineAlpha = texture2D(alphaTexture, vec2(u, v)).a;\n    if (lineAlpha < endcapThreshold) {\n      discard;\n    }\n  } else {\n    lineAlpha = texture2D(alphaTexture, vec2(abs(u), v)).a;\n    if (lineAlpha < bodyThreshold) {\n      discard;\n    }\n  }\n  gl_FragColor = baseColor;\n  gl_FragColor.a *= alpha * lineAlpha;\n#ifdef RENDER_PATTERN\n  float distanceFromOrigin = length(v_ssPosition - v_ssV0);\n  v = (v_ssAdvance + distanceFromOrigin) / patternTextureSize.y;\n  float textureAlpha = texture2D(patternTexture, vec2(0.5, v)).a;\n# ifdef RENDER_ALPHA\n  if (textureAlpha < 1.0) {\n    discard;\n  }\n  gl_FragColor = baseColor;\n  gl_FragColor.a = alpha;\n# else\n  gl_FragColor.a *= textureAlpha;\n# endif\n#else \n# ifdef RENDER_ALPHA\n  gl_FragColor = baseColor;\n  gl_FragColor.a = alpha;\n# endif\n#endif\n}");
b.add("shaders/line-fill.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n  precision mediump int;\n#endif\nattribute float refIndex;\nattribute float dataIndex;\nattribute float expansionDirection;\nuniform float lineSectionOffset;\nuniform vec2 positionDataTextureSize;\nuniform sampler2D positionDataTexture;\nuniform float lineAAPointCount;\nuniform mat4 modelViewProjMatrix;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\nuniform float halfLineWidth;\nuniform float lineWidthFactor;\nconst float dataSize = 1.0;\n#ifdef RENDER_PATTERN\nuniform sampler2D advanceTexture;\nuniform vec2 advanceTextureSize;\nuniform vec2 viewportSize;\nuniform float zoom;\nvarying vec2 v_ssV0;\nvarying float v_ssAdvance;\nvarying vec2 v_ssPosition;\n#endif\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value * TILES_PER_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset, vec2 size) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, size.x)) / size.x;\n  float y = floor(pixel / size.x) / size.y;\n  return vec2(x, y);\n}\nvec2 getVertex(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture,\n              texLocationFromIndex(index + lineSectionOffset, 0.0, positionDataTextureSize));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\n#ifdef RENDER_PATTERN\nfloat getAdvance(float index) {\n  vec4 packedAdvance = texture2D(advanceTexture, texLocationFromIndex(index, 0.0, advanceTextureSize));\n  return ((packedAdvance.w * 256.0 + packedAdvance.z) * 256.0 + packedAdvance.y) * 256.0 + packedAdvance.x;\n}\n#endif\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvoid main() {\n  \n  \n  \n  float index0 = refIndex;\n  float index1 = index0 + 1.0;\n  \n  vec2 v0 = getVertex(index0);\n  vec2 v1 = getVertex(index1);\n  bool v0Endcap = false;\n  bool v1Endcap = false;\n  \n  float tileSpaceHalfLineWidth = (halfLineWidth + lineAAPointCount) * lineWidthFactor;\n  if (isJump(v0)) {\n    if (isJump(v1)) {\n      gl_Position = vec4(2.0, 0.0, 2000.0, 1.0);\n      return;\n    }\n    v0.y -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (isJump(v1)) {\n    v1.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  v0Endcap = drawEndcap(v0);\n  if (v0Endcap) {\n    v0.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v1Endcap = drawEndcap(v1);\n  if (v1Endcap) {\n    v1.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v0 -= SIGNED_VERTEX_OFFSET;\n  v1 -= SIGNED_VERTEX_OFFSET;\n  vec2 tangent = normalize(v1 - v0);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 currentVertexCenter;\n  bool extendForEndcap = false;\n  \n  \n  if (index0 == dataIndex) {\n    currentVertexCenter = v0;\n    extendForEndcap = v0Endcap;\n    tangent *= -1.0;\n  } else {\n    currentVertexCenter = v1;\n    extendForEndcap = v1Endcap;\n  }\n  normal = normal * expansionDirection * tileSpaceHalfLineWidth * TILES_PER_POINT;\n  vec2 offsetFromCenter = normal;\n  if (extendForEndcap) {\n    offsetFromCenter += tangent * tileSpaceHalfLineWidth * TILES_PER_POINT;\n  }\n  \n  \n  v_colorFactor = 2.0 * expansionDirection * halfLineWidth + 1.0;\n  \n  v_position = currentVertexCenter + offsetFromCenter;\n  v_v0 = v0;\n  v_v1 = v1;\n  v_uv = vec2(expansionDirection, (halfLineWidth * 2.0 + 0.5) / MAX_HALF_LINE_WIDTH);\n  vec4 center =  modelViewProjMatrix * vec4(currentVertexCenter, 0.0, 1.0);\n  vec4 offset = modelViewProjMatrix * vec4(offsetFromCenter, 0.0, 0.0);\n  vec4 finalPosition = center + offset;\n  gl_Position = finalPosition;\n#ifdef RENDER_PATTERN\n  float virtualViewportFactor = pow(2.0, -mod(zoom, 0.5));\n  vec2 virtualViewportSize = viewportSize * virtualViewportFactor;\n  float v0Advance = getAdvance(index0);\n  float v1Advance = getAdvance(index1);\n  vec4 dcV0 = modelViewProjMatrix * vec4(v0, 0.0, 1.0);\n  vec4 dcV1 = modelViewProjMatrix * vec4(v1, 0.0, 1.0);\n  dcV0 /= dcV0.w;\n  dcV1 /= dcV1.w;\n  center /= center.w;\n  vec2 ssV0 = (dcV0.xy + vec2(1.0, 1.0)) * 0.5 * virtualViewportSize;\n  vec2 ssV1 = (dcV1.xy + vec2(1.0, 1.0)) * 0.5 * virtualViewportSize;\n  vec2 ssCenter = (center.xy + vec2(1.0, 1.0)) * 0.5 * virtualViewportSize;\n  float ssSegmentLength = length(ssV1 - ssV0);\n  float ssAdvanceFactor = ssSegmentLength / (v1Advance - v0Advance);\n  v_ssAdvance = v0Advance * ssAdvanceFactor;\n  v_ssV0 = ssV0;\n  v_ssPosition = ssCenter;\n#endif\n#ifdef RENDERING_TEST\n  gl_PointSize = 1.0;\n#endif\n}");
b.add("shaders/line-normal-gen.frag","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nvarying vec2 v_uv;\nuniform sampler2D vertexTexture;\nuniform vec2 vertexTextureSize;\nvec2 shortTo8BitVec2(float value) {\n  vec2 res;\n  if (value < 0.0) {\n    res.x = mod(floor(-value), 256.0);\n    res.y = 128.0 + floor(-value / 256.0);\n  } else {\n    res.x = floor(mod(value, 256.0));\n    res.y = floor(value / 256.0);\n  }\n  return res / 255.0;\n}\nvec4 toRGBA(vec2 value) {\n  return vec4(shortTo8BitVec2(value.x),\n              shortTo8BitVec2(value.y));\n}\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index) {\n  float x = floor(mod(index, vertexTextureSize.x)) / vertexTextureSize.x;\n  float y = floor(index/ vertexTextureSize.x) / vertexTextureSize.y;\n  return vec2(x, y);\n}\nvec2 getVertexCenter(float index) {\n  vec4 packedPosition = texture2D(vertexTexture, texLocationFromIndex(index));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\nfloat lineIntersections(vec2 p, vec2 r,\n                        vec2 q, vec2 s) {\n  vec2 pq = q - p;\n  return cross(vec3(pq, 0.0), vec3(s, 0.0)).z / cross(vec3(r, 0.0), vec3(s, 0.0)).z;\n}\nfloat indexFromUV(vec2 uv) {\n  float x = floor(uv.x * vertexTextureSize.x);\n  float y = floor(uv.y * vertexTextureSize.y);\n  return y * vertexTextureSize.x + x;\n}\nbool hasEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nbool isJumpVertex(vec2 vertex) {\n  return vertex.x > LINE_JUMP_VERTEX_CEIL;\n}\nvoid main() {\n  float index = indexFromUV(v_uv);\n  vec2 p0 = getVertexCenter(index - 1.0);\n  vec2 p1 = getVertexCenter(index + 0.0);\n  vec2 p2 = getVertexCenter(index + 1.0);\n  bool p0IsJump = isJumpVertex(p0);\n  bool p1IsJump = isJumpVertex(p1);\n  bool p2IsJump = isJumpVertex(p2);\n  if (p0IsJump) {\n    p0 -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (hasEndcap(p0)) {\n    p0 -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (p1IsJump) {\n    p1 -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (hasEndcap(p1)) {\n    p1 -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (p2IsJump) {\n    p2 -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (hasEndcap(p2)) {\n    p2 -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (p0IsJump || p1IsJump || p2IsJump) {\n    \n    vec2 normal;\n    if (p2IsJump) {\n      vec2 p1p0 = normalize(p1 - p0);\n      normal = TILE_SIZE_IN_POINT * vec2(p1p0.y, -p1p0.x);\n    } else {\n      vec2 p2p1 = normalize(p1 - p2);\n      normal = TILE_SIZE_IN_POINT * vec2(-p2p1.y, p2p1.x);\n    }\n    gl_FragColor = toRGBA(normal);\n  } else {\n    vec2 p0p1 = normalize(p1 - p0);\n    vec2 p2p1 = normalize(p1 - p2);\n    vec2 np0p1 = vec2(p0p1.y, -p0p1.x);\n    vec2 np2p1 = vec2(-p2p1.y, p2p1.x);\n    vec2 n = np0p1 + np2p1;\n    vec2 a = p1 + np2p1;\n    n = normalize(n);\n    float t = lineIntersections(p1, n, a, p2p1);\n    n = t * n * TILE_SIZE_IN_POINT;\n    gl_FragColor = toRGBA(n);\n  }\n}");
b.add("shaders/line-normal-gen.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvarying vec2  v_uv;\nvoid main() {\n  v_uv = position;\n  gl_Position.zw = vec2(0.0, 1.0);\n  gl_Position.xy = 2.0 * position - vec2(1.0, 1.0);\n}");b.add("shaders/loading.frag","#ifdef GL_ES\n  precision highp float;\n#endif \nuniform vec3 color;\nvoid main() {\n  gl_FragColor = vec4(color, 1.0);\n}");b.add("shaders/loading.vert","#ifdef GL_ES\n  precision highp float;\n#endif \nuniform mat4 viewProjMatrix;\nuniform mat4 modelMatrix;\nattribute vec2 position;\nvoid main() {\n  gl_Position = viewProjMatrix * modelMatrix * vec4(position, 0.0, 1.0);\n}");
b.add("shaders/polygon-fill.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec4 fillColor;\nuniform float alpha;\nvoid main() {\n  gl_FragColor = fillColor;\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/polygon-fill.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nattribute float dataIndex;\nuniform mat4 modelViewProjMatrix;\nuniform float polygonOffset;\nuniform float drawingStartIndex;\nuniform vec2 dataTextureSize;\nuniform sampler2D positionDataTexture;\nconst float positionOffset = 0.0;\nconst float dataSize = 1.0;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(highp float index, float offset) {\n  index = polygonOffset + index;\n  float pixel = index * dataSize + offset;\n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  return vec2(x, y);\n}\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvec2 getVertexCenter(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture, texLocationFromIndex(index, positionOffset));\n  vec2 vertex = vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n  if (drawEndcap(vertex)) {\n    vertex.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (isJump(vertex)) {\n    vertex.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  vertex -= SIGNED_VERTEX_OFFSET;\n  return vertex;\n}\nvec4 worldToDc(vec2 v) {\n  \n  vec4 ucv = modelViewProjMatrix * vec4(v, 0.0, 1.0);\n  return ucv;\n}\nvoid main() {\n  gl_Position = worldToDc(getVertexCenter(dataIndex + drawingStartIndex));\n}");
b.add("shaders/polygon-stroke.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_position;\nvarying float v_normalLength;\nvarying vec2 v_center1;\nvarying vec2 v_center2;\nvarying float v_expansionDirection;\nvarying float v_expansionLength;\nvarying float v_aaSize;\nuniform float strokeWidth;\nuniform vec4 strokeColor;\nuniform float alpha;\nvoid main() {\n    gl_FragColor = strokeColor;\n    \n    vec2 v1 = v_position - v_center1;\n    vec2 v2 = v_position - v_center2;\n    float len1 = length(v1);\n    float len2 = length(v2);\n    float isBlended = step(strokeWidth, abs(v_expansionLength));\n    float blendFactor = isBlended * (strokeWidth - v_expansionLength) / v_aaSize;\n    gl_FragColor = mix(strokeColor, vec4(0.0, 0.0, 0.0, 0.0), blendFactor);\n    vec2 center;\n    vec2 direction;\n    float len;\n    if (len1 > len2) {\n      len = len2;\n      center = v_center2;\n      direction = v_center2 - v_center1;\n    } else {\n      len = len1;\n      center = v_center1;\n      direction = v_center1 - v_center2;\n    }\n    float dotValue = dot(v_position - center, direction);\n    if ( dotValue > 0.0 && len > strokeWidth * (1.0 + v_aaSize)) {\n      discard;\n    }\n    gl_FragColor.a *= alpha;\n}");
b.add("shaders/polygon-stroke.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_color;\nvarying vec2 v_center;\nvarying vec2 v_center1;\nvarying vec2 v_center2;\nvarying vec2 v_position;\nvarying float v_normalLength;\nvarying float v_expansionDirection;\nvarying float v_expansionLength;\nvarying float v_aaSize;\nattribute float dataIndex;\nattribute float centerIndex1;\nattribute float centerIndex2;\nattribute float expansionDirection;\nuniform float polygonSize;\nuniform float polygonOffset;\nuniform float drawingStartIndex;\nuniform vec2 dataTextureSize;\nuniform sampler2D positionDataTexture;\nuniform sampler2D normalDataTexture;\nuniform sampler2D normalDataTexture2;\nuniform float strokeWidth;\nuniform vec2 screenSize;\nuniform mat4 viewProjMatrix;\nuniform mat4 modelMatrix;\nconst float dataSize = 1.0;\nconst float positionOffset = 0.0;\nconst float normalOffset = 0.0;\nconst float aaSize = 0.2;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  index = polygonOffset + mod(index + 0.01, polygonSize) - 0.01;\n  float pixel = index * dataSize + offset;\n  \n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  \n  return vec2(x, y);\n}\nfloat unpackSignedFloat(vec2 value) {\n  float byte1 = floatToInt(value.y);\n  float packedInt;\n  if (byte1 > 127.0) {\n    packedInt = -(byte1 - 128.0) * 256.0 - floatToInt(value.x);\n  } else {\n    packedInt = byte1 * 256.0 + floatToInt(value.x);\n  }\n  return shortToFloat(packedInt);\n}\nvec2 getNormal(float index) {\n  vec4 packedNormal = texture2D(normalDataTexture, texLocationFromIndex(index, normalOffset));\n  return (vec2(unpackSignedFloat(packedNormal.xy),\n               unpackSignedFloat(packedNormal.zw)));\n}\nvec2 getVertexCenter(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture, texLocationFromIndex(index, positionOffset));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\nvec2 dcToSc(vec2 v) {\n  vec2 ndcv = (v + vec2(1.0, 1.0)) * 0.5;\n  return screenSize * ndcv;\n}\nvec2 scToDc(vec2 v) {\n  return (2.0 * v / screenSize) - vec2(1.0, 1.0);\n}\nvec2 worldToSc(vec2 v) {\n  \n  vec4 ucv = viewProjMatrix * modelMatrix * vec4(v, 0.0, 1.0);\n  \n  vec2 dcv = ucv.xy / ucv.w;\n  \n  \n  return dcToSc(dcv);\n}\nvec2 getPosition() {\n  vec2 normal = TILE_SIZE_IN_POINT * getNormal(drawingStartIndex + dataIndex) / TILE_SIZE_IN_POINT;\n  float originalLength = length(normal);\n  v_normalLength = originalLength;\n  \n  normal = normalize((viewProjMatrix * modelMatrix * vec4(normalize(normal), 0.0, 0.0)).xy * screenSize);\n  \n  normal *= originalLength;\n  vec2 scPosition = worldToSc(getVertexCenter(drawingStartIndex + dataIndex));\n  vec2 center1 = getVertexCenter(drawingStartIndex + centerIndex1);\n  vec2 center2 = getVertexCenter(drawingStartIndex + centerIndex2);\n  v_center1 = worldToSc(center1);\n  v_center2 = worldToSc(center2);\n  v_expansionDirection = expansionDirection;\n  v_expansionLength = expansionDirection * strokeWidth * (1.0 + aaSize);\n  scPosition += v_expansionLength * normal;\n  v_aaSize = aaSize;\n  v_position = scPosition;\n  return scToDc(scPosition);\n}\nvoid main() {\n  gl_Position = vec4(getPosition(), 0.0, 1.0);\n}");
b.add("shaders/raster-tile.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform sampler2D rasterTileTexture;\nuniform float alpha;\nvarying vec2 v_uv;\nvoid main() {\n  gl_FragColor = texture2D(rasterTileTexture, v_uv);\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/raster-tile.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nvarying vec2 v_uv;\nvoid main() {\n  v_uv = position;\n  gl_Position = modelViewProjMatrix * vec4(position, 0.0, 1.0);\n}");
b.add("shaders/shield.frag","");b.add("shaders/shield.vert","");b.add("shaders/text-label.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_uv;\nuniform sampler2D glyphTexture;\nuniform vec4 color;\nuniform float alpha;\nuniform float transitionEndDistance;\nuniform float transitionStartDistance;\nuniform float fontScaleFactor;\nconst float DISCARD_MIN = 0.01;\nvec4 getColor(vec2 uv) {\n  vec4 color = texture2D(glyphTexture, v_uv);\n  return color;\n}\nvoid main() {\n#ifdef RENDERING_TEST\n   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n   return;\n#endif\n  vec4 texColor = getColor(v_uv);\n  float texAlpha = texColor.a;\n  \n  \n  \n  \n  float distance = (1.0 - texAlpha) * 2.0 - 1.0;\n  gl_FragColor = color;\n  float factor = 1.0 - smoothstep(transitionStartDistance, transitionEndDistance, distance);\n  gl_FragColor.a *= factor * alpha;\n}");
b.add("shaders/shield-text-label.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nvarying vec2 v_uv;\nuniform sampler2D glyphTexture;\nuniform vec4 color;\nuniform float alpha;\nconst float DISCARD_MIN = 0.01;\nvec4 getColor(vec2 uv) {\n  vec4 color = texture2D(glyphTexture, v_uv);\n  return color;\n}\nvoid main() {\n  gl_FragColor = getColor(v_uv);\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/axis-aligned-text-label.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nvarying vec2 v_uv;\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nattribute float dataIndex;\nuniform sampler2D dataTexture;\nuniform vec2 dataTextureSize;\nuniform vec2 glyphTexturePoints;\nuniform vec2 viewportSize;\n#if SNAP_GLYPHS_TO_PIXEL\n# if ALLOW_SUPERSAMPLING\n  uniform float pixelSnapFactor;\n# endif\n#endif\nuniform float fontScaleFactor;\nconst float advanceOffset = 0.0;  \nconst float uvStartOffset = 1.0;  \nconst float uvEndOffset = 2.0;    \nconst float dataSize = 3.0;\nuniform float halfLineWidth;\nuniform vec2 center;\nuniform vec2 positionOffset;\nuniform float labelIndexOffset;\nuniform float pr;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackSignedFloat(vec2 value) {\n  float byte1 = floatToInt(value.y);\n  float packedInt;\n  if (byte1 > 127.0) {\n    packedInt = -(byte1 - 128.0) * 256.0 - floatToInt(value.x);\n  } else {\n    packedInt = byte1 * 256.0 + floatToInt(value.x);\n  }\n  return shortToFloat(packedInt);\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  return vec2(x, y);\n}\nvec4 getGlyphBounds(float glyphIndex) {\n  vec2 uvStartCoord = texLocationFromIndex(glyphIndex, uvStartOffset);\n  vec2 uvEndCoord = texLocationFromIndex(glyphIndex, uvEndOffset);\n  vec4 packedStartUV = texture2D(dataTexture, uvStartCoord);\n  vec4 packedEndUV = texture2D(dataTexture, uvEndCoord);\n  vec2 startUV = vec2(unpackUnsignedFloat(packedStartUV.xy), unpackUnsignedFloat(packedStartUV.zw));\n  vec2 endUV = vec2(unpackUnsignedFloat(packedEndUV.xy), unpackUnsignedFloat(packedEndUV.zw));\n  return vec4(startUV, endUV);\n}\nvec2 getGlyphSize(vec4 glyphBounds) {\n  return glyphBounds.zw - glyphBounds.xy;\n}\nvec2 getAdvance(float glyphIndex) {\n  vec2 advanceTexCoord = texLocationFromIndex(glyphIndex, advanceOffset);\n  vec4 packedAdvance = texture2D(dataTexture, advanceTexCoord);\n  vec2 result;\n  result.x = unpackSignedFloat(packedAdvance.xy);\n  result.y = unpackSignedFloat(packedAdvance.zw);\n  return result;\n}\nvec2 straightLinePosition(vec2 advance) {\n  vec2 ssPosition;\n  vec4 dcPosition = modelViewProjMatrix * vec4(center, 0.0, 1.0);\n  dcPosition /= dcPosition.w;\n  ssPosition = (dcPosition.xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  ssPosition += fontScaleFactor * advance;\n  ssPosition += positionOffset;\n#if SNAP_GLYPHS_TO_PIXEL\n#if !ALLOW_SUPERSAMPLING\n  float pixelSnapFactor = pr;\n#endif\n  \n  ssPosition = floor(pixelSnapFactor * ssPosition + 0.5) / pixelSnapFactor;\n#endif\n  return ssPosition;\n}\nvoid setUV(vec2 bl, vec2 tr) {\n  vec2 originalGlyphSize = (tr - bl);\n  tr /= glyphTexturePoints;\n  bl /= glyphTexturePoints;\n  vec2 uvSize = tr - bl;\n  v_uv = bl + position * uvSize;\n}\nvoid setVertexPosition(vec2 advance,\n                       vec2 bl,\n                       vec2 tr) {\n  vec2 glyphSize = (tr - bl) * fontScaleFactor;\n  \n  gl_Position.xy = position * glyphSize;\n  vec2 ssLinePosition = straightLinePosition(advance);\n  gl_Position.xy += ssLinePosition;\n  gl_Position.xy = (2.0 * (gl_Position.xy) / viewportSize) - vec2(1.0, 1.0);\n  gl_Position.zw = vec2(1.0, 1.0);\n}\nvoid main() {\n  float glyphIndex = dataIndex + labelIndexOffset;\n  vec2 advance = TILE_SIZE_IN_POINT * getAdvance(glyphIndex);\n  vec4 glyphBounds = TILE_SIZE_IN_POINT * getGlyphBounds(glyphIndex);\n  setUV(glyphBounds.xy, glyphBounds.zw);\n  setVertexPosition(advance, glyphBounds.xy, glyphBounds.zw);\n}");
b.add("shaders/curved-text-label.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nvarying vec2 v_uv;\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nattribute float dataIndex;\nuniform sampler2D dataTexture;\nuniform vec2 dataTextureSize;\nuniform float maxAdvance;\nuniform float fontScaleFactor;\nuniform vec2 glyphTexturePoints;\nuniform float haloSize;\nconst float advanceOffset = 0.0;  \nconst float uvStartOffset = 1.0;  \nconst float uvEndOffset = 2.0;    \nconst float W1 = 5.0 / 9.0;\nconst float W2 = 8.0 / 9.0;\nconst float W3 = 5.0 / 9.0;\nconst float dataSize = 3.0;\nuniform vec2 viewportSize;\nuniform vec2 p0;\nuniform vec2 p1;\nuniform vec2 p2;\nuniform vec2 p3;\nuniform float halfLineWidth;\nuniform vec2 center;\nuniform vec2 positionOffset;\nuniform float labelIndexOffset;\nfloat derivativeLength(float t, vec4 Vx, vec4 Vy) {\n  \n  vec4  dT = vec4(3.0 * t * t, 2.0 * t, 1.0, 0.0);\n  \n  mat4 B = mat4(-1.0,  3.0,    -3.0, 1.0,\n                3.0,   -6.0,   3.0,  0.0,\n                -3.0,  3.0,    0.0,  0.0,\n                1.0,   0.0,    0.0,  0.0);\n  vec4 dTB = dT * B;\n  return length(vec2(dot(dTB, Vx), dot(dTB, Vy)));\n}\nfloat curveLength(float t, vec4 Vx, vec4 Vy) {\n  return ( 0.5 * t *\n    (W1 * derivativeLength(t * 1.774597 * 0.5, Vx, Vy) +\n     W2 * derivativeLength(t * 0.5, Vx, Vy) +\n     W3 * derivativeLength(t * 0.225403 * 0.5, Vx, Vy)));\n}\nvec4 bezierCurvePosition(vec2 advance) {\n  vec4 ndcp0 = modelViewProjMatrix * vec4(p0, 0.0, 1.0);\n  vec4 ndcp1 = modelViewProjMatrix * vec4(p1, 0.0, 1.0);\n  vec4 ndcp2 = modelViewProjMatrix * vec4(p2, 0.0, 1.0);\n  vec4 ndcp3 = modelViewProjMatrix * vec4(p3, 0.0, 1.0);\n  vec2 ssp0 = ((ndcp0 / ndcp0.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 ssp1 = ((ndcp1 / ndcp1.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 ssp2 = ((ndcp2 / ndcp2.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 ssp3 = ((ndcp3 / ndcp3.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  if (ssp0.x > ssp3.x) {\n    vec2 tmp = ssp3;\n    ssp3 = ssp0;\n    ssp0 = tmp;\n    tmp = ssp1;\n    ssp1 = ssp2;\n    ssp2 = tmp;\n  }\n  vec4 Vx = vec4(ssp0.x, ssp1.x, ssp2.x, ssp3.x);\n  vec4 Vy = vec4(ssp0.y, ssp1.y, ssp2.y, ssp3.y);\n  float minT = 0.0;\n  float maxT = 1.0;\n  float minLength = 0.0;\n  \n  float anchorLength = curveLength(BEZIER_CURVE_ANCHOR, Vx, Vy);\n  float maxLength = curveLength(1.0, Vx, Vy);\n  float anchoredAdvance = advance.x - halfLineWidth + anchorLength;\n  if (anchoredAdvance > maxLength) {\n    return vec4(2.0, 2.0, 0.0, 0.0);\n  } else {\n    \n    for (int i = 0; i < 10; i++) {\n      float middleT = mix(minT, maxT, 0.5);\n      float middleLength = curveLength(middleT, Vx, Vy);\n      if (anchoredAdvance > middleLength) {\n        minT = middleT;\n        minLength = middleLength;\n      } else {\n        maxT = middleT;\n        maxLength = middleLength;\n      }\n    }\n    \n    float t = mix(minT, maxT, anchoredAdvance / (maxLength + minLength));\n    \n    float t2 = t * t;\n    float t3 = t * t2;\n    vec4 T = vec4(t3,\n                  t2,\n                  t,\n                  1.0);\n    vec4 dT = vec4(3.0 * t2,\n                   2.0 * t,\n                   1.0,\n                   0.0);\n    \n    mat4 B = mat4(-1.0,  3.0,    -3.0, 1.0,\n                  3.0,   -6.0,   3.0,  0.0,\n                  -3.0,  3.0,    0.0,  0.0,\n                  1.0,   0.0,    0.0,  0.0);\n    vec4 TB = T * B;\n    vec2 pos = vec2(dot(TB, Vx), dot(TB, Vy));\n    vec4 dTB = dT * B;\n    vec2 tangent = vec2(dot(dTB, Vx), dot(dTB, Vy));\n    \n    vec2 normal = normalize(vec2(-tangent.y, tangent.x));\n    pos += normal * (advance.y + positionOffset.y);\n    pos = (pos * 2.0 / viewportSize) - vec2(1.0, 1.0);\n    return vec4(pos, normal);\n  }\n}\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackSignedFloat(vec2 value) {\n  float byte1 = floatToInt(value.y);\n  float packedInt;\n  if (byte1 > 127.0) {\n    packedInt = -(byte1 - 128.0) * 256.0 - floatToInt(value.x);\n  } else {\n    packedInt = byte1 * 256.0 + floatToInt(value.x);\n  }\n  return shortToFloat(packedInt);\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, dataTextureSize.x)) / dataTextureSize.x;\n  float y = floor(pixel / dataTextureSize.x) / dataTextureSize.y;\n  return vec2(x, y);\n}\nvec4 getGlyphBounds(float glyphIndex) {\n  vec2 uvStartCoord = texLocationFromIndex(glyphIndex, uvStartOffset);\n  vec2 uvEndCoord = texLocationFromIndex(glyphIndex, uvEndOffset);\n  vec4 packedStartUV = texture2D(dataTexture, uvStartCoord);\n  vec4 packedEndUV = texture2D(dataTexture, uvEndCoord);\n  vec2 startUV = vec2(unpackUnsignedFloat(packedStartUV.xy), unpackUnsignedFloat(packedStartUV.zw));\n  vec2 endUV = vec2(unpackUnsignedFloat(packedEndUV.xy), unpackUnsignedFloat(packedEndUV.zw));\n  return vec4(startUV, endUV);\n}\nvec2 getGlyphSize(vec4 glyphBounds) {\n  return glyphBounds.zw - glyphBounds.xy;\n}\nvec2 getAdvance(float glyphIndex) {\n  vec2 advanceTexCoord = texLocationFromIndex(glyphIndex, advanceOffset);\n  vec4 packedAdvance = texture2D(dataTexture, advanceTexCoord);\n  vec2 result;\n  result.x = unpackSignedFloat(packedAdvance.xy);\n  result.y = unpackSignedFloat(packedAdvance.zw);\n  return result;\n}\nvoid setUV(vec2 bl, vec2 tr) {\n  vec2 originalGlyphSize = (tr - bl);\n  tr /= glyphTexturePoints;\n  bl /= glyphTexturePoints;\n  vec2 uvSize = tr - bl;\n  v_uv = bl + position * uvSize;\n}\nvoid setVertexPosition(vec2 advance,\n                       vec2 bl,\n                       vec2 tr) {\n  vec2 glyphSize = (tr - bl) * fontScaleFactor;\n  \n  gl_Position.xy = position * glyphSize;\n  vec2 bezierAdvance = vec2(advance.x, advance.y) * fontScaleFactor;\n  vec4 bezierPosition = bezierCurvePosition(bezierAdvance);\n  vec2 normal = bezierPosition.zw;\n  float x = dot(normal, vec2(1.0, 0.0));\n  float y = dot(normal, vec2(0.0, 1.0));\n  float alpha = -atan(x, y);\n  mat2 rot = mat2(cos(alpha), sin(alpha),\n      -sin(alpha), cos(alpha));\n  gl_Position.xy = rot * gl_Position.xy;\n  gl_Position.xy = 2.0 * (gl_Position.xy) / (viewportSize);\n  gl_Position.xy += bezierPosition.xy;\n  gl_Position.zw = vec2(1.0, 1.0);\n}\nvoid main() {\n  float glyphIndex = labelIndexOffset + dataIndex;\n  vec2 advance = TILE_SIZE_IN_POINT * getAdvance(glyphIndex);\n  vec4 glyphBounds = TILE_SIZE_IN_POINT * getGlyphBounds(glyphIndex);\n  setUV(glyphBounds.xy, glyphBounds.zw);\n  setVertexPosition(advance, glyphBounds.xy, glyphBounds.zw);\n}");
b.add("shaders/basic.frag","#ifdef GL_ES\n  precision highp float;\n#endif \nuniform vec4 color;\nuniform float alpha;\nvoid main() {\n  gl_FragColor = color;\n  gl_FragColor.a *= alpha;\n}");b.add("shaders/basic.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform mat4 modelViewProjMatrix;\nattribute vec2 position;\nvoid main() {\n  gl_Position = modelViewProjMatrix * vec4(position, 0.0, 1.0);\n}");b.add("shaders/grid.frag","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform vec4 color;\nuniform float alpha;\nvarying float v_alpha;\nvoid main() {\n  gl_FragColor = color;\n  gl_FragColor.a *= v_alpha;\n}");
b.add("shaders/grid.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nattribute float useAlpha;\nvarying float v_alpha;\nuniform float alpha;\nuniform mat4 modelViewProjMatrix;\nvoid main() {\n  v_alpha = useAlpha;\n  if (useAlpha > 0.0) {\n    v_alpha = alpha;\n  } else {\n    v_alpha = 1.0;\n  }\n  vec4 dcPosition = modelViewProjMatrix * vec4(position, 0.0, 1.0);\n  gl_Position = dcPosition;\n}");b.add("shaders/grid-line-fill.vert","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n  precision mediump int;\n#endif\nattribute float refIndex;\nattribute float dataIndex;\nattribute float expansionDirection;\nuniform float lineSectionOffset;\nuniform vec2 positionDataTextureSize;\nuniform sampler2D positionDataTexture;\nuniform float lineAAPointCount;\nuniform vec2 viewportSize;\nuniform mat4 modelViewProjMatrix;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\nuniform float halfLineWidth;\nconst float dataSize = 1.0;\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value * TILES_PER_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  index = lineSectionOffset + index;\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, positionDataTextureSize.x)) / positionDataTextureSize.x;\n  float y = floor(pixel / positionDataTextureSize.x) / positionDataTextureSize.y;\n  return vec2(x, y);\n}\nvec2 getVertex(float index) {\n  vec4 packedPosition = texture2D(positionDataTexture, texLocationFromIndex(index, 0.0));\n  return vec2(unpackUnsignedFloat(packedPosition.xy),\n              unpackUnsignedFloat(packedPosition.zw));\n}\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvoid main() {\n  \n  \n  \n  float index0 = refIndex;\n  float index1 = index0 + 1.0;\n  \n  vec2 v0 = getVertex(index0);\n  vec2 v1 = getVertex(index1);\n  bool v0Endcap = false;\n  bool v1Endcap = false;\n  if (isJump(v0)) {\n    if (isJump(v1)) {\n      gl_Position = vec4(2.0, 0.0, 2000.0, 1.0);\n      return;\n    }\n    v0.y -= LINE_JUMP_VERTEX_OFFSET;\n  } else if (isJump(v1)) {\n    v1.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  v0Endcap = drawEndcap(v0);\n  if (v0Endcap) {\n    v0.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v1Endcap = drawEndcap(v1);\n  if (v1Endcap) {\n    v1.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  v0 -= SIGNED_VERTEX_OFFSET;\n  v1 -= SIGNED_VERTEX_OFFSET;\n  \n  vec4 v0_dc = modelViewProjMatrix * vec4(v0, 0.0, 1.0);\n  vec4 v1_dc = modelViewProjMatrix * vec4(v1, 0.0, 1.0);\n  \n  vec2 v0_ss = ((v0_dc / v0_dc.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  vec2 v1_ss = ((v1_dc / v1_dc.w).xy + vec2(1.0, 1.0)) * 0.5 * viewportSize;\n  \n  vec2 tangent = normalize(v1_ss - v0_ss);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 offset = normal * (halfLineWidth + lineAAPointCount) * expansionDirection;\n  vec2 currentCenter;\n  bool extendForEndcap = false;\n  \n  \n  if (index0 == dataIndex) {\n    currentCenter = v0_ss;\n    extendForEndcap = v0Endcap;\n    tangent *= -1.0;\n  } else {\n    currentCenter = v1_ss;\n    extendForEndcap = v1Endcap;\n  }\n  if (extendForEndcap) {\n    offset += tangent * (halfLineWidth + lineAAPointCount);\n  }\n  \n  vec2 finalPosition = currentCenter + offset;\n  \n  \n  v_colorFactor = 2.0 * expansionDirection * halfLineWidth + 1.0;\n  v_position = finalPosition;\n  v_v0 = v0_ss;\n  v_v1 = v1_ss;\n  v_uv = vec2(expansionDirection, (halfLineWidth * 2.0 + 0.5) / MAX_HALF_LINE_WIDTH);\n  \n  vec2 pos = (finalPosition * 2.0 / viewportSize) - vec2(1.0, 1.0);\n  gl_Position = vec4(pos, 0.0, 1.0);\n}");
b.add("shaders/grid-line-fill.frag","#ifdef GL_ES\n  precision highp float;\n  precision mediump int;\n#endif\nuniform vec4 color;\nuniform vec4 outerColor;\nuniform float alpha;\nuniform float lineAAPointCount;\nuniform sampler2D alphaTexture;\nuniform float halfLineWidth;\nuniform float endcapThreshold;\nuniform float bodyThreshold;\nvarying float v_colorFactor;\nvarying vec2 v_position;\nvarying vec2 v_uv;\nvarying vec2 v_v0;\nvarying vec2 v_v1;\nvoid main() {\n  vec4 baseColor = mix(outerColor, color, clamp(v_colorFactor, 0.0, 1.0));\n  float lineAlpha;\n  float distanceFromCenterLine;\n  float len0 = length(v_position - v_v0);\n  float len1 = length(v_position - v_v1);\n  float len;\n  vec2 direction;\n  vec2 closestCenter;\n  float endcapDiscard;\n  if (len0 > len1) {\n    closestCenter = v_v1;\n    direction = v_v0 - v_v1;\n    len = len1;\n  } else {\n    closestCenter  = v_v0;\n    direction = v_v1 - v_v0;\n    len = len0;\n  }\n  float dotValue = dot(direction, v_position - closestCenter);\n  float u = v_uv[0];\n  float v = v_uv[1];\n  if (dotValue < 0.0) {\n    \n    \n    \n    \n    \n    u = len / (halfLineWidth + lineAAPointCount);\n    \n    lineAlpha = texture2D(alphaTexture, vec2(u, v)).a;\n    if (lineAlpha < endcapThreshold) {\n      discard;\n    }\n  } else {\n    lineAlpha = texture2D(alphaTexture, vec2(abs(u), v)).a;\n    if (lineAlpha < bodyThreshold) {\n      discard;\n    }\n  }\n  gl_FragColor = baseColor;\n  gl_FragColor.a *= alpha * lineAlpha;\n# ifdef RENDER_ALPHA\n  gl_FragColor = baseColor;\n  gl_FragColor.a = alpha;\n# endif\n}");
b.add("shaders/line-vertex-fetch.frag","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n  precision mediump int;\n#endif\nuniform sampler2D vertexTexture;\nuniform vec2 vertexTextureSize;\nuniform vec2 targetSize;\nuniform vec2 viewportSize;\nuniform float lineStartIndex;\nuniform float lineCount;\nconst float dataSize = 1.0;\nvec2 shortTo8BitVec2(float value) {\n  vec2 res;\n  \n  \n  \n  \n  res.x = floor(mod(value, 256.0));\n  res.y = floor(value / 256.0);\n  return res / 255.0;\n}\nvec4 toRGBA(vec2 value) {\n  return vec4(shortTo8BitVec2(value.x),\n              shortTo8BitVec2(value.y));\n}\nfloat floatToInt(float value) {\n  return floor(value * 255.0);\n}\nfloat shortToFloat(float value) {\n  return value / TILE_SIZE_IN_POINT;\n}\nfloat unpackUnsignedFloat(vec2 value) {\n  float packedInt = floatToInt(value.y) * 256.0 + floatToInt(value.x);\n  return shortToFloat(packedInt);\n}\nvec2 texLocationFromIndex(float index, float offset) {\n  float pixel = index * dataSize + offset + 0.01;\n  float x = floor(mod(pixel, vertexTextureSize.x)) / vertexTextureSize.x;\n  float y = floor(pixel / vertexTextureSize.x) / vertexTextureSize.y;\n  return vec2(x, y);\n}\nbool isJump(vec2 vertex) {\n  return vertex.y > LINE_JUMP_VERTEX_CEIL;\n}\nbool drawEndcap(vec2 vertex) {\n  return vertex.x > LINE_DRAW_ENDCAP_CEIL;\n}\nvec2 getVertex(float index) {\n  vec4 packedPosition = texture2D(vertexTexture, texLocationFromIndex(index, 0.0));\n  vec2 vertex = vec2(unpackUnsignedFloat(packedPosition.xy),\n                     unpackUnsignedFloat(packedPosition.zw));\n  if (drawEndcap(vertex)) {\n    vertex.x -= LINE_DRAW_ENDCAP_OFFSET;\n  }\n  if (isJump(vertex)) {\n    vertex.y -= LINE_JUMP_VERTEX_OFFSET;\n  }\n  vertex -= SIGNED_VERTEX_OFFSET;\n  return vertex;\n}\nfloat indexFromFragCoord() {\n  float line = viewportSize[1] - ceil(targetSize.y - gl_FragCoord.y);\n  float row = gl_FragCoord.x;\n  return row + targetSize.x * line;\n}\nvoid main() {\n  float index = indexFromFragCoord() + lineStartIndex;\n  vec2 vertex = TILE_SIZE_IN_POINT * getVertex(index);\n  gl_FragColor = toRGBA(vertex);\n}");
b.add("shaders/line-vertex-fetch.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvoid main() {\n  gl_Position.zw = vec2(0.0, 1.0);\n  gl_Position.xy = 2.0 * position - vec2(1.0, 1.0);\n}");b.add("shaders/texture-saver.vert","#ifdef GL_ES\n  precision highp float;\n#endif\nattribute vec2 position;\nvarying vec2 v_uv;\nvoid main() {\n  v_uv = position;\n  gl_Position = vec4(position * 2.0 - vec2(1.0, 1.0), 0.0, 1.0);\n}");b.add("shaders/texture-saver.frag","#ifdef GL_ES\n  precision highp float;\n  precision highp sampler2D;\n#endif\nuniform sampler2D originalTexture;\nvarying vec2 v_uv;\nvoid main() {\n  gl_FragColor = texture2D(originalTexture, v_uv);\n}")});
g.prototype.use=g.prototype.use;g.prototype.unuse=g.prototype.eb;g.prototype.attributes=g.prototype.attributes;g.prototype.uniforms=g.prototype.H;g.prototype.glObject=g.prototype.Cb;d.Program=d.hb;d.Shader=d.Iz;return d});u(103,0,function(){function e(e){this.h=e;this.Eb=e.createFramebuffer();this.Xd();this.once("released",this.pa,this)}var g=l(97);e.prototype.bind=function(){var e=this.h;e.bindFramebuffer(e.FRAMEBUFFER,this.Eb);return this};e.prototype.m=function(){var e=this.h;e.bindFramebuffer(e.FRAMEBUFFER,
null);return this};e.prototype.Vj=function(e,g){var p=this.h;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0+(g||0),p.TEXTURE_2D,e,0);return this};e.prototype.vy=function(e){var g=this.h;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.STENCIL_ATTACHMENT,g.RENDERBUFFER,e);return this};e.prototype.Cb=function(){return this.Eb};e.prototype.pa=function(){this.h.deleteFramebuffer(this.Eb);this.Eb=null};e.prototype.Hv=function(){var e=this.h,g=e.checkFramebufferStatus(e.FRAMEBUFFER);switch(g){case e.FRAMEBUFFER_COMPLETE:return;
case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:e="Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT";break;case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:e="Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";break;case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:e="Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS";break;case e.FRAMEBUFFER_UNSUPPORTED:e="Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED";break;default:e="Incomplete framebuffer: "+g}console.error("Framebuffer error: "+
e);debugger};e.prototype.read=function(e,g){var p=this.h;this.bind();var k=new Uint8Array(e*g*4);p.readPixels(0,0,e,g,p.RGBA,p.UNSIGNED_BYTE,k);this.m();return k};g.ba(e.prototype);e.prototype.bind=e.prototype.bind;e.prototype.unbind=e.prototype.m;e.prototype.colorTexture=e.prototype.Vj;e.prototype.stencilRenderbuffer=e.prototype.vy;e.prototype.glObject=e.prototype.Cb;e.prototype.destroy=e.prototype.pa;e.prototype.checkStatus=e.prototype.Hv;return e});u(104,0,function(){function e(m){this.D=m;this.G=
e.G(m);var c=this;this.G.then(function(b){c.o=b[0];c.Pa=b[1].Pa;c.$a=b[1].$a});this.Sd=new k(m)}var g=l(99),r=l(102),q=l(92),p=l(11),k=l(103);e.prototype.read=function(e){var c=this.D,b=new (l("webgl/texture"))(c,e.width,e.height);c.activeTexture(c.TEXTURE0);b.bind().data(null,c.RGBA).Rc(c.NEAREST).Pc(c.NEAREST).gh(c.CLAMP_TO_EDGE).hh(c.CLAMP_TO_EDGE);this.Sd.bind();this.Sd.Vj(b.Cb());b.m();c.viewport(0,0,e.width,e.height);this.o.use();this.Pa.bind();this.$a.bind();c.enableVertexAttribArray(this.o.attributes().position);
c.vertexAttribPointer(this.o.attributes().position,2,c.FLOAT,!1,8,0);c.uniform1i(this.o.H().tb,1);c.activeTexture(c.TEXTURE1);e.bind();c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);this.o.eb();e.m();b=new Uint8Array(e.width*e.height*4);c.readPixels(0,0,e.width,e.height,c.RGBA,c.UNSIGNED_BYTE,b);this.Sd.m();this.Pa.m();this.$a.m();c.viewport(0,0,c.canvas.width,c.canvas.height);return b};e.G=function(e,c){c=c||"shaders/";var b=e.id+"-texture-saver-deps";if(q.has(b))return q.get(b);c=r.hb.kb(e,c+
"texture-saver.vert",c+"texture-saver.frag");e=g.WQ(e);e=q.get(e);c=p.all([c,e]);q.add(b,c);return c};return e});u(105,0,function(){function e(c,b,a){k.Va(this)&&(this.width=b,this.height=a,this.Eb=c.createTexture(),this.h=c,this.Xd(),this.once("released",this.pa,this))}var g=l(3),r=l(92),q=l(95);l(104);var p=l(5),k=l(18),m=l(97);e.prototype.bind=function(){var c=this.h;c.bindTexture(c.TEXTURE_2D,this.Eb);return this};e.prototype.m=function(){return this};e.prototype.Cb=function(){return this.Eb};
e.prototype.dM=function(c,b,a,d){var e=this.h;this.ql?(e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texSubImage2D(e.TEXTURE_2D,0,a,d,b,e.UNSIGNED_BYTE,c),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1)):e.texSubImage2D(e.TEXTURE_2D,0,a,d,b,e.UNSIGNED_BYTE,c);return this};e.bq=function(c,b,a,d){b=a*d*b+8;if(c.byteLength>=b)return c;b=new Uint8Array(b);b.set(c,0);return b};e.prototype.data=function(c,b,a,d){b=b||e.RGB;a=a||b;var h=this.h;(this.ql=d)?(h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!0),h.texImage2D(h.TEXTURE_2D,
0,a,this.width,this.height,0,b,h.UNSIGNED_BYTE,c),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1)):h.texImage2D(h.TEXTURE_2D,0,a,this.width,this.height,0,b,h.UNSIGNED_BYTE,c);return this};e.prototype.Ai=function(c,b,a,d,e,f){var h=this.h;h.texSubImage2D(h.TEXTURE_2D,0,a,d,e,f,b,h.UNSIGNED_BYTE,c);return this};e.prototype.ek=function(c,b,a){var d=this.h;b=b||d.RGB;(this.ql=a)?(d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!0),d.texImage2D(d.TEXTURE_2D,0,b,b,d.UNSIGNED_BYTE,c),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!1)):
(d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!1),d.texImage2D(d.TEXTURE_2D,0,b,b,d.UNSIGNED_BYTE,c));return this};e.prototype.Pc=function(c){var b=this.h;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,c);return this};e.prototype.Rc=function(c){var b=this.h;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,c);return this};e.prototype.gh=function(c){var b=this.h;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,c);return this};e.prototype.hh=function(c){var b=this.h;b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,
c);return this};e.prototype.use=function(c){this.bind();c();this.m();return this};e.prototype.Uj=function(c){this.h.Uj(c)};e.prototype.pa=function(){this.h.bindTexture(this.h.TEXTURE_2D,null);this.h.deleteTexture(this.Eb);this.Eb=null};m.ba(e.prototype);e.ek=function(c,b,a){var d=new e(c,b.width,b.height);c="jpg"===b.Ss?c.RGB:c.RGBA;d.bind().ek(b,c,a).Rc(e.NEAREST).Pc(e.NEAREST).m();return d};e.cQ=function(c,b,a,d){return b.get(a,r.kg).then(function(a){return e.ek(c,a,d)})};e.mQ=function(c,b){c/=
b||4;b=Math.min(p.Vq(c),2048);return g.g.j(b,p.Vq(c/b))};q.once("creation",function(c){e.RGBA=c.RGBA;e.RGB=c.RGB;e.LUMINANCE=c.LUMINANCE;e.ALPHA=c.ALPHA;e.UNSIGNED_BYTE=c.UNSIGNED_BYTE;e.UNSIGNED_SHORT_5_6_5=c.UNSIGNED_SHORT_5_6_5;e.UNSIGNED_SHORT_4_4_4_4=c.UNSIGNED_SHORT_4_4_4_4;e.UNSIGNED_SHORT_5_5_5_1=c.UNSIGNED_SHORT_5_5_5_1;e.LINEAR=c.LINEAR;e.NEAREST=c.NEAREST;e.REPEAT=c.REPEAT;e.CLAMP_TO_EDGE=c.CLAMP_TO_EDGE});e.prototype.bind=e.prototype.bind;e.prototype.unbind=e.prototype.m;e.prototype.glObject=
e.prototype.Cb;e.prototype.wrapS=e.prototype.gh;e.prototype.wrapT=e.prototype.hh;e.prototype.minFilter=e.prototype.Rc;e.prototype.magFilter=e.prototype.Pc;e.prototype.destroy=e.prototype.pa;return e});u(106,0,function(){function e(e,c,b,a){this.Wt=e;this.offset=c;this.size=b;this.next=a;this.hr=this.Pq=!0}function g(k,c){this.D=k;this.data={};var b=k.getParameter(k.MAX_TEXTURE_SIZE);c?(c=q.qw(c),this.width=c[0],this.height=c[1]):this.height=this.width=b;this.tf=new r(k,this.width,this.height);this.tf.bind().data(null,
k.RGBA).Rc(r.NEAREST).Pc(r.NEAREST).m();this.rM=this.width*this.height;k=new e(this,0,this.rM,null);this.tl=[k];this.Ou(k)}for(var r=l(105),q=l(5),p=new Uint8Array(32384),k=0;32384>k;k++)p[k]=255;e.prototype.Cb=function(){return this.Wt.Cb()};e.split=function(k,c){var b=new e(k.Wt,k.offset+c,k.size-c,k.next);k.next=b;k.size=c;return[k,b]};e.TJ=function(e){var c=e;for(e=e.next;e&&e.Pq;)e.hr=!1,c.size+=e.size,e=e.next;c.next=e};g.prototype.Pq=function(e){this.Qo(e)};g.prototype.get=function(){};g.prototype.xD=
function(e,c,b){var a=this.D;b=b||e.byteLength/4;var d=Math.floor(c/this.width);c%=this.width;var h=this.width-c;if(h>=b)this.tf.bind().Ai(new Uint8Array(e.buffer,0,e.byteLength),a.RGBA,c,d,b,1).m();else{var f=new Uint8Array(e.buffer,0,4*h);this.tf.bind().Ai(f,a.RGBA,c,d,h,1);d++;c=0;f=h;b-=h;h=Math.floor(b/this.width);if(0<h){var n=this.width*h,k=new Uint8Array(e.buffer,4*f,4*h*this.width);this.tf.Ai(k,a.RGBA,c,d,this.width,h);b-=n;f+=n;d+=h}0!==b?(e=new Uint8Array(e.buffer,4*f,4*b),this.tf.Ai(e,
a.RGBA,c,d,b,1).m()):this.tf.m()}};g.prototype.YD=function(){var k=this.tl;this.tl=[];var c;var b=0;for(c=k.length;b<c;b++){var a=k[b];a.hr&&e.TJ(a)}b=0;for(c=k.length;b<c;b++)a=k[b],a.hr&&this.tl.push(a)};g.prototype.Ou=function(e){for(var c=e.size,b=0;0<c;){var a=Math.min(c,8096);this.xD(p,e.offset+b,a);b+=a;c-=a}};g.prototype.Qo=function(e){e.Pq=!0;this.tl.push(e);this.YD();this.Ou(e)};g.prototype.tb=function(){return this.tf};g.prototype.Cb=function(){return this.tf.Cb()};return g});u(107,0,function(){function e(e,
g,k){this.gn=k;this.style=g.Wc;this.scale=g.scale;this.ub=g.ub;this.qb=g.qb;this.ov={};this.alpha=1;g=this.gn[0];k=this.gn[1];for(var m=e[g];g<=k;){this.ov[g]=m;g++;var c=e[g];c&&(m=c)}this.reset()}var g=l(3),r=l(11);e.prototype.reset=function(){this.angle=0;this.rg=-1;this.icon=null;this.ya=g.g.j(0,0);this.jo={}};e.prototype.yB=function(e){return this.ov[e]};e.prototype.xB=function(e,g){g=Math.min(Math.max(this.gn[0],g),this.gn[1]);var k=this.yB(g);if("0"===k)return r.resolve(null);var m=this.jo[g];
if(m)return m;m=e.JJ(this,k,g);this.jo[g]=m.then(function(c){c&&c.nd();return c});return m};e.prototype.ss=function(e,g){this.rg=g;e=this.xB(e,g);e=e.catch(function(){return null});return e=e.then(function(e){return this.vD(e,g)}.bind(this))};e.prototype.vD=function(e,g){this.rg===g&&(e?(this.ya[0]=e.width,this.ya[1]=e.height):(this.ya[0]=0,this.ya[1]=0),this.icon=e);return this};e.prototype.de=function(e){this.position=e.origin;g.g.j(.5*-this.ya[0],.5*-this.ya[1])};e.prototype.Ff=function(){return this.ya};
e.prototype.En=function(){for(var e in this.jo)this.jo[e].then(function(e){e&&e.release()})};return e});u(108,0,function(){function e(e,g){this.gA=e.nd();this.width=e.size[0]/g;this.height=e.size[1]/g;this.once("released",e.release,e);this.Xd()}var g=l(97);e.prototype.Qj=function(){return this.gA};g.ba(e.prototype);return e});u(109,0,function(){function e(b,a,d){this.mq=d;this.aa=b;this.lJ="icon";this.rg=0;this.xa=a;this.vl={};this.tg={};this.It={}}var g=l(92),r=l(9),q=l(11),p=l(107),k=l(90),m=l(0),
c=l(108);e.prototype.fetch=function(b){var a=b.scale,d=b.pd,c=b.attributes,e=b.ub,n=b.qb,k=b.name,m="scale="+a+"&subtype="+d+"&tint="+e+"&emphasis="+n;a={mn:"icon",scale:a,pd:d,ub:e,qb:n,vc:b.vc};"poi"===d?(d=b.size||0,k=b.style,b=b.zoom||0,a.style=k,a.zoom=b,a.attributes=c,m=m+("&style="+k)+("&zoom="+b)+("&attributes="+encodeURIComponent(c)),(a.size=d)&&(m+="&size="+d)):"named"===d?(a.name=k,m+="&name="+k):(d=b.size||0,k=b.style,c=b.Gv,b=b.Dy,a.style=k,a.Gv=c,m=m+("&style="+k)+("&cartoId="+c),a.Dy=
b,m+="&transitType="+b,(a.size=d)&&(m+="&size="+d));return this.aa.get(this.lJ+"?"+m,g.kg,a,g.oh)};e.prototype.oB=function(b,a,d,c,e,n,k){b=this.vl[b];var f="",h=0,g;for(g in b){var m=b[g];f+=g+":"+m+",";h+=m}f=f.slice(0,-1);k.scale=d;k.style=c;k.pd="poi";k.zoom=a;k.ub=e;k.qb=n;k.attributes=f;k.vc=h};e.prototype.St=function(b,a,d,c,e,n){return b+":"+a+":"+d+":"+c+":"+e+":"+n};e.prototype.JJ=function(b,a,d){var c=b.scale,e=b.style,n=b.ub;b=b.qb;var k=this.St(a,d,c,e,n,b),g=this.tg[k];if(!g){var m=
this;this.oB(a,d,c,e,n,b,this.It);g=this.fetch(this.It).then(function(a){return m.zu(a,c)});this.tg[k]=g;g.then(function(a){a.once("released",function(){delete m.tg[k]})});g.catch(function(){delete m.tg[k]})}return g};e.prototype.zu=function(b,a){b=this.mq.Sr(b);return(new c(b,a)).Cg()};e.prototype.zK=function(b){var a=b.Bd;b=a.xm;a=a.Sa;for(var d in b)if(!this.vl[d]){var c=b[d];console.assert(0<=c);console.assert(c<a.length);this.vl[d]=a[c].attributes}q.resolve("__icon-data-ready__")};e.prototype.zH=
function(b){for(var a=[],d=b.elements,c=0,e=d.length;c<e;c++){var n=d[c],k=n.Pb;if(k.Bd){var g=this.QB(n,b,k.Bd);a.push(g);this.PB(n,k.Bd)}}b.once("destroyed",this.cv,this);return q.all(a)};e.prototype.QB=function(b,a,d){a=new p(d,a,a.Pp);d=a.ss(this,this.rg);this.Ja("zoom-changed",a.ss.bind(a,this),a);b.zc=a;return d};e.prototype.PB=function(b,a){for(var d=Object.keys(a),c=0,e=d.length;c<e;++c){var n=this.vl[a[d[c]]];if(n&&n.hasOwnProperty("6")&&(n=n["6"],this.xa.pt[n])){b.zI=n;break}}};e.prototype.cv=
function(b){var a=b.elements.map(function(a){return(a=a.zc)?(this.ua("zoom-changed",null,a),a):null},this);k.Zi.fa(function(){a.forEach(function(a){a&&a.En()})})};e.prototype.yH=function(b){var a=b.elements.map(function(a){return this.vB(b).then(function(b){a.zc=b})}.bind(this));b.once("destroyed",this.cv,this);return q.all(a)};e.prototype.MI=function(b,a,d,c){return{scale:a,style:b,ub:d,qb:c,pd:"named",name:this.xa.ds[b],vc:0}};e.prototype.vB=function(b){var a=b.Wc,d=b.scale,c=b.ub,e=b.qb,n=this.St("__arrow__",
0,d,a,c,e),k=this,g=this.tg[n];g||(g=this.fetch(this.MI(a,d,c,e)).then(function(a){return k.zu(a,d)}).then(function(a){a.width*=.5;a.height*=.5;return a.nd()}),this.tg[n]=g,g.catch(function(){delete k.tg[n]}));return g.then(function(){return(new p({0:"__arrow__"},b,[m.Dr,m.Dr])).ss(k,0)})};e.prototype.update=function(b){b=Math.floor(b.gk());b!==this.rg&&(this.rg=b,this.K("zoom-changed",this.rg))};r.ba(e.prototype);return e});u(110,0,function(){function e(){this.ta=[];this.th=!0}e.prototype.push=function(){this.hc();
return this.ta.push.apply(this.ta,arguments)};e.prototype.splice=function(){this.hc();return this.ta.splice.apply(this.ta,arguments)};e.prototype.remove=function(e){this.hc();this.splice(this.indexOf(e),1)};e.prototype.indexOf=function(){return this.ta.indexOf.apply(this.ta,arguments)};e.prototype.reset=function(){this.hc();this.ta=[]};e.prototype.hc=function(){this.th=!0};e.prototype.Qg=function(){return this.th};e.prototype.update=function(){this.th=!1};return e});u(111,0,function(){function e(e){g.Va(this)&&
(r.prototype.constructor.call(this),this.Ic=e)}var g=l(18),r=l(110);l(13);var q=l(3);g.$(r,e);e.prototype.type=function(){return this.Ic};e.prototype.gr=function(){return!0};e.prototype.Yh=function(){return!0};e.prototype.Xe=function(){};e.prototype.Mf=function(){};e.prototype.Vm=function(){};e.prototype.Ul=function(){};e.prototype.Ql=function(){};e.prototype.ze=function(){};e.prototype.Xl=function(){};e.prototype.update=function(e){this.ta.forEach(function(k){q.P.multiply(k.bb,e.Lb,k.sb)});r.prototype.update.apply(this,
arguments)};e.prototype.er=function(){};return e});u(112,0,function(){function e(){this.Pt=[]}e.prototype.ki=function(e){e.nd();this.Pt.push(e)};e.prototype.pa=function(){this.Qo()};e.prototype.Qo=function(){this.Pt.forEach(this.$A,this)};e.prototype.$A=function(e){e.release()};return e});u(113,0,function(){function e(a,b,d,c){p.Va(this)&&(m.prototype.constructor.call(this,a,d,c),this.Jv=b)}function g(a,b){e.prototype.constructor.call(this,a,b,d,h)}function r(a,b){e.prototype.constructor.call(this,
a,b,4,f)}function q(a,b,d){var c=k.Vq(d.length);e.prototype.constructor.call(this,a,b,8,c);this.pattern=d;this.Fw=this.pattern.length/c}var p=l(18),k=l(5),m=l(105),c=l(0),b=l(11),a=l(96);p.$(m,e);e.prototype.Wq=function(){return{hs:this.h.CLAMP_TO_EDGE,t:this.h.CLAMP_TO_EDGE}};e.prototype.pw=function(){return{min:this.h.LINEAR,Zw:this.h.LINEAR}};e.prototype.rb=function(){var a=this.getData(),d=this.h.ALPHA,c=this.Wq(),e=this.pw();this.bind().data(a,d,d,!1).Rc(e.min).Pc(e.Zw).gh(c.hs).hh(c.t).m();
return b.resolve(this)};var d=c.di,h=1*c.di;p.$(e,g);g.prototype.getData=function(){for(var a=Array(d*h),b=0,e=c.di,f=Array(c.di),n=0;n<c.di;n++)f[n]=1;2<=this.Jv?(f[1]=.5,f[2]=.66,f[3]=.75,f[4]=.8,f[5]=.9,f[6]=1):(f[1]=0,f[2]=0,f[3]=.5,f[4]=.6,f[5]=.7,f[6]=.8,f[7]=.9);for(var k=c.Jm/this.Jv,g=-.5*k,m=0;m<e;m++){var t=m;n=t*f[m];var p=0;t>n&&(p=.5*(t-n));t=.5*n+g;n=t+k+p;var l=t+k;m?(p=255,t=Math.ceil(e*t/n),l=Math.ceil(e*l/n)):(p=128,t=0,l=.5*e);for(var q=l-t,r=0;1>r;r++){for(n=0;n<t;n++)a[b++]=
p;for(var u=p/q;n<l;n++)p-=u,a[b++]=p;for(;n<e;n++)a[b++]=0}}return new Uint8Array(a)};g.prototype.pw=function(){return{min:this.h.LINEAR,Zw:this.h.LINEAR}};var f=c.kK;p.$(e,r);r.prototype.getData=function(){for(var a=Array(4*f),b=0,d=.75*f,c=.25*f,e=0;e<f;e++){var h=255;e>c&&e<d&&(h=0);for(var n=0;4>n;n++)a[b++]=h}return new Uint8Array(a)};r.prototype.Wq=function(){return{t:this.h.REPEAT,hs:this.h.CLAMP_TO_EDGE}};p.$(e,q);q.prototype.getData=function(){for(var a=this.pattern.qm,b=Array(this.width*
this.height),d=255,c=0,e=0,f=0,h=a.length;f<h;f++){e=a[f]/this.Fw+e;for(var n=Math.floor(e),k=0;k<n;k++)for(var g=0;8>g;g++)b[c++]=d;e-=n;d=d?0:255;e=0!==e?e-1:0}return new Uint8Array(b)};q.prototype.Wq=function(){return{t:this.h.REPEAT,hs:this.h.CLAMP_TO_EDGE}};var n={nt:1,Wy:2,Zs:3},t={};n.get=function(b,d,c,e,f){var h=b.id+"-procedural-texture-"+d+"x-"+c+(e?"-"+e:"");if(a.has(h))return a.get(h);b=(new t[c](b,d,f)).rb().then(function(b){b.once("released",function(){a.remove(h)});return b.Cg()});
b.catch(function(){a.remove(h)});a.add(h,b);return b};t[n.nt]=g;t[n.Wy]=r;t[n.Zs]=q;return n});u(114,0,function(){var e=l(5),g=l(105),r=l(98),q=l(96),p=l(0);return{rm:function(k,m){var c=e.qw((m.byteLength||m.length)/4),b=new g(k,c[0],c[1]);m=g.bq(m,4,c[0],c[1]);b.bind().data(m,k.RGBA).Rc(k.NEAREST).Pc(k.NEAREST).m();return b},Uq:function(e){var k="shared-ascending-ibo-"+e.id;if(q.has(k))return q.get(k);var c=this.BB(Math.max(6*p.wr,p.Om));e=r.em(e,new Uint16Array(c));q.add(k,e);return e},BB:function(e){return Array.from(Array(e).keys())}}});
u(115,0,function(){function e(){}var g=l(3),r=l(102),q=l(98),p=l(105),k=l(11),m=l(99),c=l(113),b=l(96),a=l(114),d=l(0);e.prototype.AB=function(){for(var a=this.h,b=[],e=d.zy[0],g=d.zy[1];e<=g;e++)b.push(c.get(a,e,c.nt).then(function(a){return a.nd()}));return k.all(b)};e.prototype.rb=function(c,f){this.h=c;this.rf=0;this.xa=f;this.eC=f.kc*f.ai;this.dC=f.kc*f.tk;this.fB=f.kc*f.$h;this.eB=f.kc*f.sk;f="line-rendering-resources-"+c.id+"-"+f.id;if(b.has(f))c=b.get(f);else{var h=this.AB(),g=r.hb.kb(c,"shaders/line-fill.vert",
"shaders/line-fill.frag"),l=r.hb.kb(c,"shaders/grid-line-fill.vert","shaders/grid-line-fill.frag"),q=r.hb.kb(c,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDER_PATTERN:1}),F=r.hb.kb(c,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDER_ALPHA:1}),z=r.hb.kb(c,"shaders/line-fill.vert","shaders/line-fill.frag",{RENDER_PATTERN:1,RENDER_ALPHA:1}),u=r.hb.kb(c,"shaders/line-vertex-fetch.vert","shaders/line-vertex-fetch.frag"),H=m.Vh(c),I=e.xf(c,d.wr),x=a.Uq(c);c=(new p(c,d.Rx[0],d.Rx[1])).bind().data(null,
c.RGBA,c.RGBA).Rc(c.NEAREST).Pc(c.NEAREST).m();c=k.all([h,g,l,q,F,z,u,H,I,x,c,null,null]);b.add(f,c)}return c=c.then(function(a){this.jC=a[0];this.pB=a[1];this.nB=a[2];this.yC=a[3];this.cA=a[4];this.dA=a[5];this.mv=a[8];this.ou=a[9];return this}.bind(this))};e.prototype.Gk=function(a){this.rf!==a&&(this.rf=a,this.xu=this.jC[a-1],this.EJ=d.Jm/this.rf)};e.prototype.Af=function(){return this.pB};e.prototype.$d=function(){return this.yC};e.prototype.Bg=function(){return this.cA};e.prototype.Pe=function(){return this.dA};
e.prototype.nm=function(){return this.nB};e.xf=function(a,b){var d=[],c;for(c=0;c<b;c++)d.push(c,c,-1),d.push(c,c,1),d.push(c+1,c,-1),d.push(c+1,c,-1),d.push(c,c,1),d.push(c+1,c,1);return q.xf(a,new Float32Array(d))};e.prototype.AD=function(a){var b=this.h;this.mv.bind();b.vertexAttribPointer(a.dataIndex,1,b.FLOAT,!1,12,0);b.vertexAttribPointer(a.refIndex,1,b.FLOAT,!1,12,4);b.vertexAttribPointer(a.expansionDirection,1,b.FLOAT,!1,12,8);this.mv.m();b.enableVertexAttribArray(a.dataIndex);b.enableVertexAttribArray(a.refIndex);
b.enableVertexAttribArray(a.expansionDirection)};e.prototype.Ep=function(a){var b=this.h;b.disableVertexAttribArray(a.dataIndex);b.disableVertexAttribArray(a.refIndex);b.disableVertexAttribArray(a.expansionDirection)};e.prototype.DD=function(a){var b=this.h;b.activeTexture(b.TEXTURE7);this.xu.bind();b.uniform1i(a.alphaTexture,7);b.uniform1f(a.lineAAPointCount,this.EJ)};e.prototype.Dg=function(a){var b=a.attributes(),d=a.H();a.use();this.AD(b);this.DD(d);this.ou.bind()};e.prototype.dh=function(a){var b=
this.h,d=a.attributes();this.Ep(d);a.eb();b.activeTexture(b.TEXTURE7);this.xu.m();this.ou.m()};e.prototype.$I=function(a,b,d){b*=4;for(var c=Array(4*d),e=0;e<c.length;e+=2)c[e+0]=(a[b+e]+1)%256,c[e+1]=0===c[e+0]?(a[b+e+1]+1)%32:a[b+e+1]%32;return this.zA(d,c)};e.prototype.zA=function(a,b){var d=Array(a),c;for(c=0;c<a;c++){var e=this.yA(b[4*c]+256*b[4*c+1],b[4*c+2]+256*b[4*c+3]);d[c]=e}return d};e.prototype.aC=function(a){return a>this.dC};e.prototype.HB=function(a){return a>this.eB};e.prototype.yA=
function(a,b){var d=this.aC(b);d&&(b-=this.eC);var c=this.HB(a);c&&(a-=this.fB);a=g.g.j(a,b);a.Nw=d;a.ZQ=c;return a};e.prototype.KI=function(b){var d=Array(b.length),c=0,e=g.g.create(),h;d[0]=0;var k=1;for(h=b.length;k<h;){var m=b[k-1],p=b[k];m.Nw&&p.Nw?c=0:(m=g.g.length(g.g.sub(e,p,m)),c=Math.floor(c+m));d[k++]=c}b=new Uint32Array(d);return a.rm(this.h,new Uint8Array(b.buffer))};e.LH=function(a,b,d,c,e,k){return Math.floor(b*c+(d?e:0))*Math.pow(2,16)+Math.floor(a*c+k)};e.get=function(a,b){return(new e).rb(a,
b)};return e});u(116,0,function(){function e(){}function g(){this.yn=0;this.hi=null}function r(c,b){this.IB=this.gp=!1;this.h=c;var a=this;r.G(c,b).then(function(b){a.jc=b[0];a.Af=a.jc.Af();a.$d=a.jc.$d();a.Bg=a.jc.Bg();a.Pe=a.jc.Pe();a.nm=a.jc.nm()});this.my();this.UB()}var q=l(11),p=l(0),k=l(96),m=l(115);e.Ud=function(){return!0};g.prototype.kk=function(){return 1>this.color[3]||1>this.Xm[3]||1>this.alpha};g.prototype.Cw=function(){return null!==this.hi};g.prototype.Jk=function(c){this.ce=c.R};
g.prototype.os=function(c,b,a,d){this.width=c;this.color=b;this.Xm=a;this.alpha=d};g.prototype.Hk=function(c,b){this.Sf=c;this.ak=b};g.prototype.ly=function(c){this.yn=c};g.prototype.Yx=function(c){this.uv=c};g.prototype.ey=function(c){this.hi=c};r.prototype.lj=function(c){function b(a){g=a;f.Cj(n,a)}function a(a){k=a.ce;1===f.iu(a)?f.wD(n,a):f.wg(n,a)}var d=this.jc,h=Array(9),f=this,n=c.H();h[0]=d.Dg.bind(d,c);h[0].Ud=function(a){return this!==a};h[8]=d.dh.bind(d,c);var k;a.Ud=function(b,d){return b!==
a||d.ce!==k};h[1]=a;h[7]=this.zg.bind(this);var g=null;b.Ud=function(a,d){return a!==b||d.alpha!==g.alpha||d.width!==g.width||d.color!==g.color||d.Xm!==g.Xm};h[2]=b;h[6]=e;h[3]=e;h[5]=e;h[4]=e;return h};r.prototype.Po=function(c,b){var a=b.attributes();b=b.H();b=this.yp.bind(this,a,b);b.Ud=function(){return!0};c[3]=b;c[5]=this.Fp.bind(this,a)};r.prototype.Qt=function(c){return this.Gb[c].map(function(b){return b})};r.prototype.UB=function(){this.Kd=Array(9);this.Gb=Array(7);this.Gb[0]=this.lj(this.Af);
this.Gb[2]=this.lj(this.$d);this.Gb[3]=this.Qt(0);this.Gb[4]=this.Qt(2);this.Gb[5]=this.lj(this.Bg);this.Gb[6]=this.lj(this.Pe);this.Gb[1]=this.lj(this.nm);this.Po(this.Gb[2],this.$d);this.Po(this.Gb[4],this.$d);this.Po(this.Gb[6],this.Pe);this.Gb[0][4]=this.wj.bind(this,this.Af.H());this.Gb[3][4]=this.Fl.bind(this,this.Af.H());this.Gb[1][4]=this.wj.bind(this,this.nm.H());this.Gb[2][4]=this.wj.bind(this,this.$d.H());this.Gb[4][4]=this.Fl.bind(this,this.$d.H());this.Gb[5][4]=function(c){this.Dl(this.Bg.H(),
this.wl,c)}.bind(this);this.Gb[6][4]=function(c){this.Dl(this.Pe.H(),this.wl,c)}.bind(this)};r.prototype.yq=function(){return new g};r.prototype.iu=function(c){return this.gp?c.Cw()?6:5:c.Cw()?c.kk()?4:2:c.kk()?3:this.IB?1:0};r.prototype.jb=function(c,b,a,d,e){b=c.elements;b.length&&(e=e[b[0].Pb.qd],c.R=c.R||{},c.R.Qr=e,c.R.bb=c.bb,c.R.qr=0)};r.prototype.ck=function(c,b,a){for(var d=this.h,e=0,f;e<c;)f=Math.min(p.wr,c-e),d.uniform1f(a.lineSectionOffset,b+e),d.drawElements(d.TRIANGLES,6*f,d.UNSIGNED_SHORT,
0),e+=f};r.ty=function(){var c=this.h;c.enable(c.BLEND);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)};r.aR=function(){this.ty()};r.EH=function(){var c=this.h;c.disable(c.BLEND)};r.prototype.my=function(){this.gp=!1;this.eu=.01;this.fu=.1;this.vp=1;this.Yu=.01;this.Zu=.1;this.xp=r.ty;this.li=this.hD};r.prototype.kL=function(c){this.gp=!0;this.wl=c;this.eu=.01;this.fu=.1;this.vp=1;this.Yu=.01;this.Zu=.1;this.xp=r.EH;this.li=this.QG};r.prototype.Fl=function(c,b){var a=
this.h,d=b.Sf,e=b.ak;a.disable(a.BLEND);a.enable(a.STENCIL_TEST);a.colorMask(!1,!1,!1,!1);a.stencilFunc(a.GEQUAL,b.yn,255);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);var f=this.eu,n=this.fu;a.uniform1f(c.bodyThreshold,f);a.uniform1f(c.endcapThreshold,n);this.ck(d,e,c);this.xp();a.colorMask(!0,!0,!0,!0);n=f=this.vp;a.uniform1f(c.bodyThreshold,f);a.uniform1f(c.endcapThreshold,n);a.stencilFunc(a.EQUAL,b.yn,255);a.stencilOp(a.KEEP,a.KEEP,a.INCR);this.ck(d,e,c);f=this.Yu;n=this.Zu;a.uniform1f(c.bodyThreshold,
f);a.uniform1f(c.endcapThreshold,n);this.ck(d,e,c);a.disable(a.STENCIL_TEST)};r.prototype.wj=function(c,b){var a=this.h;this.xp();a.enable(a.STENCIL_TEST);a.stencilFunc(a.GEQUAL,b.yn,255);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);var d=b.Sf;b=b.ak;a.uniform1f(c.endcapThreshold,0);a.uniform1f(c.bodyThreshold,0);this.ck(d,b,c);a.disable(a.STENCIL_TEST)};r.prototype.wg=function(c,b){var a=this.h;b=b.ce;var d=b.Qr,e=b.qr;a.uniformMatrix4fv(c.modelViewProjMatrix,!1,b.bb);a.activeTexture(a.TEXTURE0);d.bind();a.uniform1i(c.positionDataTexture,
0);a.uniform2f(c.positionDataTextureSize,d.width,d.height);a.uniform1f(c.lineWidthFactor,e)};r.prototype.wD=function(c,b){var a=this.h;b=b.ce;var d=b.Qr;a.uniformMatrix4fv(c.modelViewProjMatrix,!1,b.bb);a.activeTexture(a.TEXTURE0);d.bind();a.uniform1i(c.positionDataTexture,0);a.uniform2f(c.positionDataTextureSize,d.width,d.height)};r.prototype.zg=function(c){var b=this.h;b.activeTexture(b.TEXTURE0);c.ce.Qr.m()};r.prototype.Cj=function(c,b){var a=this.h,d=b.alpha,e=.5*b.width,f=b.Xm;a.uniform4fv(c.color,
b.color);a.uniform4fv(c.outerColor,f);a.uniform1f(c.alpha,d);a.uniform1f(c.halfLineWidth,e)};r.prototype.yp=function(c,b,a){c=this.h;var d=a.hi;c.activeTexture(c.TEXTURE6);d.bind();c.uniform1i(b.patternTexture,6);c.uniform2f(b.patternTextureSize,d.width,d.height*d.Fw);a=a.uv;c.activeTexture(c.TEXTURE5);a.bind();c.uniform1i(b.advanceTexture,5);c.uniform2f(b.advanceTextureSize,a.width,a.height);c.uniform2fv(b.viewportSize,this.Jj);c.uniform1f(b.zoom,this.gj.We())};r.prototype.Fp=function(c,b){c=this.h;
var a=b.hi;b=b.uv;c.activeTexture(c.TEXTURE5);b.m();c.activeTexture(c.TEXTURE6);a.m()};r.prototype.dD=function(c){var b=this.$d.attributes(),a=this.$d.H();this.jc.Dg(this.$d);this.wg(a,c);this.Cj(a,c);this.yp(b,a,c);c.kk()?this.Fl(a,c):this.wj(a,c);this.Fp(b,c);this.zg(c);this.jc.dh(this.$d)};r.prototype.aD=function(c){var b=this.Af.H();this.jc.Dg(this.Af);this.wg(b,c);this.Cj(b,c);c.kk()?this.Fl(b,c):this.wj(b,c);this.zg(c);this.jc.dh(this.Af)};r.prototype.hD=function(c){console.assert(!this.fO);
null!==c.hi?this.dD(c):this.aD(c)};r.prototype.Dl=function(c,b,a){var d=a.Sf,e=a.ak,f=this.h;f.enable(f.STENCIL_TEST);f.stencilFunc(f.NOTEQUAL,255,255);f.disable(f.BLEND);f.colorMask(!0,!0,!0,!0);a.kk()?(f.uniform1f(c.alpha,a.color[3]),f.stencilOp(f.KEEP,f.KEEP,f.KEEP)):(f.stencilOp(f.KEEP,f.KEEP,f.REPLACE),f.colorMask(!1,!1,!1,!0),f.uniform1f(c.alpha,b));f.uniform1f(c.endcapThreshold,.2);f.uniform1f(c.bodyThreshold,.2);this.ck(d,e,c);f.colorMask(!0,!0,!0,!0);f.disable(f.STENCIL_TEST)};r.prototype.QG=
function(c){if(c.hi){var b=this.Pe.H();var a=this.Pe.attributes();this.jc.Dg(this.Pe);this.wg(b,c);this.Cj(b,c);this.yp(a,b,c);this.Dl(b,this.wl,c);this.Fp(a,c);this.zg(c);this.jc.dh(this.Pe)}else b=this.Bg.H(),this.jc.Dg(this.Bg),this.wg(b,c),this.Cj(b,c),this.Dl(b,this.wl,c),this.zg(c),this.jc.dh(this.Bg)};r.prototype.wi=function(c,b){this.hA=this.li;this.li=this.XC;for(var a=0;9>a;a++)this.Kd[a]=e;this.gj=c;this.Jj=b};r.prototype.xi=function(){for(var c=5;9>c;c++)this.Kd[c](this.jp);this.li=this.hA;
this.Jj=this.gj=null};r.prototype.nD=function(c,b){for(var a=5;a<=c;a++)this.Kd[a](this.jp);for(a=0;9>a;a++)this.Kd[a]=b[a]};r.prototype.up=function(c,b,a){for(;4>=c;c++)b[c](a)};r.prototype.XC=function(c){var b=this.iu(c);b=this.Gb[b];for(var a=this.Kd,d=0;4>=d;d++)if(a[d].Ud(b[d],c)){this.nD(8-d,b);this.up(d,b,c);break}this.jp=c};r.prototype.Rb=function(c){c=c.devicePixelRatio;this.jc.Gk(c);this.rf=c};r.G=function(c,b){var a=c.id+"-line-renderer-deps";if(k.has(a))return k.get(a);c=m.get(c,b);c=
q.all([c]);k.add(a,c);return c};return r});u(117,0,function(){function e(){}var g=l(102),r=l(98),q=l(11),p=l(96),k=l(0);e.prototype.rb=function(e){this.h=e;var c="polygon-rendering-resources-"+e.id;if(p.has(c))e=p.get(c);else{e=g.hb.kb(e,"shaders/polygon-fill.vert","shaders/polygon-fill.frag");var b=this.xA();e=q.all([e,b]);p.add(c,e)}return e=e.then(function(a){this.qB=a[0];this.du=a[1];return this}.bind(this))};e.prototype.Mq=function(){return this.qB};e.prototype.xA=function(){for(var e=this.h,
c=[],b=0;b<6*k.SJ;b++)c.push(b);return r.xf(e,new Uint16Array(c))};e.prototype.uD=function(e){var c=this.h;this.du.bind();c.vertexAttribPointer(e.dataIndex,1,c.UNSIGNED_SHORT,!1,2,0);c.enableVertexAttribArray(e.dataIndex)};e.prototype.Ep=function(e){this.h.disableVertexAttribArray(e.dataIndex);this.du.m()};e.prototype.Dg=function(e){var c=e.attributes();e.use();this.uD(c)};e.prototype.dh=function(e){var c=e.attributes();e.eb();this.Ep(c)};e.get=function(k){return(new e).rb(k)};return e});u(118,0,
function(){function e(){}function g(c){this.Vf=c.yq()}function r(c,b){this.h=c;var a=this;r.G(c).then(function(d){a.xx=d[0];a.lb=new m(c,b);a.Mq=a.xx.Mq()});this.VB(a.Mq);this.kj=[]}var q=l(11),p=l(96),k=l(117),m=l(116);e.Ud=function(){return!0};g.prototype.Hk=function(c,b,a,d){this.Sf=c;this.ak=b;this.aJ=a;this.An=d;this.Vf.Hk(d,a);this.Vf.ly(0)};g.prototype.Jk=function(c,b){this.ce=c.R;this.ce.cw=b;this.Vf.Jk(c)};g.prototype.fL=function(){this.ew=!1};g.prototype.iL=function(c,b,a,d,e,f,n){this.fillColor=
c;this.alpha=b;this.ew=a;this.bM=d;this.Bv=n;this.ix=1>c[3]||1>b;.2>e?(a=c,e=1):(a=c,c=f);d&&this.Vf.os(e,a,c,b)};r.prototype.VB=function(c){function b(a){f.yD(n,a)}function a(a){k=a.ce;f.wg(n,a)}var d=this.xx;this.Kd=Array(9);var h=Array(9),f=this,n=c.H();h[0]=d.Dg.bind(d,c);h[0].Ud=function(a){return this!==a};h[8]=d.dh.bind(d,c);var k;a.Ud=function(b,d){return b!==a||d.ce!==k};h[1]=a;h[7]=this.zg.bind(this,n);b.Ud=function(){return!0};h[3]=b;h[5]=e;this.Bl=null;h[2]=function(a){a.ix?f.hB():f.bB()};
h[2].Ud=function(a,b){return this.Bl!==b.ix};h[6]=e;h[4]=this.eD.bind(this,n);this.IK=h};r.prototype.qH=function(){return new g(this.lb)};r.prototype.jb=function(c,b,a,d,e){var f=c.elements;f.length&&(this.lb.jb.apply(this.lb,arguments),c.R.bo=e[f[0].Pb.qd])};r.prototype.hB=function(){var c=this.h;c.enable(c.BLEND);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);c.blendEquation(c.FUNC_ADD);this.Bl=!0};r.prototype.bB=function(){var c=this.h;c.disable(c.BLEND);this.Bl=
!1};r.prototype.wi=function(c,b){this.gj=c;this.Jj=b;this.Pu();this.lb.wi(c,b);this.jp=this.Fu=null};r.prototype.xi=function(){this.lb.xi();this.kj.length&&this.$t()};r.prototype.Pu=function(){for(var c=0;9>c;c++)this.Kd[c]=e;this.Bl=null};r.prototype.$t=function(){this.kj.forEach(this.YC,this);this.kj.length=0;for(var c=5;9>c;c++)this.Kd[c](this.Hu);this.Pu()};r.prototype.HK=function(c){c=c.R.wx;c.ew&&(this.Fu!==c.Bv&&this.kj.length&&(this.lb.xi(),this.$t(),this.lb.wi(this.gj,this.Jj)),this.Fu=c.Bv,
c.bM&&this.lb.li(c.Vf,this.gj,this.Jj),this.kj.push(c))};r.prototype.wg=function(c,b){var a=this.h;b=b.ce;a.uniformMatrix4fv(c.modelViewProjMatrix,!1,b.bb);a.uniform1i(c.positionDataTexture,0);a.uniform2f(c.dataTextureSize,b.bo.width,b.bo.height);a.activeTexture(a.TEXTURE0);b.bo.bind();b.cw.bind()};r.prototype.yD=function(c,b){var a=this.h;a.uniform1f(c.polygonOffset,b.aJ);a.uniform4fv(c.fillColor,b.fillColor);a.uniform1f(c.alpha,b.alpha);a.uniform1f(c.drawingStartIndex,0)};r.prototype.zg=function(c,
b){c=this.h;b=b.ce;c.activeTexture(c.TEXTURE0);b.bo.m();b.cw.m()};r.prototype.eD=function(c,b){c=this.h;c.drawElements(c.TRIANGLES,b.Sf,c.UNSIGNED_SHORT,2*b.ak)};r.prototype.JD=function(c,b){for(var a=5;a<=c;a++)this.Kd[a](this.Hu);for(a=0;9>a;a++)this.Kd[a]=b[a]};r.prototype.up=function(c,b,a){for(;4>=c;c++)b[c](a)};r.prototype.YC=function(c){for(var b=this.IK,a=this.Kd,d=0;4>=d;d++)if(a[d].Ud(b[d],c)){this.JD(8-d,b);this.up(d,b,c);break}this.Hu=c};r.prototype.Rb=function(c){this.lb.Rb(c)};r.G=function(c,
b){var a=c.id+"-polygon-renderer-deps";if(p.has(a))return p.get(a);var d=k.get(c);c=m.G(c,b);d=q.all([d,c]);p.add(a,d);return d};return r});u(120,0,function(){function e(a,b){-1===a.indexOf(b)&&a.push(b)}function g(b,e){q.Va(this)&&(this.type=e,this.key=b,this.Rf=new a,this.size=Math.pow(2,-b.z),this.ug=h.NONE,this.sb=k.Lf(b),this.bb=d.P.create(),this.Ne=[],this.Jl=[],this.So=f[this.type],this.gB=c.Ge(this.So))}var r=l(11),q=l(18),p=l(9),k=l(19),m=l(13),c=l(5),b=l(90),a=l(112),d=l(3),h={NONE:1,kz:2,
Ny:3,Cz:4,Dz:5,$y:6};Object.freeze(h);var f={};f[m.S]={ji:m.S};f[m.Sb]={ji:m.Sb};f[m.V]={oi:m.V};f[m.rc]={oi:m.rc};f[m.O]={Yg:m.O};f[m.u]={bf:m.u};f[m.dc]={bf:m.dc};f[m.qc]={bf:m.qc};f[m.ka]={Ck:m.ka};f[m.ge]={};f[m.nb]={};f[m.He]={};f[m.gf]={};f[m.Gd]={};f[m.og]={};f[m.ef]={};f[m.ee]={};var n={};n[m.Sb]=function(a,b){a.Se=a.Se||[];a.pq=a.pq||[];b.forEach(function(b){e(a.Se,b.qd);e(a.pq,b.ym)})};n[m.S]=n[m.Sb];n[m.V]=function(a,b){a.Se=a.Se||[];b.forEach(function(b){e(a.Se,b.qd)})};n[m.rc]=n[m.V];
n[m.Ea]=n[m.V];n[m.u]=function(a,b){a.Se=a.Se||[];a.Ks=a.Ks||[];b.forEach(function(b){b=b.wf;for(var d in b){var c=b[d];e(a.Se,c.zd);e(a.Ks,c.Ad)}})};n[m.dc]=n[m.u];n[m.qc]=n[m.u];n[m.O]=function(){};n[m.ka]=function(){};g.prototype.jL=function(a){this.Pp=a};g.prototype.tm=function(){return!1};g.prototype.zw=function(){return!1};g.prototype.Fh=function(a){this.Ne.push(a);var b=this,d=new r(function(a,d){b.Jl.push({resolve:a,reject:d})});this.ug===h.NONE&&a.rv(d,this.type)};g.prototype.pp=function(a){for(var b=
0,d=this.Ne.length;b<d;b++)this.Jl[b].reject.apply(this,arguments)};g.prototype.pD=function(){for(var a=0,b=this.Ne.length;a<b;a++)this.Ne[a].hy(this.type),this.Jl[a].resolve.apply(this,arguments)};g.prototype.Dw=function(a){return-1!==this.Ne.indexOf(a)};g.prototype.jn=function(a){a=this.Ne.indexOf(a);this.Ne.splice(a,1);this.Jl.splice(a,1);0===this.Ne.length&&this.K("empty",this)};g.prototype.px=function(a){this.ug=h.Ny;this.K("loading-aborted",this,a);this.pp(a)};g.prototype.Jr=function(){this.K("loading-start");
0===this.Ne.length&&this.K("empty",this)};g.prototype.Ir=function(){this.ug=h.kz;this.GB||this.K("loaded",this)};g.prototype.$J=function(a){this.ug=h.Dz;this.K("rendering-aborted");this.pp(a)};g.prototype.YJ=function(){this.ug=h.Cz;this.K("ready-to-display");this.pD()};g.prototype.ZJ=function(){this.ug=h.NONE};g.prototype.un=function(a){a!==this.key.offset&&(this.key.offset=a,this.sb=k.Lf(this.key),this.K("tile-key-changed",this.key.offset))};g.prototype.ox=function(a){this.Rf.ki(a);this.elements=
[];for(var b in this.So){var d=a[b],c=this.So[b];d&&(d.forEach(function(a){this.elements.push({na:this,type:c,Pb:a})}.bind(this)),n[c](this,d))}};g.prototype.Oq=function(a,b){for(var d=0,c=this.elements.length;d<c;d++)a.call(b,this.elements[d],d)};g.prototype.qx=function(a){this.ug=h.$y;this.K("loading-failed",this,a);this.pp(a)};g.prototype.Hr=function(){this.K("destroyed",this);this.JC()};g.prototype.JC=function(){b.Zi.fa(function(){this.elements=null;this.ua();this.Rf&&this.Rf.pa()},this)};g.prototype.Mh=
function(){};p.ba(g.prototype);return g});u(121,0,function(){function e(a,b,d,c){if(q.Va(this)){k.prototype.constructor.call(this,a);var e;if(!c)for(c=Array(21),e=0;21>e;e++)c[e]=e;this.Xw=b;this.Oa=d;this.XB(c);this.Ic=a;this.nf={};this.Id=[];this.jB=h[a];this.rl=!1}}var g=l(0),r=l(3),q=l(18),p=l(9),k=l(111),m=l(120),c=l(21),b=l(11),a=l(4),d=l(13),h=Array(d.count);h.fill(g.vI);h[d.S]=g.Rh;h[d.V]=g.Rh;h[d.rc]=g.Rh;h[d.ge]=g.Rh;h[d.nb]=g.Rh;h[d.He]=g.Rh;q.$(k,e);e.prototype.Zv=function(){return g.Cn};
e.prototype.uI=function(){return g.Ls};e.prototype.XB=function(a){this.Qp=Array(21);for(var b=0,d=a.length;b<d;b++)for(var c=a[b],e=a[b+1]||21,f=r.g.j(c,e-1);c<e;c++)this.Qp[c]=f};e.prototype.Ul=function(){this.rl=!0};e.prototype.Ql=function(){if(this.rl){this.rl=!1;for(var a=this.Id.length-this.rq(),b=0;b<a;b++){var d=this.Id.pop();this.rj(d)}}};e.prototype.rq=function(){return a.PJ+1};e.prototype.type=function(){return this.Ic};e.prototype.nw=function(a){var b=this.Qp[a.z-g.Mm];if(b){b=b[0];var d=
a.z-b;return new c(a.x>>d,a.y>>d,b,a.offset)}};e.prototype.UI=function(a){return this.Qp[a.z]};e.prototype.LC=function(a,b,d,c,e,h,k,m,p){this.gr()||(d=g.bx);this.Yh()||(e=g.bx);return a.As+":"+b+":"+c+":"+d+":"+e+":"+h+":"+k+":"+m+":"+p};e.prototype.Xe=function(a){var b=this.nw(a.Kb);if(b){var d=this.LC(b,a.scale,a.Wc,a.Jb,a.language,a.ve,a.Be,a.ub,a.qb),c;var e=0;for(c=this.ta.length;e<c;e++){var f=this.ta[e];if(f.xl===d){f.Dp?f.QD.then(function(){this.Hx(a,f)}.bind(this)):(f.un(a.Kb.offset),f.Fh(a));
return}}e=0;for(c=this.Id.length;e<c;e++)if(f=this.Id[e],f.xl===d){f.su=!0;this.Hx(a,f);f.su=!1;return}(e=this.nf[d])?(e.un(a.Kb.offset),e.Fh(a),this.bu(e,a)):(f=this.Xj(b),f.xl=d,f.scale=a.scale,f.Jb=a.Jb,f.Wc=a.Wc,f.language=a.language,f.ve=a.ve,f.Be=a.Be,f.ub=a.ub,f.qb=a.qb,this.Oa?this.Oa.yf(f):f.alpha=0,f.jL(this.UI(b)),f.Fh(a),this.bu(f,a),this.GL(f))}};e.prototype.Vm=function(){};e.prototype.bu=function(a,b){this.wB(a.key).forEach(function(d){d.key.z<b.Kb.z&&b.hy(this.Ic);d.Fh(b);a.race().add("ready-to-display",
function(){d.jn(b)},b).add("loading-failed",function(){d.jn(b)},b)},this)};e.prototype.wB=function(a){for(var b=[],d=0,c=this.ta.length;d<c;d++){var e=this.ta[d],f=e.key;if(!e.Dp&&f.z!==a.z){if(f.z<a.z)var h=a;else h=f,f=a;var k=h.z-f.z;k>this.jB||h.x>>k===f.x&&h.y>>k===f.y&&b.push(e)}}return b};e.prototype.Mf=function(a){var b=this.ta.slice(),d;var c=0;for(d=b.length;c<d;c++){var e=b[c];e.Dw(a)&&(e.ua("ready-to-display",void 0,a),e.jn(a))}for(c in this.nf)e=this.nf[c],e.ua("ready-to-display",void 0,
a),e.ua("loading-failed",void 0,a),e.Dw(a)&&e.jn(a)};e.prototype.gu=function(){this.Nc.we()};e.prototype.push=function(a){this.Nc&&a.Ja("tile-key-changed",this.gu,this);k.prototype.push.call(this,a)};e.prototype.remove=function(a){k.prototype.remove.call(this,a);this.Nc&&a.ua("tile-key-changed",this.gu,this)};e.prototype.Xj=function(a){return new m(a,this.Ic)};e.prototype.GL=function(a){this.Cx(a);this.Xw.Ww(a)};e.prototype.bK=function(a){var d=this.Cf(a),c=new b(function(b,d){a.jl=function(b){a.jl=
void 0;d(b)};a.once("empty",function(){a.jl=void 0;d("Tile Layer empty before ready for rendering")},this)}.bind(this));b.race([c,d]).then(function(){this.qp(a);this.dK(a)}.bind(this)).catch(function(b){a.$J(b);this.cd(a).then(function(){this.rx(a)}.bind(this))}.bind(this))};e.prototype.Cx=function(a){this.aA(a);a.race().add("loaded",function(){this.bK(a)},this).add("loading-aborted",function(a){this.rx(a)},this).add("loading-failed",function(a){this.cK(a)},this)};e.prototype.qp=function(a){delete this.nf[a.xl]};
e.prototype.aA=function(a){this.nf[a.xl]=a};e.prototype.Cf=function(){return b.resolve("__tile-layer-renderable__")};e.prototype.dK=function(a){a.once("empty",function(){this.eK(a)},this);this.push(a);var b=a.su?0:this.Zv();this.Oa&&0<b?this.Oa.show(a,b):a.alpha=1;a.YJ()};e.prototype.cK=function(a){this.qp(a);this.rj(a)};e.prototype.rx=function(a){this.qp(a);this.rj(a)};e.prototype.eK=function(a){a.Dp=!0;a.QD=this.cd(a).then(function(){this.remove(a);this.bH(a);a.Dp=!1}.bind(this))};e.prototype.bH=
function(a){this.Id.push(a);!this.rl&&this.Id.length>this.rq()&&(a=this.Id.shift(),this.rj(a))};e.prototype.rj=function(a){a.Hr()};e.prototype.Hx=function(a,b){var d=this.Id.indexOf(b);0>d?(b.un(a.Kb.offset),b.Fh(a)):(this.Id.splice(d,1),b.Ap(),b.ZJ(),b.un(a.Kb.offset),b.Fh(a),this.Cx(b),b.Jr(),b.Ir())};e.prototype.cd=function(a){var d=this.uI();if(this.Oa){d=this.Oa.Vd(a,d);var c=new b(function(b){a.Ap=function(){a.Ap=function(){};b()}});return b.race([d,c])}a.Ap=function(){};return b.resolve("onloaded")};
e.prototype.Xl=function(){this.Oa=null;this.ta.forEach(function(a){this.cd(a).then(function(){a.Hr()})},this);for(var a in this.nf){var b=this.nf[a];void 0!==b.jl?b.jl("__map-layer-removed__"):this.Xw.Ol(b,"__map-layer-removed__")}this.eH()};e.prototype.er=function(){return 0!==Object.keys(this.nf).length};e.prototype.eH=function(){this.Id.forEach(this.rj,this);this.Id.length=0};p.ba(e.prototype);return e});u(122,0,function(){function e(e,p){this.Cd=e;this.ie=0;this.Gc=p||g.g.j(0,0);this.Hc=g.Da.create()}
var g=l(3),r=l(0);e.prototype.reset=function(e,p,k){this.Gh=e[0]/e[1];var m=Math.pow(2,k-p.Kb.z),c=Math.pow(2,-k);this.Lb=g.P.Gf(g.P.create());var b=p.coords;c=g.Da.j(this.Gc[0]*c-b[0]-p.size/2,-this.Gc[1]*c-b[1]-p.size/2,0);e=this.Cd/(p.size*e[0]*.5);g.P.scale(this.Lb,this.Lb,g.Da.j(e,e*this.Gh,1));g.P.scale(this.Lb,this.Lb,g.Da.j(m,m,0));g.P.translate(this.Lb,this.Lb,c);this.My=k;this.Us=r.Mm;this.Hc=c};e.prototype.wv=function(){return!1};e.prototype.We=function(){return this.My};e.prototype.gk=
function(){return this.My-this.Us+r.xy};e.prototype.qs=function(e){this.ie=e;this.reset()};e.prototype.Aw=function(){return!1};e.prototype.rr=function(){return 0};e.prototype.ko=function(){return 0};e.prototype.jq=function(){return 0};e.prototype.ts=function(){};e.prototype.rs=function(){};e.prototype.Uh=function(){return this.Hc};e.prototype.update=function(){};e.prototype.Uh=function(){return this.Hc};return e});u(123,0,function(){function e(e,g,p){this.xd=[];this.Wu=e;this.vg={};this.yl=g;for(this.oC=
p;g<=p;g++)this.xd.push({Jc:g});p=e.AK();g=0;for(e=p.length;g<e;g++)this.vg[p[g]]=null}var g=l(3);l(13);e.prototype.value=function(e,l,p){p&&this.Wu.rJ(e)?this.xd[l-this.yl][e]=g.I.j(p[0]/255,p[1]/255,p[2]/255,p[3]/255):this.xd[l-this.yl][e]=p;return this};e.prototype.zB=function(e){if(e<=this.yl)return{Ar:0,vr:1,t:0};if(e>=this.oC)return e=this.xd.length-1,{Ar:e-1,vr:e,t:1};var g=Math.floor(e),p=g-this.yl;return{Ar:p,vr:p+1,t:e-g}};e.prototype.Px=function(e){this.mE=e;var g;if(1===this.xd.length)for(g in this.vg=
this.xd[0],this.vg)this[g]=this.vg[g];else for(g in e=this.zB(e),this.vg)this.vg[g]=this.Wu.zm(g,this.xd[e.Ar][g],this.xd[e.vr][g],e.t),this[g]=this.vg[g]};e.prototype.iJ=function(){for(var e=0,g=this.xd.length;e<g;e++){var p=this.xd[e];if(p.Wf||p.Bf)return!0}return!1};return e});u(124,0,function(){function e(e){return e}function g(e,c,b){return 0>b?k.I.clone(e):1<b?k.I.clone(c):q(e,c,b)}function r(e,c,b){return 1<=b?c:e}function q(e,c,b){return k.I.Ng(k.I.create(),e,c,b)}function p(e,c,b){return e+
(c-e)*b}var k=l(3);e.nO=function(){console.assert(!0)};g.ru=!0;r.ru=!0;return{pc:p,vz:function(e,c,b){return 0===e?c:0===c?e:p(e,c,b)},nh:function(e,c,b){return 1<=b?c:e},WN:function(e,c,b){return k.g.Ng(k.g.create(),e,c,b)},XN:function(e,c,b){return k.Da.Ng(k.Da.create(),e,c,b)},YN:q,COLOR:g,Vy:r,oo:function(e,c,b){return p(e?1:0,c?1:0,b)},Ws:function(e){return e},Ry:function(e,c){return e||c},PM:function(e,c){return e&&c},ot:e}});u(125,0,function(){function e(e){this.zm=e}function g(e){this.type=
e;this.X={}}var r=l(124),q=l(123);e.prototype.default=function(e){this.defaultValue=e;return this};for(var p in r)g[p]=function(k){return function(){return new e(k)}}(r[p]);g.prototype.rJ=function(e){return this.X[e].zm.ru};g.prototype.gm=function(e,g){for(var c=new q(this,e,g);e<=g;e++)for(var b in this.X)c.value(b,e,this.X[b].defaultValue);return c};g.prototype.zm=function(e,g,c,b){return this.X[e].zm(g,c,b)};g.prototype.AK=function(){return Object.keys(this.X)};return g});u(126,0,function(){function e(e,
k,g,c,b,a){q.Va(this)&&(this.aa=k,this.Jd=g,this.Ua=a,this.Fb=c,this.oa=b,this.DJ=e)}l(92);var g=l(9),r=l(11),q=l(18);e.prototype.sn=function(e){this.Ia=e};e.prototype.Ol=function(e,k){e.ud=!0;e.px(k)};e.prototype.Ww=function(e){e.once("empty",function(){this.Ol(e,"no more subtiles: stop loading")},this);e.Jr();var k=this;this.Jd.SI(e,this.DJ).then(function(g){if(!e.ud){e.eO=null;e.ox(g);var c=k.GC(e,g),b=k.DC(e,g),a=c.then(function(){return k.FC(e,g)}),d=k.HC(e,g);return r.all([c,b,a,d]).then(function(){e.ud||
(e.ua("empty",null,k),e.Ir())})}}).catch(function(g){k.fp(e,g)})};e.prototype.fp=function(e,k){e.ud||(e.ua("empty",null,this),e.qx(k))};e.prototype.GC=function(e,k){if(!this.Fb)return r.resolve("__no-style-manager__");this.Fb.jb(e,k.Sa);return r.resolve("__styling-done__")};e.prototype.DC=function(e,k){k=this.oa?this.oa.Tg(k.Lc):r.resolve("__collision-registered__");e.Mh();return k};e.prototype.HC=function(e,k){if(!this.Ia)return r.resolve("__no-icon-manager__");var g=[];e.tm()&&(this.Ia.zK(k),g.push(this.Ia.zH(e)));
e.zw()&&g.push(this.Ia.yH(e));return r.all(g)};e.prototype.FC=function(e,k){if(!this.Ua)return r.resolve("__no-renderer__");var g=this,c=this.NI(k,e),b=this.ww(k,e),a=this.OI(k,e);c=this.$o(e,c,function(a){return g.Ua.vK(a)});b=this.$o(e,b,function(a,b){return a.uJ?g.Ua.bn(a,b):g.Ua.wK(a)});a=this.$o(e,a,function(a){return g.Ua.uK(a)});a=[].concat(c).concat(b).concat(a);var d=c.length,h=c.length+b.length,f=a.length;a=r.all(a);return a.then(function(a){if(!e.ud)return g.Ua.jb(e,k,a.slice(0,d),a.slice(d,
h),a.slice(h,f))})};e.prototype.$o=function(e,k,g){if(!k.length)return[];var c=e.Rf,b=this.aa;return k.map(function(a){if(a)return b.get(a).then(function(b){return e.ud?r.reject("--loader-has-aborted--"):g(b,a)}).then(function(a){e.ud?a.Cg():c.ki(a);return a}).catch(function(){})})};e.prototype.Oo=function(e,k){return k?e.map(function(e,c){return-1===k.indexOf(c)?void 0:e}):[]};e.prototype.NI=function(e,k){return this.Oo(e.Dd.Od,k.pq)};e.prototype.ww=function(e,k){return this.Oo(e.Dd.$b,k.Ks)};e.prototype.OI=
function(e,k){return this.Oo(e.Dd.Lh,k.Se)};g.ba(e.prototype);return e});u(127,0,function(){function e(e,g,c,b){this.aa=e;this.Z=g;this.id=q.Bb();this.Mx=b?1:0;this.jx=c===p.Gd||c===p.ee?0:1;if(c===p.ge||c===p.gf||c===p.Gd)this.Vr="standard",this.Tr="standardTile",this.Ur=0;else if(c===p.nb||c===p.og)this.Vr="satellite",this.Tr="satelliteTile",this.Ur=7;else if(c===p.He||c===p.ef||c===p.ee)this.Vr="hybrid",this.Tr="hybridTile",this.Ur=46}var g=l(92),r=l(0),q=l(5),p=l(13);e.prototype.CB=function(e){var k=
e.key,c=e.language,b=e.ve,a=e.Be,d=e.ub,h=e.qb;return this.Tr+("?x="+k.x+"&y="+k.y+"&z="+k.z+"&style="+this.Ur+"&v="+e.Jb+"&type="+this.Vr+"&scale="+e.scale+"&size="+r.Fx+(c.length?"&lang="+c:"")+(b.length?"&country="+b:"")+(a.length?"&region="+a:"")+(d.length?"&tint="+d:"")+(h.length?"&emphasis="+h:"")+"&poi="+this.Mx+"&labels="+this.jx)};e.prototype.uB=function(e){var k=e.key;return{x:k.x,y:k.y,z:k.z,resolution:e.scale,lang:e.language,tint:e.ub,emphasis:e.qb,tileSizeIndex:r.Fx,poi:this.Mx,labels:this.jx,
v:e.Jb,vc:k.x+k.y}};e.prototype.Ol=function(e,g){e.ud=!0;e.px(g)};e.prototype.Zt=function(e){e.ua("empty",null,this)};e.prototype.fp=function(e,g){e.ud||(this.Zt(e),e.qx(g))};e.prototype.Ww=function(e){var k=this.CB(e),c=this.uB(e);e.once("empty",function(){this.Ol(e,"empty")},this);e.Jr();var b=this;e.once("loading-aborted",function(b){a.abort(b)},this);var a=this.aa.get(k,g.kg,c,g.oh);a.catch(function(){e.ud||e.ua("loading-aborted",null,b)});a.then(function(a){if(!e.ud)return e.ua("loading-aborted",
null,b),b.Z.bn(a).then(function(a){if(!e.ud)return e.Rf.ki(a),b.Z.jb(e,a)}).then(function(){e.ud||(b.Zt(e),e.Ir())})}).catch(function(a){b.fp(e,a)})};return e});u(128,0,function(){function e(e){this.OD=e;this.Ld={};this.oj=!0;this.bE=Math.floor(60/r.jM);this.nC=10;this.uu=Date.now();this.reset()}var g=l(9),r=l(0),q=l(19);e.prototype.PC=function(e,k){e=this.OD.TI(e,k);k={};var g,c;this.oj=!1;var b=0;for(g=e.length;b<g;b++){var a=e[b];(c=this.Ld[a.id])?(k[a.id]=c,delete this.Ld[a.id]):(this.oj=!0,c=
new q(a),k[a.id]=c,this.K("tile-created",c))}for(b in this.Ld)this.oj=!0,c=this.Ld[b],this.K("tile-destroyed",c);this.Ld=k};e.prototype.reset=function(){for(var e in this.Ld)this.K("tile-destroyed",this.Ld[e]);this.Ld={};this.Kt=this.op=0;this.Jt=-1};e.prototype.xk=function(){return this.oj};e.prototype.update=function(e,k){var g=Date.now(),c=(g-this.uu)/1E3,b=e.Uh(),a=e.We();c=Math.abs(a-this.Kt)/c;this.Kt=a;a=!1;c>this.nC&&(this.op=0,a=this.oj=!0);b=b[0];if((c=.5<Math.abs(b-this.Jt))||!a){a=0===
this.op++%this.bE;this.Jt=b;if(c||a)this.PC(e,k),this.op=1;this.uu=g}};e.prototype.LJ=function(e){console.assert(void 0===this.Ld[e.Kb.id]);this.Ld[e.Kb.id]=e;this.K("tile-created",e)};e.prototype.cf=function(){return this.Ld};g.ba(e.prototype);e.prototype.tiles=e.prototype.cf;return e});u(129,[],function(){return{wc:function(e){var g=0;e[2]<-e[3]?g|=1:e[2]>e[3]&&(g|=2);e[0]<-e[3]?g|=4:e[0]>e[3]&&(g|=8);e[1]<-e[3]?g|=16:e[1]>e[3]&&(g|=32);return g},uz:1,cN:2,mN:4,IN:8,RN:16,QM:32}});u(130,0,function(){function e(a,
d){this.ye=a;this.wc=b(a);this.wc&c||(this.Jh=p.g.j(d[0]*(a[0]/a[3]+1)*.5,d[1]*(a[1]/a[3]+1)*.5))}function g(a,b){return p.I.j(.5*(a[0]+b[0]),.5*(a[1]+b[1]),.5*(a[2]+b[2]),.5*(a[3]+b[3]))}function r(a,b,c){b=p.g.Cc(p.g.create(),b,a);a=p.g.Cc(p.g.create(),c,a);return(a[1]*b[0]-a[0]*b[1])/2}function q(a){this.OJ=a*a}var p=l(3),k=l(129),m=l(21),c=k.uz,b=k.wc;q.prototype.TI=function(a,b){var d=[];var c=a.Uh();var e=Math.floor(c[0]);c=new m(e,0,0);this.Tq(a,b,c,d);c=new m(e+1,0,0);this.Tq(a,b,c,d);c=new m(e-
1,0,0);this.Tq(a,b,c,d);return d=d.map(function(a){return a.lx()})};q.prototype.Tq=function(a,b,c,f){var d=c.Hh();a=a.Lb;var h=d.min(),k=d.max(),g=p.I.j(h[0],h[1],0,1);d=p.I.j(k[0],k[1],0,1);var m=p.I.j(h[0],k[1],0,1);h=p.I.j(k[0],h[1],0,1);p.I.Ka(g,g,a);p.I.Ka(h,h,a);p.I.Ka(m,m,a);p.I.Ka(d,d,a);a=new e(g,b);m=new e(m,b);d=new e(d,b);h=new e(h,b);this.zk(f,b,c,a,m,d,h)};q.prototype.zk=function(a,b,h,f,k,l,p){if(0===(f.wc&k.wc&l.wc&p.wc))if(21>h.z&&(1===((f.wc|k.wc|l.wc|p.wc)&c)||Math.abs(r(f.Jh,k.Jh,
l.Jh)+r(f.Jh,l.Jh,p.Jh))>this.OJ)){var d=new e(g(f.ye,k.ye),b),n=new e(g(k.ye,l.ye),b),t=new e(g(l.ye,p.ye),b),q=new e(g(p.ye,f.ye),b),A=new e(g(d.ye,t.ye),b);this.zk(a,b,new m(h.x<<1,(h.y<<1)+1,h.z+1),f,d,A,q);this.zk(a,b,new m(h.x<<1,h.y<<1,h.z+1),d,k,n,A);this.zk(a,b,new m((h.x<<1)+1,h.y<<1,h.z+1),A,n,l,t);this.zk(a,b,new m((h.x<<1)+1,(h.y<<1)+1,h.z+1),q,A,t,p)}else a.push(h)};return q});u(135,0,function(){function e(e){g.Va(this)&&(this.h=e)}var g=l(18);e.prototype.bk=function(e,g,l,k,m,c){this.md(e,
g,l,k,m,c)};e.prototype.Nd=function(){};e.prototype.md=function(){};e.prototype.Rb=function(){};return e});u(136,0,function(){function e(a){q.prototype.constructor.call(this,a);g.Va(this)&&(this.Za=[],this.Zj=m.Yk)}var g=l(18),r=l(9),q=l(135),p=l(105),k=l(98),m=l(90),c=l(0),b=l(29).vo,a=l(114);g.$(q,e);e.prototype.ld=function(a,b){this.Za.push({name:a,fa:b})};e.prototype.Td=function(a){for(var b=0,d=this.Za.length;b<d;b++)if(this.Za[b].name===a)return b;return-1};e.prototype.ae=function(a,b,c,e,k,
g,m){this.Za[a].fa(b,c,e,k,g,m)};e.prototype.ei=function(a){this.Lx=a};e.prototype.md=function(a,b,c,e,k,g){for(var d=0,f=this.Za.length;d<f;d++)this.Za[d].fa(a,b,c,e,k,g)};e.prototype.$r=function(a,b,c){b=b.ta;for(var d=0,e=b.length;d<e;d++){var f=b[d];this.Ze(a,f,c*f.alpha)}};e.prototype.$x=function(){};e.prototype.vK=function(a){return this.Zj.fa(function(){return k.rH(this.h,a)},this)};e.prototype.bn=function(a){return this.Zj.fa(function(){var b=this.h,d=p.ek(b,a,!1);d.bind().Rc(b.LINEAR).Pc(b.NEAREST).gh(b.CLAMP_TO_EDGE).hh(b.CLAMP_TO_EDGE).m();
return d},this)};e.prototype.wK=function(a){return this.Zj.fa(function(){var d=this.h,c=new p(d,a.width,a.height);switch(a.format){case b.ALPHA:var e=d.ALPHA;break;case b.RGBA:e=d.RGBA;break;default:console.assert(!1)}c.bind().Rc(d.LINEAR).Pc(d.NEAREST).data(a.data,e,e,!1).gh(d.CLAMP_TO_EDGE).hh(d.CLAMP_TO_EDGE).m();return c},this)};e.prototype.uK=function(b){return this.Zj.fa(function(){return a.rm(this.h,b)},this)};e.prototype.Vw=function(a,b,e){a=a.Pp;b=Math.max(a[0]+c.Mm,b);return e*Math.pow(2,
a[0]-b)};e.prototype.jb=function(){};r.ba(e.prototype);return e});u(138,0,function(){function e(e,g){r.prototype.constructor.call(this,q.cl,e,g)}var g=l(18),r=l(22),q=l(8),p=l(4).global;g.$(r,e);e.prototype.yd=function(e){r.prototype.yd.call(this,e,[p.df])};return e});u(139,0,function(){function e(c,b){return.5*(b-c)}function g(c,b){return b-c}function r(){return 0}function q(c,b){this.offset=c.offset;var a=this.Rd=0;this.lines=c.lines.map(function(d){var c=d.lineWidth+2*b;a=Math.max(a,c);return{Qe:d.Qe,
wM:c,width:0}});this.Km=this.lines.map(function(){return k.g.create()});this.TD=a;this.SD=c.lineHeight;this.J=k.g.create()}function p(c,b,a){var d=Math.min.apply(null,c);c=Math.max.apply(null,c);this.Mt=Array(c-d+1);for(var e=null,f=d;f<=c;f++){var k=b[f];k&&(e=new q(k,a));this.Mt[f-d]=e}this.Wb=d;this.xe=c}var k=l(3),m=l(4).global;q.prototype.jy=function(c){this.Rd=c;this.J[0]=this.TD*c;this.lineHeight=this.SD*c;this.J[1]=this.lines.length*this.lineHeight;for(var b=0,a=this.lines.length;b<a;++b){var d=
this.lines[b];d.width=d.wM*c}};q.prototype.Sw=function(){this.Km[0][1]=.5*-this.lineHeight};q.prototype.Tw=function(c){switch(c){case m.kh:case m.Vi:case m.Si:var b=r;break;case m.Ri:case m.Ui:case m.jh:b=g;break;case m.jg:case m.lh:case m.df:b=e}c=this.J[0];for(var a=this.lineHeight,d=0,h=this.lines.length;d<h;d++)this.Km[d][0]=b(this.lines[d].width,c),this.Km[d][1]=-a,a+=this.lineHeight};p.prototype.Fv=function(c){return this.Mt[k.Wl(Math.floor(c.mE),this.Wb,this.xe)-this.Wb]};p.create=function(c,
b){var a=Object.keys(c).map(function(a){return parseInt(a)});return a.length?new p(a,c,b):null};return p});u(140,0,function(){function e(a,c){k.prototype.constructor.call(this,a);e.G(a).then(function(d){this.o=d[0];this.$a=d[1];this.Pa=b.Kv(a);this.qe=10}.bind(this));this.Ia=c}var g=l(11),r=l(18),q=l(3),p=l(96),k=l(136),m=l(0),c=l(102),b=l(98),a=l(114);r.$(k,e);e.prototype.Nd=function(a,b,c,e,k,g){a=c.ta;if(0!==a.length)for(b=0;b<a.length;b++){c=a[b];e=c.elements;c.R={};k=[];for(var d=[],f=0,h=e.length;f<
h;f++){var n=e[f].zc,l=n.alpha*g;if(n&&n.icon&&!(l<m.Ag)){var p=n.icon,t=n.Ff(),q=p.Qj();p=q.tb;n=[n.position[0],n.position[1],t[0],t[1],q.Ei[0],q.Ei[1],q.Fi[0],q.Fi[1],l,n.angle];l=k.indexOf(p);-1!==l?(l=d[l],l.push.apply(l,n)):(l=n,d.push(l),k.push(p))}}c.R.$b=k;c.R.Od=d}};e.prototype.md=function(a,b,c){this.Ia.mq.by();c=c.ta;if(0!==c.length){this.Pa.bind();this.$a.bind();this.o.use();var d=this.h;d.enable(d.BLEND);d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);
var e=this.o.H();d.uniform2fv(e.viewportSize,b);d.activeTexture(d.TEXTURE0);d.uniform1i(e.iconTexture,0);d.vertexAttribPointer(this.o.attributes().tilePosition,2,d.FLOAT,!1,40,0);d.vertexAttribPointer(this.o.attributes().size,2,d.FLOAT,!1,40,8);d.vertexAttribPointer(this.o.attributes().uvSize,2,d.FLOAT,!1,40,16);d.vertexAttribPointer(this.o.attributes().uvStart,2,d.FLOAT,!1,40,24);d.vertexAttribPointer(this.o.attributes().alpha,1,d.FLOAT,!1,40,32);d.vertexAttribPointer(this.o.attributes().angle,1,
d.FLOAT,!1,40,36);d.enableVertexAttribArray(this.o.attributes().tilePosition);d.enableVertexAttribArray(this.o.attributes().size);d.enableVertexAttribArray(this.o.attributes().uvSize);d.enableVertexAttribArray(this.o.attributes().uvStart);d.enableVertexAttribArray(this.o.attributes().alpha);d.enableVertexAttribArray(this.o.attributes().angle);b=0;for(e=c.length;b<e;b++)this.Ze(a,c[b]);d.disableVertexAttribArray(this.o.attributes().tilePosition);d.disableVertexAttribArray(this.o.attributes().uvStart);
d.disableVertexAttribArray(this.o.attributes().uvSize);d.disableVertexAttribArray(this.o.attributes().size);d.disableVertexAttribArray(this.o.attributes().alpha);d.disableVertexAttribArray(this.o.attributes().angle);this.Pa.m();this.$a.m();this.o.eb();d.disable(d.BLEND)}};e.prototype.Ze=function(a,b){var d=this.h,c=this.o.H();if(b.elements.length&&b.R.$b.length)for(q.P.multiply(b.bb,a.Lb,b.sb),d.uniformMatrix4fv(c.modelViewProjMatrix,!1,b.bb),a=0;a<b.R.$b.length;a++){c=b.R.$b[a];var e=b.R.Od[a],h=
new Float32Array(e);c.bind();var k=0;for(e=Math.round(e.length/this.qe);0<e;){var g=Math.min(e,m.Om),l=new Float32Array(h.buffer,k*this.qe*4,g*this.qe);this.Pa.data(l);d.drawElements(d.POINTS,g,d.UNSIGNED_SHORT,0);e-=g;k+=g}c.m()}};e.prototype.jb=function(){};e.prototype.Rb=function(a){a=a.Ok;var b=this.h;this.o.use();b.uniform1f(this.o.H().pr,a);this.o.eb()};e.G=function(b){var d=b.id+"-arrow-renderer-deps";if(p.has(d))return p.get(d);var e=c.hb.kb(b,"shaders/arrow.vert","shaders/arrow.frag");b=
a.Uq(b);e=g.all([e,b]);p.add(d,e);return e};return e});u(141,0,function(){function e(k){var g=this;e.G(k).then(function(c){g.o=c[0];g.xn=c[1]});this.h=k}var g=l(11),r=l(102),q=l(96),p=l(99);e.prototype.$L=function(e){var k=this.h;k.enable(k.STENCIL_TEST);k.colorMask(!1,!1,!1,!1);k.stencilOp(k.REPLACE,k.KEEP,k.KEEP);this.o.use();var c=this.o.attributes(),b=this.o.H();this.xn.$a.bind();this.xn.Pa.bind();k.vertexAttribPointer(c.position,2,k.FLOAT,!1,8,0);k.enableVertexAttribArray(c.position);this.xn.Pa.m();
k.stencilFunc(k.NEVER,255,255);k.uniformMatrix4fv(b.modelViewProjMatrix,!1,e.bb);k.drawElements(k.TRIANGLES,6,k.UNSIGNED_SHORT,0);this.xn.$a.m();this.o.eb();k.colorMask(!0,!0,!0,!0);k.disable(k.STENCIL_TEST)};e.G=function(e){var k=e.id+"-tile-stenciler-deps";if(q.has(k))return q.get(k);var c=r.hb.kb(e,"shaders/basic.vert","shaders/basic.frag");e=p.Vh(e);c=g.all([c,e]);q.add(k,c);return c};return e});u(142,0,function(){function e(a,b){q.prototype.constructor.call(this,a);e.G(a).then(function(){var a=
this.h;this.lb=new k(a,b);this.oM=new p(a)}.bind(this));this.ll={};this.ld("roads",this.$C.bind(this));this.ld("road-alpha",this.VC.bind(this))}var g=l(18);l(5);var r=l(96),q=l(136),p=l(141),k=l(116),m=l(3),c=l(113),b=l(11),a=l(0),d=l(90);g.$(q,e);e.prototype.wA=function(a,b,d){0<d&&(b=0,a=.5);return{Zb:b,fw:a,wy:1,aw:1}};e.prototype.iv=function(a,b){b?a.ey(this.ll[b]):a.ey(null)};e.prototype.$C=function(b,d,c,k,g,l){c.mf=[];if(c.ta.length){var f=[],h=b.We();c.ta.forEach(function(d){!d.R||d.alpha*
l<a.Ag||(d.R.qr=this.Vw(d,h,k),m.P.multiply(d.bb,b.Lb,d.sb),f.push.apply(f,d.elements))}.bind(this));f=f.filter(function(a){var b=a.Xa;if(!b.Em)return!1;b=this.wA(b.width,b.Zb,b.Dm);var d=a.R.Tk,c=a.Xa.Bn<<13|a.Xa.om<<2;b.xI=2097152*d+1024+c;b.aM=2097152*d+c;a.Cu=b;return!0}.bind(this));f.forEach(function(b){var d=b.Cu;if(d.wy<a.Ag||.1>d.Zb)return!1;var e=b.Xa;b=b.R.Vf;b.os(d.Zb,e.strokeColor,e.strokeColor,d.wy*l);this.iv(b,e.Wf);b.order=d.aM;c.mf.push(b)}.bind(this));f.forEach(function(b){var d=
b.Cu;if(d.aw<a.Ag||.1>d.fw)return!1;var e=b.Xa;b=b.R.dw;var f=e.nn?e.bw:e.fillColor;b.os(d.fw,f,f,d.aw*l);this.iv(b,e.Bf);b.order=d.xI;c.mf.push(b)}.bind(this));if(c.mf.length){c.mf.sort(e.RK);var n=0;g=c.mf[0];var p=g.na.key.z,t=g.order;c.mf.forEach(function(a){var b=a.na.key.z;b!==p&&(n=0,p=b);b=a.order;t!==b&&(n++,t=b);a.ly(n)});c.Xh||(g=this.h,g.clearStencil(0),g.clear(g.STENCIL_BUFFER_BIT));this.iD(b,d,c.mf)}}};e.prototype.VC=function(a,b,d){d.Xh&&d.ta.length&&this.cD(a,b,d.mf,d.Jf)};e.RK=function(a,
b){var d=a.na.key,c=b.na.key;return d.z!==c.z?c.z-d.z:a.order!==b.order?a.order-b.order:d.x!==c.x?d.x-c.x:d.y!==c.y?d.y-c.y:b.Yq-a.Yq};e.prototype.iD=function(a,b,d){this.lb.my();this.Ku(a,b,d)};e.prototype.cD=function(a,b,d,c){this.lb.kL(c);this.Ku(a,b,d)};e.prototype.Ku=function(a,b,d){if(d.length){this.lb.wi(a,b);var c=this,e=d[0],f=e.na,h={};d.forEach(function(d){if(d.na!==f&&(h[f.key.As]=f,d.na.key.z!==f.key.z)){for(var k in h){var g=h[k];this.lb.xi();this.oM.$L(g);this.lb.wi(a,b)}h={}}c.lb.li(d,
b);e=d;f=d.na},this);this.lb.xi()}};e.prototype.Rb=function(a){this.lb.Rb(a)};e.prototype.jb=function(a,e,k,g,m){var f=a.elements;if(f.length){this.lb.jb.apply(this.lb,arguments);var h=[],n=this,l=!1;a.once("loading-aborted",function(){l=!0},this);f.forEach(function(b,c){var f=b.Pb;f={offset:f.offset,count:f.count,Sf:f.count-1,Tk:f.Tk};var k=n.lb.yq();k.Hk(f.Sf,f.offset);k.Jk(a);k.Yq=c;k.na=a;f.dw=k;k=n.lb.yq();k.Hk(f.Sf,f.offset);k.Jk(a);k.Yq=c;k.na=a;f.Vf=k;b.R=f;var g=a.Rf;if(b.Xa.iJ()){var m=
e.Gx.Lh[b.Pb.qd];c=d.so.fa(function(){if(l)return!1;n.EC(b,g,m);return!0});h.push(c)}});f=e.Kh.map(function(b){return c.get(this.h,1,c.Zs,b.id,b).then(function(d){a.Rf.ki(d);b.id in this.ll||(this.ll[b.id]=d,d.once("released",function(){delete this.ll[b.id]},this))}.bind(this))}.bind(this));return b.all([b.all(h),b.all(f)]).then(function(){a.ua("loading-aborted",null,a)})}};e.prototype.EC=function(a,b,d){var c=a.R,e=this.lb.jc;d=e.$I(d,c.offset,c.count);e=e.KI(d);a.R.dw.Yx(e);a.R.Vf.Yx(e);b.ki(e)};
e.G=function(a,d){var c=a.id+"-road-deps";if(r.has(c))return r.get(c);var e=p.G(a);a=k.G(a,d);e=b.all([e,a]);r.add(c,e);return e};return e});u(143,0,function(){function e(a,b){r.Va(this)&&(p.prototype.constructor.call(this,a),this.Ia=b,e.G(a).then(function(b){this.vm=b[0];this.wm=b[1];this.$a=b[2];this.Pa=c.Kv(a);this.qe=9}.bind(this)))}var g=l(11),r=l(18),q=l(3),p=l(136),k=l(0),m=l(102),c=l(98),b=l(96),a=l(114);r.$(p,e);e.Ev=function(a){return a.wv()||0!==a.ko()||0!==a.jq()};e.Vx=function(a,b){e.Ev(b)?
a.by():a.gL()};e.prototype.pn=function(a){e.Ev(a)?this.o=this.vm:this.o=this.wm};e.prototype.Nd=function(a,b,c,e,g,m){a=c.ta;if(0!==a.length)for(b=0;b<a.length;b++){c=a[b];e=c.elements;c.R={};g=[];for(var d=[],f=0,h=e.length;f<h;f++){var n=e[f].zc;if(n&&n.icon&&!(n.alpha<k.Ag)){var l=n.icon,p=n.Ff(),q=l.Qj();l=q.tb;n=[n.position[0],n.position[1],p[0],p[1],q.Ei[0],q.Ei[1],q.Fi[0],q.Fi[1],n.alpha*m];p=g.indexOf(l);-1!==p?(p=d[p],p.push.apply(p,n)):(p=n,d.push(p),g.push(l))}}c.R.$b=g;c.R.Od=d}};e.prototype.md=
function(a,b,c){e.Vx(this.Ia.mq,a);c=c.ta;if(0!==c.length){this.pn(a);this.Pa.bind();this.$a.bind();this.o.use();var d=this.h;d.enable(d.BLEND);d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);var f=this.o.H();d.uniform2fv(f.viewportSize,b);d.vertexAttribPointer(this.o.attributes().tilePosition,2,d.FLOAT,!1,36,0);d.vertexAttribPointer(this.o.attributes().size,2,d.FLOAT,!1,36,8);d.vertexAttribPointer(this.o.attributes().uvSize,2,d.FLOAT,!1,36,16);d.vertexAttribPointer(this.o.attributes().uvStart,
2,d.FLOAT,!1,36,24);d.vertexAttribPointer(this.o.attributes().alpha,1,d.FLOAT,!1,36,32);d.enableVertexAttribArray(this.o.attributes().tilePosition);d.enableVertexAttribArray(this.o.attributes().size);d.enableVertexAttribArray(this.o.attributes().uvSize);d.enableVertexAttribArray(this.o.attributes().uvStart);d.enableVertexAttribArray(this.o.attributes().alpha);b=0;for(f=c.length;b<f;b++)this.Ze(a,c[b]);d.disableVertexAttribArray(this.o.attributes().tilePosition);d.disableVertexAttribArray(this.o.attributes().uvStart);
d.disableVertexAttribArray(this.o.attributes().uvSize);d.disableVertexAttribArray(this.o.attributes().size);d.disableVertexAttribArray(this.o.attributes().alpha);this.Pa.m();this.$a.m();this.o.eb();d.disable(d.BLEND)}};e.prototype.Ze=function(a,b){var d=this.h;if(b.elements.length&&b.R.$b.length){var c=this.o.H();d.activeTexture(d.TEXTURE0);d.uniform1i(c.iconTexture,0);q.P.multiply(b.bb,a.Lb,b.sb);d.uniformMatrix4fv(c.modelViewProjMatrix,!1,b.bb);for(a=0;a<b.R.$b.length;a++){c=b.R.$b[a];var e=b.R.Od[a],
h=new Float32Array(e);c.bind();var g=0;for(e=Math.round(e.length/this.qe);0<e;){var m=Math.min(e,k.Om),l=new Float32Array(h.buffer,g*this.qe*4,m*this.qe);this.Pa.data(l);d.drawElements(d.POINTS,m,d.UNSIGNED_SHORT,0);e-=m;g+=m}c.m()}}};e.prototype.jb=function(){};e.prototype.Rb=function(a){a=a.Ok;var b=this.h;this.wm.use();b.uniform1f(this.wm.H().pr,a);this.wm.eb();this.vm.use();b.uniform1f(this.vm.H().pr,a);this.vm.eb()};e.G=function(d){var c=d.id+"-icon-renderer-deps";if(b.has(c))return b.get(c);
var e=m.hb.kb(d,"shaders/icon.vert","shaders/icon.frag",{SNAP_ICONS_TO_PIXEL:"0"}),k=m.hb.kb(d,"shaders/icon.vert","shaders/icon.frag",{SNAP_ICONS_TO_PIXEL:"1",ALLOW_SUPERSAMPLING:"0"});d=a.Uq(d);e=g.all([e,k,d]);b.add(c,e);return e};return e});u(144,0,function(){function e(b,a,d,c){this.offset=q.g.j(b,a);this.size=q.g.j(d,c);this.Xd()}function g(b,a,d,c,e){this.FB=a/c;this.EB=d/c;this.Le=c;this.mj=e;this.D=b;this.tb=new p(b,a,d);this.tb.bind().data(null,b.RGBA,b.RGBA,!0).gh(b.CLAMP_TO_EDGE).hh(b.CLAMP_TO_EDGE).m();
this.lD();this.once("released",function(a){m.Zi.fa(a.tb.pa,a.tb)});this.Xd()}function r(b,a,d,c,e){this.sq=c;this.width=a;this.height=d;this.h=b;this.im=b.NEAREST;this.kJ=e||0;this.Rg=[]}var q=l(3);l(5);var p=l(105),k=l(97),m=l(90),c=[];k.ba(e.prototype);g.prototype.ay=function(b){this.tb.bind().Rc(b).Pc(b).m()};g.prototype.lD=function(){this.sd=[];for(var b=0;b<this.tb.width;b+=this.Le){for(var a=[],d=0;d<this.tb.height;d+=this.Le)a.push({iq:!1});this.sd.push(a)}};g.prototype.dk=function(b,a){b=
Math.ceil((b+2*this.mj)/this.Le);a=Math.ceil((a+2*this.mj)/this.Le);var d,c;var e=0;for(d=this.FB-b+1;e<d;e++){var k=0;for(c=this.EB-a+1;k<c;k++){a:{var g=e;var m=k,l,p,q=[];for(l=0;l<b;l++)for(p=0;p<a;p++){var r=this.sd[g+l][m+p];if(r.iq){g=null;break a}q.push(r)}g=q}if(g)return{x:e,y:k,cells:g}}}return null};g.prototype.Lv=function(b,a,d){var c=new e(this.Le*b.x+this.mj,this.Le*b.y+this.mj,a,d);c.cells=b.cells;b=0;for(var f=c.cells.length;b<f;b++)c.cells[b].iq=!0;c.tb=this.tb;c.Fi=q.g.j(c.offset[0]/
this.tb.width,c.offset[1]/this.tb.height);c.Ei=q.g.j(a/this.tb.width,d/this.tb.height);return c};g.prototype.PG=function(b,a){a=this.Lv(a,b.width,b.height);var d=this.D;this.tb.bind().dM(b,d.RGBA,a.offset[0],a.offset[1]).m();this.nd();return a};g.prototype.OG=function(b,a,d,c){a=this.Lv(a,d,c);var e=this.D;this.tb.bind().Ai(b,e.RGBA,a.offset[0],a.offset[1],d,c).m();this.nd();return a};g.prototype.kw=function(b){this.oA(b).then(this.release.bind(this))};g.prototype.oA=function(b){var a=this;return m.Yk.fa(function(){for(var d=
0,e=b.cells.length;d<e;d++)b.cells[d].iq=!1;var f=b.size;d=b.offset;e=a.D;var k=a.mj,g=2*k,m=f[0]+g;f=f[1]+g;g=m*f*4;if(!(c.length>=g)){c=new Uint8Array(g);for(var l=0;l<g;l+=4)c[l+0]=255,c[l+1]=255,c[l+2]=255,c[l+3]=0}g=c;a.tb.bind().Ai(g,e.RGBA,d[0]-k,d[1]-k,m,f).m()})};k.ba(g.prototype);r.prototype.bA=function(){var b=new g(this.h,this.width,this.height,this.sq,this.kJ);b.ay(this.im);this.Rg.push(b);var a=this;b.once("released",function(b){a.Rg.splice(a.Rg.indexOf(b),1)});return b};r.prototype.gv=
function(b){for(var a=0,d=this.Rg.length;a<d;a++)this.Rg[a].ay(b);this.im=b};r.prototype.by=function(){this.im!==this.h.LINEAR&&this.gv(this.h.LINEAR)};r.prototype.gL=function(){this.im!==this.h.NEAREST&&this.gv(this.h.NEAREST)};r.prototype.dk=function(b,a){var d=null,c=null;if(!(b>=this.width||a>=this.height)){for(var e=0,k=this.Rg.length;e<k&&!(c=this.Rg[e],d=c.dk(b,a));e++);d||(c=this.bA(),d=c.dk(b,a));return[d,c]}};r.prototype.Sr=function(b){var a=this.dk(b.width,b.height),d=a[1],c=d.PG(b,a[0]);
c.once("released",function(){d.kw(c)});return c};r.prototype.BK=function(b,a,d){var c=this.dk(a,d),e=c[1],k=e.OG(b,c[0],a,d);k.once("released",function(){e.kw(k)});return k};r.prototype.pushData=r.prototype.BK;r.prototype.pushImage=r.prototype.Sr;return r});u(145,0,function(){function e(b){p.prototype.constructor.call(this,b);this.Ay=new k(b,512,512,16,1);this.Kl={}}var g=l(18),r=l(0),q=l(3),p=l(143),k=l(144),m=l(11),c=l(90);g.$(p,e);e.prototype.Nd=function(b,a,d,c,e,k){b=d.ta;if(0!==b.length)for(a=
0;a<b.length;a++){d=b[a];c=d.elements;d.R={};e=[];for(var f=[],h=0,g=c.length;h<g;h++){var n=c[h],m=n.Qb;if(m.visible){n=n.R.Qj;for(var l=m.J,p=n.tb,q=0,x=m.ab.length;q<x;q++){var u=m.ab[q];if(!(u.alpha<r.Ag)){u=[u.position[0],u.position[1],l[0],l[1],n.Ei[0],n.Ei[1],n.Fi[0],n.Fi[1],u.alpha*k];var G=e.indexOf(p);-1!==G?(G=f[G],G.push.apply(G,u)):(G=u,f.push(G),e.push(p))}}}}d.R.$b=e;d.R.Od=f}};e.prototype.md=function(b,a,d){p.Vx(this.Ay,b);this.pn(b);d=d.ta;if(0!==d.length){this.Pa.bind();this.$a.bind();
this.o.use();var c=this.h;c.enable(c.BLEND);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);var e=this.o.H();c.uniform2fv(e.viewportSize,a);c.activeTexture(c.TEXTURE0);c.uniform1i(e.iconTexture,0);c.vertexAttribPointer(this.o.attributes().tilePosition,2,c.FLOAT,!1,36,0);c.vertexAttribPointer(this.o.attributes().size,2,c.FLOAT,!1,36,8);c.vertexAttribPointer(this.o.attributes().uvSize,2,c.FLOAT,!1,36,16);c.vertexAttribPointer(this.o.attributes().uvStart,2,c.FLOAT,
!1,36,24);c.vertexAttribPointer(this.o.attributes().alpha,1,c.FLOAT,!1,36,32);c.enableVertexAttribArray(this.o.attributes().tilePosition);c.enableVertexAttribArray(this.o.attributes().size);c.enableVertexAttribArray(this.o.attributes().uvSize);c.enableVertexAttribArray(this.o.attributes().uvStart);c.enableVertexAttribArray(this.o.attributes().alpha);a=0;for(e=d.length;a<e;a++)this.Ze(b,d[a]);c.disableVertexAttribArray(this.o.attributes().tilePosition);c.disableVertexAttribArray(this.o.attributes().uvStart);
c.disableVertexAttribArray(this.o.attributes().uvSize);c.disableVertexAttribArray(this.o.attributes().size);c.disableVertexAttribArray(this.o.attributes().alpha);this.Pa.m();this.$a.m();this.o.eb();c.disable(c.BLEND)}};e.prototype.Ze=function(b,a){var d=this.h;if(a.elements.length&&a.R.$b.length){var c=this.o.H();q.P.multiply(a.bb,b.Lb,a.sb);d.uniformMatrix4fv(c.modelViewProjMatrix,!1,a.bb);for(b=0;b<a.R.$b.length;b++){c=a.R.$b[b];var e=a.R.Od[b],k=new Float32Array(e);c.bind();var g=0;for(e=Math.round(e.length/
this.qe);0<e;){var m=Math.min(e,r.Om),l=new Float32Array(k.buffer,g*this.qe*4,m*this.qe);this.Pa.data(l);d.drawElements(d.POINTS,m,d.UNSIGNED_SHORT,0);e-=m;g+=m}c.m()}}};e.prototype.bn=function(b,a){if(a in this.Kl)var d=this.Kl[a];else d=c.so.fa(function(){var d=this.Ay.Sr(b);if(d){var c=this;d.once("released",function(){delete c.Kl[a]});return d.Cg()}return m.reject("__texture-atlas-error__")},this),this.Kl[a]=d;return d};e.prototype.jb=function(b,a,d,c){b=b.elements;a=0;for(d=b.length;a<d;a++){var e=
b[a],h=c[e.Pb.By];h&&(e.R={Qj:h})}};e.G=p.G;return e});u(146,0,function(){function e(e,c,b){q.prototype.constructor.call(this,p.S,e,c,b);this.Lt=-1;this.mk=!0;this.nq=[];this.Tp=[];this.Sp=[];this.clearColor=r.Ov}var g=l(18),r=l(0),q=l(121),p=l(13),k=l(4).global;g.$(q,e);e.prototype.Yh=function(){return!1};e.prototype.ze=function(e){this.clearColor=e.dd;q.prototype.ze.apply(this,arguments)};e.prototype.update=function(e){var c=e.We();this.Lt!==c&&(this.mk=!0);this.Lt=c;if(this.mk){this.nq.length=
0;this.Tp.length=0;this.Sp.length=0;c=this.ta;for(var b=0,a=c.length;b<a;b++){var d=c[b],h=d.elements;d.elements.sort(function(a,b){return a.Xa.zIndex-b.Xa.zIndex});d=0;for(var f=h.length;d<f;d++){var g=h[d],m=g.Xa.Wa;m===k.po?this.nq.push(g):m===k.Qy?this.Tp.push(g):this.Sp.push(g)}}this.mk=!1}q.prototype.update.apply(this,arguments)};e.prototype.push=function(){this.mk=!0;q.prototype.push.apply(this,arguments)};e.prototype.remove=function(){this.mk=!0;q.prototype.remove.apply(this,arguments)};return e});
u(147,0,function(){function e(a,b,c){this.x=a;this.y=b;this.z=c}function g(a){this.key=a;var b=Math.pow(m.Df,-a.z);this.size=c.g.j(b,b);this.origin=c.g.j(a.x*b,a.y*b)}function r(b){this.In=c.I.create();this.Jn=c.I.create();this.Kn=c.I.create();this.Ln=c.I.create();p.prototype.constructor.call(this,k.Wi);this.RJ=m.QJ*m.Df;this.W=b;this.W.yf(this);this.Bj=this.sh=m.Eq;this.Aj=this.rh=m.Dq;this.Io=a.resolve();this.rk=c.I.create();this.fillColor=c.I.create();this.Gt(m.Dq,m.Eq,0)}var q=l(18),p=l(111),
k=l(13),m=l(0),c=l(3),b=l(129),a=l(11);g.prototype.kH=function(){this.sb=c.P.Gf(c.P.create());c.P.translate(this.sb,this.sb,c.Da.j(this.origin[0],this.origin[1],0));c.P.scale(this.sb,this.sb,c.Da.j(this.size[0],this.size[1],0));this.bb=c.P.create()};g.prototype.split=function(){for(var a=m.Df,b=this.key.x*m.Df,c=this.key.y*m.Df,k=this.key.z+1,l=Array(a*a),p=0,q=0;q<a;q++)for(var r=0;r<a;r++){var u=new e(b+q,c+r,k);l[p++]=new g(u)}return l};q.$(p,r);r.prototype.Gt=function(a,b,c){var d=this;this.Io=
this.Io.then(function(){var a=d.W.Vd(d,0);d.fv();return a}).then(function(){d.Aj=d.rh;d.Bj=d.sh;d.rh=a;d.sh=b;return d.W.show(d,c)})};r.prototype.ze=function(a){this.Gt(a.fd,a.gd,m.dJ);p.prototype.ze.apply(this,arguments)};r.prototype.$B=function(a,e){c.I.set(this.In,e.origin[0],e.origin[1],0,1);c.I.set(this.Jn,e.origin[0]+e.size[0],e.origin[1],0,1);c.I.set(this.Kn,e.origin[0]+e.size[0],e.origin[1]+e.size[1],0,1);c.I.set(this.Ln,e.origin[0],e.origin[1]+e.size[1],0,1);a=a.Lb;c.I.Ka(this.In,this.In,
a);c.I.Ka(this.Jn,this.Jn,a);c.I.Ka(this.Kn,this.Kn,a);c.I.Ka(this.Ln,this.Ln,a);a=b.wc(this.In);e=b.wc(this.Jn);var d=b.wc(this.Kn),h=b.wc(this.Ln);return 0!==(a&e&d&h)?!1:!0};r.prototype.fv=function(){var a=this.alpha,b=1-a;this.rk[0]=this.sh[0]*a+this.Bj[0]*b;this.rk[1]=this.sh[1]*a+this.Bj[1]*b;this.rk[2]=this.sh[2]*a+this.Bj[2]*b;this.rk[3]=this.sh[3]*a+this.Bj[3]*b;this.fillColor[0]=this.rh[0]*a+this.Aj[0]*b;this.fillColor[1]=this.rh[1]*a+this.Aj[1]*b;this.fillColor[2]=this.rh[2]*a+this.Aj[2]*
b;this.fillColor[3]=this.rh[3]*a+this.Aj[3]*b};r.prototype.WD=function(){this.Qg()&&this.fv()};r.prototype.update=function(a){this.WD();var b=Math.log(m.Cd*Math.pow(2,a.We())/this.RJ)/Math.log(m.Df),d=Math.floor(a.Uh()[0]);this.hk=[new g(new e(d-1,0,0)),new g(new e(d,0,0)),new g(new e(d+1,0,0))];for(d=0;d<b;d++){var c=[],k=this;this.hk.forEach(function(b){b=b.split().filter(function(b){return k.$B(a,b)});c.push.apply(c,b)});this.hk=c}this.pJ=Math.min(b%1/.8,1);this.hk.forEach(function(a){a.kH()});
p.prototype.update.apply(this,arguments)};r.prototype.Qg=function(){return!this.Io.qk()||p.prototype.Qg.apply(this,arguments)};r.prototype.er=function(){return!1};return r});u(148,0,function(){function e(c){this.type=c;this.id=p.Bb();this.lf=1;this.mp=null}function g(c,b,a){this.D=c;this.Y=b;this.gC=a;this.pb=[];this.td=q.resolve("__layers-lock-init__");this.fl={};this.tu=k.Fq;this.Tt=k.Cq;this.Ju=k.Gq;this.yg=k.Hg;this.sg=k.Gg;this.Xg(k.Rv,k.Qv)}var r=l(9);l(13);var q=l(11),p=l(5),k=l(0),m=l(12);
e.prototype.$w=function(){if(this.mp)return this.mp;var c=this,b={type:this.type,id:this.id,get alpha(){return c.lf},set alpha(a){c.lf=a;c.view.Zx(a)}};return this.mp=b};g.prototype.wa=function(){return this.pb.map(function(c){return c.$w()})};g.prototype.wu=function(c){for(var b=0,a=this.pb.length;b<a;b++)if(this.pb[b].id===c.id)return b};g.prototype.vu=function(c){return this.pb[this.wu(c)]};g.prototype.Nm=function(){return this.pb.map(function(c){return c.view.Qc})};g.prototype.Xg=function(c,b){this.yu=
this.Y.kc/k.Cd;this.Eu=c;this.Ej={devicePixelRatio:c,hx:b,Ok:c*b};this.nj=b;this.K("surface-property-changed",this.Ej)};g.prototype.ri=function(c){this.me=c;this.K("rendering-mode-changed",c)};g.prototype.si=function(c){this.Ll=c};g.prototype.Tf=function(c){this.tu=c};g.prototype.Fk=function(c,b){this.Tt=c;this.Ju=b};g.prototype.yM=function(c,b,a){this.yg=b;this.sg=a;this.Bp=c;var d;this.qA=d=c===this.Y.Fe.yt?this.Y.Ih[b+"-"+a]:{Wc:c,dd:k.Pv,fd:k.Pv,gd:k.BH};this.Nm().forEach(function(a){a.ze(d)})};
g.prototype.Zo=function(c,b){var a=this;c=this.gC.get(c);return c=c.then(function(d){d.Zx(b.lf);var c=d.Qc;a.Ja("tile-created",c.Xe,c);a.Ja("tile-destroyed",c.Mf,c);a.Ja("tile-dependency-ready",c.Vm,c);c.ze(a.qA);a.CC(c);c=d.Z;a.Ja("surface-property-changed",c.Rb,c);c.Rb(a.Ej);a.Ja("rendering-mode-changed",c.ei,c);c.ei(a.me);b.view=d;return b.$w()})};g.prototype.Jo=function(c){return new e(c)};g.prototype.insertBefore=function(c,b){var a=this.Jo(c),d=this.Zo(c,a);return this.td=this.td.then(function(){return d.then(function(d){for(var c=
0,e=this.pb.length;c<e;c++)if(b.id===this.pb[c].id)return this.pb.splice(c,0,a),d;console.assert(!1,"Given reference layer is not in the mapView anymore, this probably means you haven't waited for the previous operation to complete before calling insertBefore")}.bind(this))}.bind(this))};g.prototype.ar=function(c,b){var a=this.Jo(c),d=this.Zo(c,a);return this.td=this.td.then(function(c){return d.then(function(){for(var d=0,e=this.pb.length;d<e;d++)if(b.id===this.pb[d].id)return this.pb.splice(d+1,
0,a),c;console.assert(!1,"Given reference layer is not in the mapView anymore, this probably means you haven't waited for the previous operation to complete before calling after")}.bind(this))}.bind(this))};g.prototype.xJ=function(c){return this.vu(c).view.Qc.gr()};g.prototype.wJ=function(c){return this.vu(c).view.Qc.Yh()};g.prototype.Ul=function(){this.Nm().forEach(function(c){c.Ul()})};g.prototype.Ql=function(){this.Nm().forEach(function(c){c.Ql()})};g.prototype.Eh=function(c){return this.$z(c)};
g.oz=function(c,b){return c.type-b.type};g.prototype.$z=function(c){var b=this.Jo(c),a=this.Zo(c,b);return this.td=this.td.then(function(){return a.then(function(a){this.pb.push(b);this.pb.sort(g.oz);return a}.bind(this))}.bind(this))};g.prototype.hn=function(c){var b=-1;return this.td=this.td.then(function(){b=this.wu(c);var a=this.pb[b];a.view.Xl();this.pb.splice(b,1);var d=a.view.Qc;d&&(this.ua("tile-created",d.Xe,d),this.ua("tile-destroyed",d.Mf,d),this.ua("tile-dependency-ready",d.Vm,d));a=a.view.Z;
this.ua("surface-property-changed",a.Rb,a);this.ua("rendering-mode-changed",a.ei,a);this.hc();return c}.bind(this))};g.prototype.Xe=function(c){c.scale=this.Ej.devicePixelRatio;c.Wc=this.Bp;c.Jb=this.Ll;c.language=this.tu;c.ve=this.Tt;c.Be=this.Ju;c.ub=this.yg;c.qb=this.sg;this.K("tile-created",c);this.K("tile-dependency-ready",c);this.fl[c.Kb.id]=c};g.prototype.Mf=function(c){this.K("tile-destroyed",c);delete this.fl[c.Kb.id]};g.prototype.CC=function(c){for(var b in this.fl){var a=this.fl[b],d=a.G();
a.Ox();a.rv(d,"all-deps");c.Xe(a)}};g.prototype.oy=function(c){if(this.th)return c&&(c["mapview-dirty"]=!0),!0;for(var b=0,a=this.pb.length;b<a;b++){var d=this.pb[b].view;if(d.Qg())return c&&(c["layer-dirty"]=d.type()),!0}c&&(c["mapview-dirty"]=!1);return!1};g.prototype.hc=function(){this.th=!0;this.pb.forEach(function(c){c.view.Qc.hc()})};g.prototype.hC=function(c,b){for(var a=0,d=this.pb.length;a<d;a++)this.pb[a].view.yK(c,b,this.yu,this.Eu)};g.prototype.dB=function(c,b){for(var a=0;a<m.count;a++)for(var d=
0,e=this.pb.length;d<e;d++)this.pb[d].view.IH(a,c,b,this.yu,this.Eu)};g.prototype.update=function(c,b){if(this.oy()){var a=this.D;a.viewport(0,0,b[0]*this.Ej.Ok,b[1]*this.Ej.Ok);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT);this.hC(c,b);this.dB(c,b);a.disable(a.STENCIL_TEST);this.th=!1}};r.ba(g.prototype);g.prototype.update=g.prototype.update;g.prototype.invalidate=g.prototype.hc;g.prototype.layers=g.prototype.wa;return g});u(149,0,function(){function e(){}function g(e,g){r.Va(this)&&
(this.Qc=e,this.Z=g,this.Hl=!0,this.lf=1,this.mD(),this.CD())}var r=l(18),q=l(12),p=l(13);g.prototype.mD=function(){this.Za=Array(q.count);for(var k=0;k<q.count;k++)this.Za[k]=e};g.prototype.CD=function(){switch(this.type()){case p.Wi:case p.Ea:this.Za[q.Xs]=this.Z.bk.bind(this.Z);break;case p.ge:case p.He:case p.gf:case p.Gd:case p.og:case p.ef:case p.ee:case p.nb:var e=this.Z.Td("below-roads"),g=this.Z.Td("before-road-alpha"),c=this.Z.Td("above-roads");this.Za[q.Ys]=this.Z.ae.bind(this.Z,e);this.Za[q.Ty]=
this.Z.ae.bind(this.Z,g);this.Za[q.Vs]=this.Z.ae.bind(this.Z,c);break;case p.V:case p.rc:e=this.Z.Td("roads");g=this.Z.Td("road-alpha");this.Za[q.Gz]=this.Z.ae.bind(this.Z,e);this.Za[q.Fz]=this.Z.ae.bind(this.Z,g);break;case p.Sb:this.Za[q.Uy]=this.Z.bk.bind(this.Z);break;case p.u:case p.dc:this.Za[q.wt]=this.Z.bk.bind(this.Z);break;case p.qc:e=this.Z.Td("poi-texts");this.Za[q.wt]=this.Z.ae.bind(this.Z,e);e=this.Z.Td("poi-icons");this.Za[q.mt]=this.Z.ae.bind(this.Z,e);break;case p.ka:case p.O:this.Za[q.mt]=
this.Z.bk.bind(this.Z);break;case p.S:e=this.Z.Td("clear-tile"),this.Za[q.Xs]=this.Z.ae.bind(this.Z,e),e=this.Z.Td("below-roads"),this.Za[q.Ys]=this.Z.ae.bind(this.Z,e),e=this.Z.Td("above-roads"),this.Za[q.Vs]=this.Z.ae.bind(this.Z,e),e=this.Z.Td("above-buildings"),this.Za[q.Py]=this.Z.ae.bind(this.Z,e)}};g.prototype.type=function(){return this.Qc.type()};g.prototype.yK=function(e,g,c,b){this.Hl&&this.Qc.Qg()&&(this.Qc.update(e),this.Z.Nd(e,g,this.Qc,c,b,this.lf))};g.prototype.IH=function(e,g,c,b,
a){if(this.Hl)this.Za[e](g,c,this.Qc,b,a,this.lf)};g.prototype.Qg=function(){return this.Qc.Qg()};g.prototype.Xl=function(){this.Qc.Xl()};g.prototype.Zx=function(e){this.lf!==e&&(this.lf=e,this.Qc.hc())};g.prototype.show=function(){this.Hl=!0};g.prototype.Vd=function(){this.Hl=!1};return g});u(150,0,function(){function e(e){r.Va(this)&&(this.id=q.Bb(),this.be=e)}var g=l(92),r=l(18),q=l(5),p=l(97),k=l(11);e.prototype.getData=function(e){var c=e.url,b="#decoded-"+c+"-"+this.id,a=null,d=this.be;if(d.has(b))a=
d.get(b);else{var h=this.$v(e),f,n=new k(function(a,b){f=b}),m=this;a=h.then(function(b){a.ua("released",null,h);return m.wH(b,e).catch(function(a){a+=", url = '"+c+"'";return k.reject(a)})});a=k.race([a,n]);p.ba(a);a.Xd();a.once("released",function(){h.abort("--loading-aborted--")},h);a.once("released",f,this);d.add(b,a,g.yz)}return a.Cg()};return e});u(151,0,function(){function e(a,b){this.Gx=b.Dd;this.Sa=b.Sa;this.Lc=b.Lc;this.ji=b.ji;this.oi=b.oi;this.Zl=b.Zl;this.Yg=b.Yg;this.bf=b.bf;this.Bd=
b.Bd;this.Ck=b.Ck;this.Kh=b.Kh;this.Dd={};this.aa=a;this.Xd();this.Ja("released",this.RC,this)}function g(a){m.Va(this)&&q.prototype.constructor.call(this,a)}function r(a,b){g.prototype.constructor.call(this,a);this.xH=b}var q=l(150),p=l(92),k=l(13),m=l(18),c=l(5),b=l(97),a=l(90),d=l(0);l(11);var h={};e.prototype.EK=function(){this.OC();this.NC();this.MC();return this};e.prototype.uA=function(a){return a.length+":"+a.qm.join("-")};e.prototype.MC=function(){var a={};this.Kh.map(function(b){var d=this.uA(b);
a[b.id]=d;b.id=d},this);for(var b in this.Sa){var d=this.Sa[b];d.Wf&&(d.Wf=a[d.Wf]);d.Bf&&(d.Bf=a[d.Bf])}};e.prototype.NC=function(){function a(a){for(var b=[],e=0,f=a.length;e<f;e++){var h=c.Bb();d.add(h,a[e]);b.push(h)}return b}var b=this.Gx,d=this.aa;this.Dd.Od=a(b.Od);this.Dd.Lh=a(b.Lh);this.Dd.$b=a(b.$b)};e.prototype.OC=function(){for(var a=this.bf,b=[],d=0,c=a.length;d<c;d++){var e=a[d],f=0,h=e.gi;if(h){do{var k={},g;for(g in e)k[g]=e[g];var m={},l=!1,p;for(p in h){var q=h[p];f>=q.length?m[p]=
null:(m[p]=q[f],l=!0)}k.gi=m;if(l)b.push(k);else break;f++}while(1)}else b.push(e)}this.bf=b};e.prototype.RC=function(){for(var a in this.Dd)this.Dd[a].forEach(this.aa.remove,this.aa)};b.ba(e.prototype);m.$(q,g);var f={};f[k.S]="standard";f[k.V]="road";f[k.rc]="standard";f[k.O]="road";f[k.dc]="road";f[k.ka]="road";f[k.u]="standard";f[k.qc]="poi";f[k.Sb]="building";g.prototype.jJ=function(a,b){var c=a.key,e=a.language||"",f=a.ve||"",h=a.Be||"",k=a.ub||d.Hg,g=a.qb||d.Gg;return"x="+c.x+"&y="+c.y+"&z="+
c.z+"&scale="+a.scale+"&style="+a.Wc+"&v="+a.Jb+"&type="+b+(e.length?"&lang="+e:"")+(f.length?"&country="+f:"")+(h.length?"&region="+h:"")+(k.length?"&tint="+k:"")+(g.length?"&emphasis="+g:"")};g.prototype.JK=function(a,b){var d=a.key;return{mn:"vtile",x:d.x,y:d.y,z:d.z,type:b,Wc:a.Wc,scale:a.scale,language:a.language||"",ve:a.ve||"",Be:a.Be||"",Jb:a.Jb,vc:a.key.x+a.key.z}};g.prototype.Ve=function(a,b){var d="vtile?"+this.jJ(a,b);b=this.JK(a,b);return{url:d,data:b,key:a.key}};g.prototype.fetch=function(a,
b){a=this.Ve(a,b);return this.$v(a)};g.prototype.SI=function(a,b){b=this.Ve(a,f[b]);var d=this.getData(b);return d.fr()?(a.once("loading-aborted",function(){d.release()}),d.nd()):d};g.prototype.wH=function(b,d){var c=this;return this.Bq(b,d).then(function(a){return new e(c.be,a)}).then(function(b){b.nd();a.Yk.fa(b.release,b);return b.EK()})};m.$(g,r);r.prototype.Bq=function(a,b){return this.xH.Bq(a,b.key)};r.prototype.$v=function(a){return this.be.get(a.url,p.no,a.data,p.oh)};h.bz=r;h.A=e;return h});
u(156,0,function(){function e(e){this.aa=e}var g=l(92),r=l(97);e.Ve=function(e){var g=e.text,k=e.id,m=e.pd,c=e.color,b=e.Ky,a=e.scale,d=e.size,h=e.Jb,f=e.Ym;e=e.variant;var n={mn:"shield",text:g,id:k,scale:a,Ym:f,vc:k};g="shield"+("?text="+encodeURIComponent(g)+"&id="+encodeURIComponent(k)+"&scale="+a+"&overlay="+f);d&&(n.size=d,g+="&size="+d);m&&(n.pd=m,g+="&subtype="+m);c&&(n.color=c,g+="&color="+c);e&&(n.variant=e,g+="&variant="+e);b&&(n.Ky=b,g+="&vendorKey="+b);h&&(n.Jb=h,g+="&v="+h);return{url:g,
data:n}};e.prototype.mm=function(e,l){var k=this.aa;if(k.has(e))return k.get(e);var m=k.get(e,g.kg,l);r.ba(m).Xd().once("released",function(){m.fr()&&m.abort("loading-aborted");k.remove(e)});return m.Cg()};e.prototype.fetch=function(g){g=e.Ve(g);return this.mm(g.url,g.data)};return e});u(157,0,function(){function e(e,m,c,b,a){q.prototype.constructor.call(this,g.O,e,m,null,b,a);this.zp=new p(e)}var g=l(13),r=l(18),q=l(126),p=l(156);r.$(q,e);e.prototype.ww=function(e,g){var c=g.Jb,b=g.scale,a=[],d=
[];e=e.Yg;for(var h=0,f=e.length;h<f;h++){var k=e[h];k.scale=b;k.Jb=c;var m=p.Ve(k),l=m.url;m=m.data;var q=a.indexOf(l);-1===q?(k.By=a.length,a.push(l),d.push(m)):k.By=q}var r=this.zp;a.forEach(function(a,b){var c=r.mm(a,d[b]);c.nd();g.once("destroyed",function(){c.release()})});return a};return e});u(158,0,function(){function e(a){r.prototype.constructor.call(this,a);var b=this;e.G(a).then(function(a){b.o=a[0];b.Pa=a[1].Pa;b.$a=a[1].$a})}var g=l(96),r=l(135),q=l(99),p=l(11),k=l(102),m=l(18),c=l(0),
b=l(3),a=c.Df,d=c.Df;m.$(r,e);e.prototype.bD=function(b){var c=this.h;c.uniformMatrix4fv(this.o.H().modelViewProjMatrix,!1,b.bb);c.drawElements(c.LINES,4+2*(a-1+(d-1)),c.UNSIGNED_SHORT,0)};e.prototype.bk=function(a,d,c){d=this.h;this.o.use();this.$a.bind();var e=c.fillColor;d.clearColor(e[0],e[1],e[2],e[3]);d.clear(d.COLOR_BUFFER_BIT);d.enable(d.BLEND);d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);d.blendEquation(d.FUNC_ADD);this.Pa.bind();d.vertexAttribPointer(this.o.attributes().position,
2,d.FLOAT,!1,12,0);d.vertexAttribPointer(this.o.attributes().useAlpha,1,d.FLOAT,!1,12,8);d.enableVertexAttribArray(this.o.attributes().position);d.enableVertexAttribArray(this.o.attributes().useAlpha);d.uniform4fv(this.o.H().color,c.rk);d.uniform1f(this.o.H().alpha,c.pJ);d.lineWidth(1);e=c.hk;var f=0;for(c=c.hk.length;f<c;f++){var h=e[f];b.P.multiply(h.bb,a.Lb,h.sb);this.bD(h)}d.disable(d.BLEND);this.o.eb();this.Pa.m();this.$a.m()};e.prototype.ei=function(){};e.G=function(b){var c=b.id+"-grid-layer-renderer-deps";
if(g.has(c))return g.get(c);var e=k.hb.kb(b,"shaders/grid.vert","shaders/grid.frag");b=q.QI(b,a,d);e=p.all([e,b]);g.add(c,e);return e};return e});u(161,0,function(){function e(c,b){g.Va(this)&&(q.prototype.constructor.call(this,c),e.G(c,b).then(function(){this.Sg=new p(c,b)}.bind(this)))}var g=l(18);l(5);l(0);var r=l(96),q=l(136),p=l(118);l(160);var k=l(98),m=l(11);g.$(q,e);e.prototype.Nd=function(c,b,a,d){b=a.ta;a=0;for(var e=b.length;a<e;a++){var f=b[a];0!==f.elements.length&&(f.R.qr=this.Vw(f,
c.We(),d))}};e.prototype.kn=function(c,b,a){var d=this.h;if(0!==a.length){d.clearStencil(0);d.clear(d.STENCIL_BUFFER_BIT);this.Sg.wi(c,b);c=0;for(b=a.length;c<b;c++)d=a[c],d.R&&this.Sg.HK(d);this.Sg.xi()}};e.prototype.Gy=function(c,b,a,d,e,f,k){var h=c.R.wx;b?h.iL(d,k,b,a,e,f,c.Xa.zIndex):h.fL()};e.prototype.Rb=function(c){this.Sg.Rb(c)};e.prototype.jb=function(c,b,a,d,e){this.Sg.jb.apply(this.Sg,arguments);var f=c.elements,h;var g=0;for(h=f.length;g<h;g++){var m=f[g],l=m.Pb,p=a[l.ym];if(p){p.Qw()&&
p.type(k.Wk);var q=this.Sg.qH();q.Hk(l.Kq,l.Lq,l.Is,l.An);q.Jk(c,p);m.R={wx:q}}}};e.G=function(c,b){var a=c.id+"-polygon-deps";if(r.has(a))return r.get(a);c=p.G(c,b);c=m.all([c]);r.add(a,c);return c};return e});u(162,0,function(){function e(b,a){p.prototype.constructor.call(this,b,a);e.G(b).then(function(a){this.Sl=a[0];this.Av=a[1].Pa;this.zv=a[1].$a}.bind(this));this.Uo()}var g=l(11),r=l(18),q=l(0),p=l(161),k=l(96),m=l(99),c=l(102);l(13);r.$(p,e);e.prototype.Uo=function(){this.ld("clear-tile",this.WC.bind(this));
this.ld("below-roads",this.ZC.bind(this));this.ld("above-roads",this.UC.bind(this));this.ld("above-buildings",this.TC.bind(this))};e.prototype.Nd=function(b,a,d,c,e,k){p.prototype.Nd.apply(this,arguments);var f=this;d.ta.forEach(function(a){a.elements.forEach(function(a){var b=a.Xa;f.Gy(a,b.visible,b.visible,b.fillColor,b.Zb*q.qK,b.strokeColor,k)})})};e.prototype.WC=function(b,a,d,c,e,k){b=this.h;this.Sl.use();c=this.Sl.attributes();a=this.Sl.H();b.enable(b.BLEND);b.blendFuncSeparate(b.SRC_ALPHA,
b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA);b.uniform4fv(a.color,d.clearColor||q.Ov);this.zv.bind();this.Av.bind();b.vertexAttribPointer(c.position,2,b.FLOAT,!1,8,0);b.enableVertexAttribArray(c.position);d=d.ta;c=0;for(e=d.length;c<e;c++)b.uniformMatrix4fv(a.modelViewProjMatrix,!1,d[c].bb),b.uniform1f(a.alpha,k),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);this.Sl.eb();this.zv.m();this.Av.m();b.disable(b.BLEND)};e.prototype.ZC=function(b,a,d){this.kn(b,a,d.nq)};e.prototype.UC=function(b,
a,d){this.kn(b,a,d.Tp)};e.prototype.TC=function(b,a,d){this.kn(b,a,d.Sp)};e.G=function(b,a){var d=b.id+"-land-deps";if(k.has(d))var e=k.get(d);else{var f=c.hb.kb(b,"shaders/basic.vert","shaders/basic.frag"),n=m.Vh(b);e=g.all([f,n]);k.add(d,e)}return p.G(b,a).then(function(){return e})};return e});u(163,0,function(){function e(e){r.prototype.constructor.call(this,e)}var g=l(18),r=l(161);l(13);g.$(r,e);e.prototype.Nd=function(e,g,k,m,c,b){var a=this;k.ta.forEach(function(d){d.elements.forEach(function(c){var e=
c.Xa,h=e.Zb||-1;a.Gy(c,0<c.alpha,0<c.alpha&&0<h,e.Kg,h,e.strokeColor,d.alpha*b*c.alpha)})});r.prototype.Nd.apply(this,arguments)};e.prototype.md=function(e,g,k){this.kn(e,g,k.Dv)};e.G=r.G;return e});u(164,0,function(){function e(a){m.prototype.constructor.call(this,a);var b=this;e.G(a).then(function(a){b.ah=a[0];b.Dn=a[1]});this.Uo()}var g=l(18),r=l(11),q=l(102),p=l(105),k=l(96),m=l(136),c=l(99),b=l(13),a=l(3);g.$(m,e);e.prototype.Uo=function(){this.ld("below-roads",this.jA.bind(this));this.ld("before-road-alpha",
this.iA.bind(this));this.ld("above-roads",this.Wz.bind(this))};e.prototype.ei=function(a){m.prototype.ei.apply(this,arguments);this.vJ=this.Lx===b.Fd.Xk;this.AJ=this.Lx===b.Fd.bl};e.prototype.Jp=function(a){return a.Xh&&!(this.vJ||this.AJ)};e.prototype.jA=function(a,b,c){this.Jp(c)?this.nA.apply(this,arguments):this.fD.apply(this,arguments)};e.prototype.iA=function(a,b,c){this.Jp(c)&&this.oD.apply(this,arguments)};e.prototype.Wz=function(a,b,c){this.Jp(c)&&this.gD.apply(this,arguments)};e.prototype.nA=
function(a,b,c){b=this.h;b.disable(b.BLEND);b.clearStencil(255);b.clear(b.STENCIL_BUFFER_BIT);b.enable(b.STENCIL_TEST);b.stencilFunc(b.ALWAYS,0,255);b.stencilOp(b.KEEP,b.KEEP,b.REPLACE);this.El(a,c.ta,0);b.disable(b.STENCIL_TEST)};e.prototype.oD=function(a,b,c){b=this.h;b.clearStencil(255);b.clear(b.STENCIL_BUFFER_BIT);b.enable(b.STENCIL_TEST);b.stencilFunc(b.ALWAYS,0,255);b.stencilOp(b.KEEP,b.KEEP,b.REPLACE);b.colorMask(!1,!1,!1,!1);this.El(a,c.ta,0);b.colorMask(!0,!0,!0,!0);b.disable(b.STENCIL_TEST)};
e.prototype.gD=function(a,b,c){b=this.h;b.enable(b.BLEND);b.blendFuncSeparate(b.ONE_MINUS_DST_ALPHA,b.DST_ALPHA,b.ONE_MINUS_DST_ALPHA,b.DST_ALPHA);c=c.ta.slice().reverse();this.El(a,c,1);b.disable(b.BLEND)};e.prototype.fD=function(a,b,c,e,k,g){b=this.h;b.disable(b.STENCIL_TEST);b.enable(b.BLEND);b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA);this.El(a,c.ta,g);b.disable(b.BLEND)};e.prototype.El=function(b,c,e){var d=this.h;this.ah.use();this.Dn.Pa.bind();this.Dn.$a.bind();
d.vertexAttribPointer(this.ah.attributes().position,2,d.FLOAT,!1,8,0);d.enableVertexAttribArray(this.ah.attributes().position);d.uniform1i(this.ah.H().rasterTileTexture,0);d.activeTexture(d.TEXTURE0);for(var f=0,h=c.length;f<h;f++){var k=c[f],g=k.tb;g.bind();a.P.multiply(k.bb,b.Lb,k.sb);d.uniformMatrix4fv(this.ah.H().modelViewProjMatrix,!1,k.bb);d.uniform1f(this.ah.H().alpha,k.alpha*e);d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0);g.m()}d.disable(d.BLEND);this.ah.eb();this.Dn.Pa.m();this.Dn.$a.m()};
e.prototype.bn=function(a){return this.Zj.fa(function(){var b=this.h,d=p.ek(b,a,!0);d.bind().Rc(b.LINEAR).Pc(b.LINEAR).gh(b.CLAMP_TO_EDGE).hh(b.CLAMP_TO_EDGE).m();return d},this)};e.prototype.jb=function(a,b){a.tb=b};e.prototype.Cf=function(b){b.bb=a.P.create();return r.resolve("__done__")};e.G=function(a){var b=a.id+"-raster-tile-deps";if(k.has(b))return k.get(b);var d=q.hb.kb(a,"shaders/raster-tile.vert","shaders/raster-tile.frag");a=c.Vh(a);d=r.all([d,a]);k.add(b,d);return d};return e});u(165,
0,function(){function e(b){0>b&&(b=-b+32768);return b}function g(){this.Rj=m.g.j(0,0)}var r=l(11),q=l(102),p=l(98),k=l(0),m=l(3),c=l(96);g.prototype.rb=function(b,a){this.Yb=a.Yb;this.h=b;this.rf=0;b=g.Hw(b,512);this.xc=b.xc;this.Bc=b.Bc;this.Ac=b.Ac;return this.WB()};g.prototype.Gk=function(b){this.rf!==b&&(this.rf=b,this.ui.use(),this.h.uniform1f(this.ui.H().pr,b),this.ui.eb())};g.prototype.Yr=function(b,a){var d=this.h,c=b.caption,e=c.lines,k=0,g=this.Rj;m.g.set(g,0,0);for(var l=0,p=e.length;l<
p;l++){m.g.add(g,b.offset,c.Km[l]);d.uniform2fv(a.positionOffset,g);var q=e[l];d.drawElements(d.TRIANGLES,6*q.Qe,d.UNSIGNED_SHORT,12*k);k+=q.Qe}};g.prototype.Kx=function(b,a,d,c,e,g){var f=this.h,h=1/(this.Yb*d);d=.5*k.bJ*h/this.rf;c&&(c*=h,f.uniform1f(b.transitionStartDistance,c-d),f.uniform1f(b.transitionEndDistance,Math.min(c+d,1)),f.uniform4fv(b.color,g),this.Yr(a,b));f.uniform1f(b.transitionEndDistance,d);f.uniform1f(b.transitionStartDistance,-d);f.uniform4fv(b.color,e);this.Yr(a,b)};g.prototype.WB=
function(){var b=this.h,a={SNAP_GLYPHS_TO_PIXEL:"0"},d=q.hb.kb(b,"shaders/axis-aligned-text-label.vert","shaders/text-label.frag",a);a=q.hb.kb(b,"shaders/axis-aligned-text-label.vert","shaders/shield-text-label.frag",a);var c=q.hb.kb(b,"shaders/axis-aligned-text-label.vert","shaders/shield-text-label.frag",{SNAP_GLYPHS_TO_PIXEL:"1",ALLOW_SUPERSAMPLING:"0"}),e=q.hb.kb(b,"shaders/curved-text-label.vert","shaders/text-label.frag"),k=this;d.then(function(a){a.use();b.uniform1i(a.H().dataTexture,0);b.uniform1i(a.H().glyphTexture,
1);a.eb();k.oE=a});e.then(function(a){a.use();b.uniform1i(a.H().dataTexture,0);b.uniform1i(a.H().glyphTexture,1);a.eb();k.tH=a});a.then(function(a){a.use();b.uniform1i(a.H().dataTexture,0);b.uniform1i(a.H().glyphTexture,1);a.eb();k.xs=a});c.then(function(a){a.use();b.uniform1i(a.H().dataTexture,0);b.uniform1i(a.H().glyphTexture,1);a.eb();k.ui=a});return r.all([d,e,a,c]).then(function(){return k})};g.Hw=function(b,a){for(var d=[],c=[],e=[],k=0;k<a;k++)c.push(0,0,1,0,0,1,1,1),e.push(k,k,k,k),d.push(4*
k,4*k+1,4*k+2,4*k+2,4*k+1,4*k+3);a=p.xf(b,new Float32Array(e));c=p.xf(b,new Float32Array(c));b=p.em(b,new Uint16Array(d));return{xc:a,Bc:c,Ac:b}};g.KH=function(b,a){return 65536*e(a)+e(b)};g.Yv=function(b,a){return 65536*a+b};g.get=function(b,a){var d=b.id+"-"+a.id+"-line-rendering-objects";if(c.has(d))return c.get(d);b=(new g).rb(b,a);c.add(d,b);return b};return g});u(166,0,function(){function e(g,k){q.prototype.constructor.call(this,g,k);var m=this;e.G(g,k).then(function(c){m.Bi=c;m.o=c.oE;m.Ac=
c.Ac;m.Bc=c.Bc;m.xc=c.xc})}var g=l(18),r=l(165),q=l(136);g.$(q,e);e.prototype.md=function(e,k,g,c,b,a){c=this.h;b=this.o.H();var d=this.o.attributes();c.enable(c.BLEND);c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);this.o.use();this.Ac.bind();c.uniform2fv(b.viewportSize,k);this.Bc.bind();c.enableVertexAttribArray(d.position);c.vertexAttribPointer(d.position,2,c.FLOAT,!1,8,0);this.Bc.m();this.xc.bind();c.enableVertexAttribArray(d.dataIndex);c.vertexAttribPointer(d.dataIndex,
1,c.FLOAT,!1,4,0);this.xc.m();this.$r(e,g,a);this.Ac.m();this.o.eb();c.disable(c.BLEND)};e.prototype.Ze=function(e,k,g){e=k.Rp;if(e.length){var c=this.h,b=this.o.H();c.uniformMatrix4fv(b.modelViewProjMatrix,!1,k.bb);for(var a=k={m:function(){}},d=0,h=e.length;d<h;d++){var f=e[d],n=f.R;if(n){var m=f.Xa;f=f.Qb;if(f.visible&&f.Ya){var l=n.zd;k!==l&&(c.uniform2f(b.dataTextureSize,l.width,l.height),c.activeTexture(c.TEXTURE0),k.m(),k=l,k.bind());n=n.Ad;a!==n&&(c.uniform2f(b.glyphTexturePoints,n.width,
n.height),c.activeTexture(c.TEXTURE1),a.m(),a=n,a.bind());this.xj(f,m,g)}}}k.m();a.m()}};e.prototype.xj=function(e,k,g){for(var c=this.h,b=this.o.H(),a=0,d=e.ab.length;a<d;a++){var h=e.ab[a];c.uniform2fv(b.center,h.position);c.uniform1f(b.alpha,h.alpha*g);var f=h.caption;c.uniform1f(b.labelIndexOffset,f.offset);f=f.Rd;c.uniform1f(b.fontScaleFactor,f);this.Bi.Kx(b,h,f,k.ik,k.af,k.Yf)}};e.prototype.jb=function(e,k,g,c,b){e=e.Rp;k=0;for(g=e.length;k<g;k++){var a=e[k],d;var h=a.Pb.wf;for(d in h){h=h[d];
a.R={Ad:c[h.Ad],zd:b[h.zd]};break}}};e.G=function(e,k){return r.get(e,k)};return e});u(167,0,function(){function e(k,m){q.prototype.constructor.call(this,k);var c=this;e.G(k,m).then(function(b){c.Bi=b;c.o=b.tH;c.Ac=b.Ac;c.Bc=b.Bc;c.xc=b.xc});this.Yb=m.Yb;this.Rj=g.g.j(0,0)}var g=l(3),r=l(18),q=l(136),p=l(165);r.$(q,e);e.prototype.md=function(e,g,c,b,a,d){b=this.h;a=this.o.H();var h=this.o.attributes();b.enable(b.BLEND);b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA);
this.o.use();this.Ac.bind();b.uniform2fv(a.viewportSize,g);this.Bc.bind();b.vertexAttribPointer(h.position,2,b.FLOAT,!1,8,0);b.enableVertexAttribArray(h.position);this.Bc.m();this.xc.bind();b.vertexAttribPointer(h.dataIndex,1,b.FLOAT,!1,4,0);b.enableVertexAttribArray(h.dataIndex);this.xc.m();this.$r(e,c,d);this.Ac.m();this.o.eb();b.disable(b.BLEND)};e.prototype.Ze=function(e,g,c){e=g.zq;if(e.length){var b=this.h,a=this.o.H();b.uniformMatrix4fv(a.modelViewProjMatrix,!1,g.bb);for(var d=g={m:function(){}},
h=0,f=e.length;h<f;h++){var k=e[h],m=k.Xa,l=k.Qb;k=k.R;if(l.visible&&l.Ya){var p=k.zd;g!==p&&(b.uniform2f(a.dataTextureSize,p.width,p.height),b.activeTexture(b.TEXTURE0),g.m(),g=p,g.bind());k=k.Ad;d!==k&&(b.uniform2f(a.glyphTexturePoints,k.width,k.height),b.activeTexture(b.TEXTURE1),d.m(),d=k,d.bind());this.xj(l,m,c)}}g.m();d.m()}};e.prototype.xj=function(e,m,c){var b=this.h,a=this.o.H();g.g.set(this.Rj,0,0);for(var d=0,h=e.ab.length;d<h;d++){var f=e.ab[d];b.uniform1f(a.halfLineWidth,.5*e.J[0]);var k=
f.curve;k.Pw()?(b.uniform2fv(a.p0,g.g.clone(k.Ra)),b.uniform2fv(a.p1,g.g.clone(k.Ra)),b.uniform2fv(a.p2,g.g.clone(k.cb)),b.uniform2fv(a.p3,g.g.clone(k.cb))):(b.uniform2fv(a.p0,g.g.clone(k.Ra)),b.uniform2fv(a.p1,g.g.clone(k.cb)),b.uniform2fv(a.p2,g.g.clone(k.jd)),b.uniform2fv(a.p3,g.g.clone(k.Sc)));b.uniform1f(a.alpha,f.alpha*c);k=f.caption;b.uniform1f(a.labelIndexOffset,k.offset);k=k.Rd;b.uniform1f(a.fontScaleFactor,k);this.Bi.Kx(a,f,k,m.ik,m.af,m.Yf)}};e.prototype.jb=function(e,g,c,b,a){e=e.zq;g=
0;for(c=e.length;g<c;g++){var d=e[g],h,f=d.Pb.wf;for(h in f){f=f[h];d.R={Ad:b[f.Ad],zd:a[f.zd]};break}}};e.G=function(e,g){return p.get(e,g)};return e});u(168,0,function(){function e(m,c){k.prototype.constructor.call(this,m);var b=this;e.G(m,c).then(function(a){b.xs=a.xs;b.ui=a.ui;b.Ac=a.Ac;b.Bc=a.Bc;b.xc=a.xc;b.CH=a.CH;b.Bi=a});this.Rj=g.g.j(0,0)}var g=l(3),r=l(18),q=l(0),p=l(165),k=l(136);r.$(k,e);e.prototype.pn=function(e){this.o=e.rr()<q.nK?this.ui:this.xs};e.prototype.md=function(e,c,b,a,d,h){this.pn(e);
a=this.h;d=this.o.H();var f=this.o.attributes();a.enable(a.BLEND);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);this.o.use();this.Ac.bind();a.uniform2fv(d.viewportSize,c);this.Bc.bind();a.enableVertexAttribArray(f.position);a.vertexAttribPointer(f.position,2,a.FLOAT,!1,8,0);this.Bc.m();this.xc.bind();a.enableVertexAttribArray(f.dataIndex);a.vertexAttribPointer(f.dataIndex,1,a.FLOAT,!1,4,0);this.xc.m();this.$r(e,b,h);this.Ac.m();this.o.eb();a.disable(a.BLEND)};
e.prototype.Ze=function(e,c,b){e=c.ys;if(e.length){var a=this.h,d=this.o.H();a.uniformMatrix4fv(d.modelViewProjMatrix,!1,c.bb);for(var h=c={m:function(){}},f=0,k=e.length;f<k;f++){var g=e[f],m=g.Xa,l=g.Qb;g=g.R;if(!(l.alpha<q.Ag)&&l.Ya){var p=g.zd;c!==p&&(a.uniform2f(d.dataTextureSize,p.width,p.height),a.activeTexture(a.TEXTURE0),c.m(),c=p,c.bind());g=g.Ad;h!==g&&(a.uniform2f(d.glyphTexturePoints,g.width,g.height),a.activeTexture(a.TEXTURE1),h.m(),h=g,h.bind());a.uniform1f(d.fontScaleFactor,m.Rd);
this.xj(m.af,l,b)}}c.m();h.m()}};e.prototype.xj=function(e,c,b){e=this.h;var a=this.o.H();g.g.set(this.Rj,0,0);for(var d=0,h=c.ab.length;d<h;d++){var f=c.ab[d];e.uniform2fv(a.center,f.position);e.uniform1f(a.alpha,f.alpha*b);e.uniform1f(a.labelIndexOffset,f.caption.offset);this.Bi.Yr(f,a)}};e.prototype.Rb=function(e){this.Bi.Gk(e.Ok)};e.prototype.jb=function(e,c,b,a,d){e=e.ys;c=0;for(b=e.length;c<b;c++){var h=e[c],f;var k=h.Pb.wf;for(f in k){k=k[f];h.R={Ad:a[k.Ad],zd:d[k.zd]};break}}};e.G=function(e,
c){return p.get(e,c)};return e});u(169,0,function(){function e(a,b,e){q.prototype.constructor.call(this,a);this.Lg=new c(a,e);this.Kj=new p(a,b);this.Yj=new k(a,b);this.Kk=new m(a,b);this.ld("poi-texts",this.Kj.md.bind(this.Kj));this.ld("poi-icons",this.Lg.md.bind(this.Lg));this.ld("curved-texts",this.Yj.md.bind(this.Yj));this.ld("poi-shields",this.Kk.md.bind(this.Kk))}var g=l(11),r=l(18),q=l(136),p=l(166),k=l(167),m=l(168),c=l(143),b=l(96);r.$(q,e);e.prototype.Nd=function(a,b,c,e,k,g){this.Lg.Nd.apply(this.Lg,
arguments)};e.prototype.jb=function(a){this.Kj.jb.apply(this.Kj,arguments);this.Lg.jb.apply(this.Lg,arguments);this.Yj.jb.apply(this.Yj,arguments);this.Kk.jb.apply(this.Kk,arguments)};e.prototype.Rb=function(a){this.Kj.Rb(a);this.Lg.Rb(a);this.Yj.Rb(a);this.Kk.Rb(a)};e.G=function(a,d){var e=a.id+"-poi-text-label-deps";if(b.has(e))return b.get(e);a=g.all([c.G(a),p.G(a,d),k.G(a,d),m.G(a,d)]);b.add(e,a);return a};return e});u(171,0,function(){function e(e,g,k,l,c){r.prototype.constructor.apply(this,
arguments);this.Jf=1;this.Xh=!1;this.xa=c}var g=l(18),r=l(121);l(13);g.$(r,e);e.prototype.ze=function(e){this.Xh=e.Wc===this.xa.Fe.xo;this.Jf=1;r.prototype.ze.apply(this,arguments)};e.prototype.Yh=function(){return!1};e.prototype.update=function(e){if(this.Xh){var g=e.gk();this.Jf=0;8>=g?this.Jf=1:9>=g?this.Jf=.8:11>=g?this.Jf=.7:13>=g?this.Jf=.6:21>=g&&(this.Jf=.5)}r.prototype.update.apply(this,arguments)};return e});u(172,0,function(){function e(b,a){k.prototype.constructor.call(this,b,m.Sb);this.Oa=
a}function g(b,a,d,c){p.prototype.constructor.call(this,m.Sb,a,d,c);b.Ja("styles-updated",this.hc,this)}var r=l(18),q=l(0),p=l(121),k=l(120),m=l(13),c=l(11);r.$(k,e);e.prototype.update=function(){this.elements.forEach(function(b){b.Xa.visible?this.FD(b):this.ku(b)},this)};e.prototype.FD=function(b){this.Oa.show(b,q.ZG)};e.prototype.ku=function(b){return this.Oa.Vd(b,q.$G)};e.prototype.Mh=function(){this.elements.forEach(function(b){this.Oa.yf(b)},this);k.prototype.Mh.apply(this,arguments)};e.prototype.LB=
function(){return this.elements.map(function(b){return this.ku(b)},this)};r.$(p,g);g.prototype.Yh=function(){return!1};g.prototype.update=function(b){var a=[];this.ta.forEach(function(b){b.update();a.push.apply(a,b.elements)});this.Dv=a;this.Dv.sort(function(a,b){return a.Xa.zIndex-b.Xa.zIndex});p.prototype.update.apply(this,arguments)};g.prototype.cd=function(b){var a=this.Oa?b.LB():c.resolve();return c.all([a,p.prototype.cd.apply(this,arguments)])};g.prototype.Xj=function(b){return new e(b,this.Oa)};
return g});u(173,0,function(){function e(e){q.prototype.constructor.call(this,g.TN,null,e);this.cf=[]}var g=l(13),r=l(18),q=l(121);r.$(q,e);e.prototype.Xe=function(e){this.cf.push(e)};e.prototype.Vm=function(){};e.prototype.Mf=function(e){this.cf.splice(this.cf.indexOf(e),1)};return e});u(174,0,function(){function e(e,c,b,a){this.xa=a;g.prototype.constructor.call(this,e,c,b)}var g=l(121),r=l(18),q=l(0),p=l(11),k=l(13);r.$(g,e);e.prototype.ze=function(e){this.Xh=e.Wc===this.xa.Fe.xo;g.prototype.ze.apply(this,
arguments)};e.prototype.gr=function(){return!1};e.prototype.Yh=function(){return this.type()!==k.nb};e.prototype.cd=function(){var e=arguments,c=this;return(this.Oa&&this.Oa.Ke?p.timeout(q.Cn):p.resolve()).then(function(){return g.prototype.cd.apply(c,e)})};e.prototype.rq=function(){return q.CK};e.prototype.nw=function(e){return e};return e});u(175,0,function(){function e(a,b,c,d){m.prototype.constructor.call(this,a,b);q.Va(this)&&(this.yb=d,this.Rp=[],this.zq=[],this.ys=[],this.Yb=c)}function g(a,
b,c,d,e,f){k.prototype.constructor.call(this,a,b,c,f);q.Va(this)&&(this.Yb=d.Yb,this.yb=d.yb,this.Nc=e)}var r=l(3),q=l(18),p=l(5),k=l(121),m=l(120),c=l(24),b=l(26),a=l(8),d=l(139),h=l(25),f=l(11),n=l(4).global;q.$(m,e);e.prototype.tm=function(){return!0};e.prototype.Mh=function(){for(var e=0,f=this.elements.length;e<f;e++){var k=this.elements[e],g=k.Pb,l=p.Bb(),m=d.create(g.wf,g.Tj?0:this.Yb),q=g.kd;if(g.gi)l=new h(k,g.gi,this.yb,l),l.ms(m),k.Qb=l,this.zq.push(k),l=q;else{var u=g.Bd?new b(k,l):new c(k,
l,a.u);l=g.sa;m&&u.ms(m);var x=g.lr;m=null;g.Tj?m=[n.jg]:x.position!==n.Ti&&(m=[x.position]);x=g.Nf;for(var R=0,G=x.length;R<G;R++){var S=r.g.clone(x[R]);r.g.scale(S,S,this.yb);u.yd(S,m)}k.Qb=u;g.Tj?this.ys.push(k):this.Rp.push(k)}k.Qb.Ib=g.Ib||0;k.Qb.kd=q;k.Qb.sa=l;k.Qb.Ef=e;k.fc=g.Sa}this.elements=this.elements.filter(function(a){return void 0!==a.Qb})};q.$(k,g);g.prototype.Zv=function(){return 0};g.prototype.Cf=function(a){var b=k.prototype.Cf.call(this,a);a.Fo=a.Fo||f.resolve("__first-time__");
if(this.Nc){var d=this.Nc;var c=a.elements;for(var e=Array(c.length),h=0,g=c.length;h<g;h++)e[h]=c[h].Qb;c=a.Fo.then(function(){return d.Ug(a,e)});a.Vo=c}else c=f.resolve("__no-label-manager__");return f.all([c,b])};g.prototype.cd=function(a){if(this.Nc){var b=a.elements.map(function(a){return a.Qb}),c=this;a.Fo=a.Vo.then(function(){return c.Nc.$f(a,b)})}return k.prototype.cd.apply(this,arguments)};g.prototype.Xj=function(a){return new e(a,this.type(),this.Yb,this.yb)};return g});u(176,0,function(){function e(a,
c){m.prototype.constructor.call(this,a,b.O);q.Va(this)&&(this.yb=c)}function g(a,c,e,g,l){k.prototype.constructor.call(this,b.O,a,c,l);q.Va(this)&&(this.yb=e.yb,this.Nc=g)}var r=l(3),q=l(18),p=l(5),k=l(121),m=l(120),c=l(138),b=l(13),a=l(11);q.$(m,e);e.JI=function(a){return a.id+"-"+a.text+"-"+a.scale+"-"+p.Bb()};e.prototype.ox=function(a){this.Rf.ki(a);this.elements=[];a=a.Yg;for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=0,k=d.Nf.length;e<k;e++)this.elements.push({na:this,Pb:d,tK:e})};e.prototype.Mh=
function(){for(var a=this.elements,b=0,f=a.length;b<f;b++){var k=a[b],g=k.Pb,l=e.JI(g);l=new c(k,l);l.kd=g.text;l.sa=l.kd+":"+g.Ib;l.Ef=b;l.Ib=g.Ib;var m=g.Nf[k.tK];l.yd(r.g.scale(r.g.create(),m,this.yb));k.Qb=l;k.fc={};k.fc[this.key.z]=g.vq}};q.$(k,g);g.prototype.Cf=function(b){var c=k.prototype.Cf.call(this,b);b.Eo=b.Eo||a.resolve("__first-time__");var d=this.Nc;b.elements=b.elements.filter(function(a){return void 0!==a.R});var e=b.scale;for(var g=b.elements,l=Array(g.length),m=0,p=g.length;m<p;m++){var q=
g[m],r=q.R.Qj.size;q=q.Qb;q.Ik(r[0]/e,r[1]/e);l[m]=q}e=b.Eo.then(function(){return d.Ug(b,l)});b.Vo=e;return a.all([e,c])};g.prototype.cd=function(a){if(this.Nc){var b=a.elements.map(function(a){return a.Qb}),c=this.Nc;a.Eo=a.Vo.then(function(){return c.$f(a,b)})}return k.prototype.cd.apply(this,arguments)};g.prototype.Xj=function(a){return new e(a,this.yb)};return g});u(177,0,function(){function e(a,b){k.prototype.constructor.call(this,a,m.ka);this.yb=b}function g(a,b,c,e,k,g){p.prototype.constructor.call(this,
m.ka,a,b,g);q.Va(this)&&(this.yb=c.yb,this.Nc=e,this.Gw=k)}var r=l(3),q=l(18),p=l(121),k=l(120),m=l(13),c=l(11),b=l(27),a=l(0);q.$(k,e);e.prototype.zw=function(){return!0};e.prototype.Mh=function(){for(var c=this.elements,e=0,f=c.length;e<f;e++){var k=c[e],g=k.Pb,l=new b(k);l.kd=a.OK;l.sa=""+l.id;l.Ef=e;l.Ib=this.key.z;l.yd(r.g.scale(r.g.create(),g.position,this.yb));k.Qb=l;k.fc={};k.fc[this.key.z]=a.Qx}};q.$(p,g);g.prototype.Cf=function(a){var b=p.prototype.Cf.call(this,a);a.Do=a.Do||c.resolve("__first-time__");
for(var d=a.elements,e=0,k=d.length;e<k;e++){var g=d[e],l=g.Pb,m=r.g.clone(l.position);r.g.scale(m,m,this.yb);g=g.zc;g.de({origin:m});g.angle=l.angle}var q=this.Nc,u=a.elements.map(function(a){return a.Qb});a.At=a.Do.then(function(){return q.Ug(a,u)});return c.all([b,a.At])};g.prototype.cd=function(a){var b=a.elements.map(function(a){return a.Qb}),c=this.Nc;a.Do=a.At.then(function(){return c.$f(a,b)});return p.prototype.cd.apply(this,arguments)};g.prototype.Xj=function(a){return new e(a,this.yb)};
return g});u(178,0,function(){function e(a,b,c,d,e,f,h,k,g,l){this.aa=a;this.D=b;this.Y=c;this.Jd=d;this.Fb=f;this.oa=h;this.Ob=k;this.Ia=g;this.W=l}l(11);var g=l(13),r=l(148),q=l(149);l(152);l(153);l(154);l(155);var p=l(126),k=l(157),m=l(127),c=l(158);l(161);var b=l(162),a=l(163),d=l(142),h=l(164),f=l(145),n=l(169),t=l(140);l(170);var u=l(147);l(121);var v=l(171),F=l(146),z=l(172);l(173);var L=l(174),H=l(175),I=l(176),x=l(177);e.prototype.get=function(a){return this[a]()};e.prototype.pH=function(){return new r(this.D,
this.Y,this)};e.prototype.has=function(a){return"function"===typeof this[a]};e.prototype[g.Wi]=function(){return c.G(this.D).then(function(){var a=new c(this.D),b=new u(this.W);return new q(b,a)}.bind(this))};e.prototype[g.u]=function(){return n.G(this.D,this.Y).then(function(){var a=new n(this.D,this.Y,this.Ia),b=new p(g.u,this.aa,this.Jd,this.Fb,this.oa,a);b.sn(this.Ia);b=new H(g.u,b,this.W,this.Y,this.oa,this.Y.Pr);return new q(b,a)}.bind(this))};e.prototype[g.dc]=function(){return n.G(this.D,
this.Y).then(function(){var a=new n(this.D,this.Y,this.Ia),b=new p(g.dc,this.aa,this.Jd,this.Fb,this.oa,a);b.sn(this.Ia);b=new H(g.dc,b,this.W,this.Y,this.oa,this.Y.ni);return new q(b,a)}.bind(this))};e.prototype[g.qc]=function(){return n.G(this.D,this.Y).then(function(){var a=new n(this.D,this.Y,this.Ia),b=new p(g.qc,this.aa,this.Jd,this.Fb,this.oa,a);b.sn(this.Ia);b=new H(g.qc,b,this.W,this.Y,this.oa,this.Y.Nr);return new q(b,a)}.bind(this))};e.prototype[g.V]=function(){return d.G(this.D,this.Y).then(function(){var a=
new d(this.D,this.Y),b=new p(g.V,this.aa,this.Jd,this.Fb,null,a);b=new v(g.V,b,null,this.Y.ni,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.rc]=function(){return d.G(this.D,this.Y).then(function(){var a=new d(this.D,this.Y),b=new p(g.rc,this.aa,this.Jd,this.Fb,null,a);b=new v(g.rc,b,null,this.Y.an,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.ka]=function(){return t.G(this.D).then(function(){var a=new t(this.D,this.Ia),b=new p(g.ka,this.aa,this.Jd,this.Fb,this.Ob,a);b.sn(this.Ia);
b=new x(b,this.W,this.Y,this.Ob,this.Ia,this.Y.ni);return new q(b,a)}.bind(this))};e.prototype[g.O]=function(){return f.G(this.D).then(function(){var a=new f(this.D),b=new k(this.aa,this.Jd,this.Fb,this.oa,a);b=new I(b,this.W,this.Y,this.oa,this.Y.ni);return new q(b,a)}.bind(this))};e.prototype[g.S]=function(){return b.G(this.D,this.Y).then(function(){var a=new b(this.D,this.Y),c=new p(g.S,this.aa,this.Jd,this.Fb,null,a);c=new F(c,null,this.Y.an);return new q(c,a)}.bind(this))};e.prototype[g.Sb]=
function(){return a.G(this.D,this.Y).then(function(){var b=new a(this.D,this.Y),c=new p(g.Sb,this.aa,this.Jd,this.Fb,null,b);c=new z(this.Fb,c,this.W,this.Y.qq);return new q(c,b)}.bind(this))};e.prototype[g.gf]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.gf,!1);b=new L(g.gf,b,this.W,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.Gd]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.Gd,!1);b=new L(g.Gd,b,this.W,this.Y);
return new q(b,a)}.bind(this))};e.prototype[g.og]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.og,!1);b=new L(g.og,b,null,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.ef]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.ef,!1);b=new L(g.ef,b,this.W,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.ee]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.ee,!1);b=new L(g.ee,b,
this.W,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.ge]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.ge,!0);b=new L(g.ge,b,this.W,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.nb]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.nb,!0);b=new L(g.nb,b,null,this.Y);return new q(b,a)}.bind(this))};e.prototype[g.He]=function(){return h.G(this.D).then(function(){var a=new h(this.D),b=new m(this.aa,a,g.He,!0);
b=new L(g.He,b,this.W,this.Y);return new q(b,a)}.bind(this))};return e});u(179,0,function(){function e(a,b){this.To=k.Bb();this.ID=a;this.xd=b}function g(){this.reset();this.Ko=-1}var r=l(3),q=l(13),p=l(125),k=l(5),m=l(9),c={},b=new p(q.S);b.X.zIndex=p.pc().default(0);b.X.Zb=p.pc().default(0);b.X.strokeColor=p.COLOR().default(r.I.j(0,0,0,0));b.X.fillColor=p.COLOR();b.X.Wa=p.nh().default(-1);b.X.visible=p.Ws();c[q.S]=b;b=new p(q.Ea);b.X.color=p.COLOR().default(r.I.j(0,0,0,0));b.X.vs=p.pc().default(0);
b.X.ws=p.pc().default(0);b.X.$q=p.pc().default(0);b.X.Zq=p.pc().default(0);b.X.Lr=p.pc().default(0);b.X.Kr=p.pc().default(0);c[q.Ea]=b;b=new p(q.Sb);b.X.zIndex=p.pc().default(0);b.X.visible=p.Ry();b.X.zs=p.pc();b.X.Zb=p.pc().default(0);b.X.strokeColor=p.COLOR().default(r.I.j(1,1,1,0));b.X.Js=p.pc().default(0);b.X.zi=p.COLOR().default(r.I.j(1,0,0,1));b.X.Qh=p.COLOR().default(r.I.j(1,0,0,1));b.X.Kg=p.COLOR().default(r.I.j(1,0,0,1));b.X.Di=p.COLOR().default(r.I.j(1,0,0,1));c[q.Sb]=b;[q.u,q.dc,q.qc].forEach(function(a){var b=
new p(a);b.X.ik=p.pc().default(0);b.X.Rd=p.vz().default(0);b.X.af=p.COLOR();b.X.Yf=p.COLOR();b.X.padding=p.nh().default(0);b.X.Wd=p.nh().default(0);c[a]=b});[q.ka].forEach(function(a){var b=new p(a);b.X.height=p.nh().default(0);c[a]=b});[q.V,q.rc].forEach(function(a){var b=new p(a);b.X.om=p.nh().default(0);b.X.Bn=p.nh().default(0);b.X.width=p.pc();b.X.Zb=p.pc().default(0);b.X.fillColor=p.Vy();b.X.bw=p.COLOR();b.X.nn=p.oo();b.X.Dm=p.oo();b.X.Em=p.Ws();b.X.Bf=p.ot().default(0);b.X.Wf=p.ot().default(0);
b.X.strokeColor=p.COLOR().default(r.I.j(255,255,255,0));b.X.dr=p.oo().default(!1);c[a]=b});e.prototype.nJ=function(a){var b=""+this.To,c;for(c in a)b+="-"+c+":"+a[c];return b};e.prototype.gm=function(a){var b=Object.keys(a).map(function(a){return parseInt(a)}),c=Math.min.apply(null,b),e=Math.max.apply(null,b);c=this.ID.gm(c,e);e=0;for(var k=b.length;e<k;e++){var g=b[e],l=this.xd[a[g]],m;for(m in l)c.value(m,g,l[m])}return c};g.prototype.QC=function(a){a.once("destroyed",this.RD,this)};g.prototype.RD=
function(a){a.Oq(function(a){a.Xa.Il.count--});this.Ot()};g.prototype.update=function(a){a=a.gk();if(a!==this.Ko){for(var b in this.xg){var c=this.xg[b];c.count&&c.style.Px(a)}this.Ko=a;this.K("styles-updated")}};g.prototype.XA=function(a,b,c){var d={},h;var g=0;for(h=a.length;g<h;g++){var l=a[g];l=k.Ge(l.Pb.Sa);for(var m=0,p=l.length;m<p;m++){var q=l[m];d[q]=c[q]}}b=new e(b,d);g=0;for(h=a.length;g<h;g++)l=a[g],d=l.Pb.Sa,q=b.nJ(d),(c=this.xg[q])?(c.Zm++,d=c.style):(d=b.gm(d),d.Px(this.Ko),d.bO=q,
c={style:d,count:0,Zm:1},d.Il=c,this.xg[q]=c),l.Xa=d};g.prototype.jb=function(a,b){a.gB.forEach(function(d){var e=c[d],h=a.elements.filter(function(a){return a.type===d});this.XA(h,e,b)}.bind(this));a.race().add("loaded",this.KD,this).add("loading-failed",this.$u,this).add("loading-aborted",this.$u,this)};g.prototype.KD=function(a){a.Oq(function(a){a.Xa.Il.Zm--;a.Xa.Il.count++});this.QC(a)};g.prototype.$u=function(a){a.Oq(function(a){a.Xa.Il.Zm--},this);this.Ot()};g.prototype.Ot=function(){for(var a in this.xg){var b=
this.xg[a];0===b.count&&0===b.Zm&&delete this.xg[a]}};g.prototype.reset=function(){this.xg={}};m.ba(g.prototype);g.prototype.reset=g.prototype.reset;g.prototype.update=g.prototype.update;return g});u(180,0,function(){function e(c,b,a){this.W=a;this.Y=c;this.labels={};this.Lc={};this.Oc={};this.lm=this.Iq=!1;this.Sk=b;this.qj=[];this.vj=[];this.pj=[];this.uh=[];this.zh=[];this.id=r.Bb();this.Ij=this.uj=!1;this.wh=null}var g=l(9),r=l(5),q=l(11),p=l(0),k=l(8),m=l(22);l(4);e.prototype.count=function(){return r.Ge(this.labels).length};
e.prototype.rb=function(){var c=this,b=this.Sk.fa({Th:2},this.id,64,this.Y.kc).then(function(){return c.Ce(!1)});b.then(function(){c.dO=0});return b};e.prototype.Ce=function(c){this.sJ=c;return this.Sk.fa({Th:3},this.id,c)};e.prototype.reset=function(){var c=r.Ge(this.labels);c=this.$f(c);this.tp(!1);return c};e.prototype.Zz=function(c,b){if(this.sJ&&!b.length){for(var a={},d=c.Pp,e=d[0];e<=d[1];e++)a[e]=p.Lw;a=new m(k.dt,{na:c,Pb:{},fc:a},r.Bb());a.sa=""+a.id;a.Ef=-1;c.au=a;b.push(a)}};e.prototype.we=
function(){this.Iq=!0};e.prototype.Wh=function(){this.lm=!0};e.prototype.ju=function(){return this.qj.length||this.vj.length||this.pj.length||this.uh.length||this.zh.length};e.prototype.Ug=function(c,b){this.Zz(c,b);if(0===b.length)return q.resolve("__no-labels__");c=0;for(var a=b.length;c<a;c++){var d=b[c];d.Mg();d.Ek(this.W)}this.qj.push.apply(this.qj,b);this.Wh();return this.Np()};e.prototype.$f=function(c,b){c.au&&b.push(c.au);if(0===b.length)return q.resolve("__no-labels__");this.Wh();this.vj.push.apply(this.vj,
b);return this.Np()};e.prototype.Tg=function(c){for(var b in c)if(!(b in this.Lc)){var a=c[b];a.id=b;this.Lc[b]=a;this.pj.push(a)}if(!this.pj.length)return q.resolve("__no-collisions__");this.Wh();return this.Np()};e.prototype.Qf=function(c){var b=this.zh.indexOf(c);-1!==b?this.zh.splice(b,1):(this.Wh(),this.uh.push(c))};e.prototype.Zf=function(c){var b=this.uh.indexOf(c);-1!==b?this.uh.splice(b,1):(this.zh.push(c),this.Wh())};e.prototype.update=function(c,b,a,d){if(this.Iq){this.Iq=!1;var e="labels-update-"+
r.Bb();this.tD(c,b,a,d,c.gk(),e)}this.lm&&(this.lm=!1,this.tp(!0))};e.prototype.Gn=function(){this.tp(!1)};e.prototype.ZD=function(c){var b=this.labels,a;var d=0;for(a=c.length;d<a;d++){var e=c[d],f=b[e.id];f&&f.zM(e)}};e.prototype.tD=function(c,b,a,d,e,f){if(this.Ij)this.we();else{this.Ij=!0;var h=[],k=[],g;for(g in this.labels){var l=this.labels[g];l.Ns();l.jk()&&(l=l.Vc(this.MB(l.element.zI)),h.push(l))}for(g in this.Oc)l=this.Oc[g],l.jk()&&(l=l.Vc(),k.push(l));var m=this;this.Sk.fa({Th:4},this.id,
h,k,c.Lb,b,e,a,d,f).then(function(a){m.ZD(a)}).then(function(){m.Ij=!1;m.K("labels-updated")})}};e.prototype.MB=function(c){if(this.wh&&null!=c)return{Re:this.wh.includes&&0>this.wh.includes.indexOf(c)||this.wh.Jq&&0<=this.wh.Jq.indexOf(c)}};e.prototype.hL=function(c){this.wh=null==c?null:Array.isArray(c.includes)?{includes:c.includes.reduce(this.Nt.bind(this),[])}:{Jq:c.Jq.reduce(this.Nt.bind(this),[])};this.we()};e.prototype.Nt=function(c,b){return b in this.Y.Zk?c.concat(this.Y.Zk[b]):c};e.prototype.tp=
function(c){if(this.ju())if(this.uj)this.Wh();else{this.uj=!0;var b=[],a=[],d=[],e=[],f=[];this.qj.forEach(function(a){b.push(a.od());this.labels[a.id]=a},this);this.vj.forEach(function(b){a.push(b.id);b.um();delete this.labels[b.id]},this);this.pj.forEach(function(a){d.push(a);this.Lc[a.id]=a},this);this.uh.forEach(function(a){e.push(a.od());a.Ja("property-changed",this.we,this);this.Oc[a.id]=a},this);this.zh.forEach(function(a){f.push(a.id);a.ua("property-changed",this.we,this);delete this.Oc[a.id]},
this);this.pj=[];this.qj=[];this.vj=[];this.uh=[];this.zh=[];this.K("labels-registrations-start");var k=this;this.Sk.fa({Th:5},this.id,b,a,d,e,f).then(function(){if(c)return k.we(),k.Rs()}).then(function(){k.uj=!1;k.K("labels-registrations-end")})}};e.prototype.ho=function(c){c[this.id+"-update-work-unit-runnning"]=this.Ij;c[this.id+"-registration-work-unit-runnning"]=this.uj;return this.Ij||this.uj};e.prototype.sp=function(c){var b=this;return new q(function(a){b.once(c,function(){a()})})};e.prototype.Rs=
function(){return this.sp("labels-updated")};e.prototype.iE=function(){return this.sp("labels-registrations-start")};e.prototype.jE=function(){return this.sp("labels-registrations-end")};e.prototype.Np=function(){return this.lm&&this.ju()?this.iE().then(this.jE.bind(this)):q.resolve()};e.prototype.HH=function(){this.Sk.fa({Th:6},this.id)};g.ba(e.prototype);return e});u(181,0,function(){var e=l(10);return{ba:function(g){g.prototype.oH=function(){return new e};g.prototype.Qf=function(e){this.oa.Qf(e);
e.cO=!0};g.prototype.Zf=function(e){this.oa.Zf(e)};g.prototype.createLabelRegion=g.prototype.oH;g.prototype.registerLabelRegion=g.prototype.Qf;g.prototype.unregisterLabelRegion=g.prototype.Zf}}});u(183,0,function(){function e(b,a,c){this.id=b;this.Ue=a;this.gs={};this.xa=c;this.LK()}function g(b,a,c){0===b&&p.forward(k,this);this.Ts=Array(b);this.Op=b;for(var d=0;d<b;d++){var f=new e(d,a,c);p.forward(f,this);this.Ts[d]=f}this.sH=-1}var r=l(11);l(4);var q=l(5),p=l(9),k=l(34),m=l(90);var c={global:{},
iO:"./",hO:"worker-api",zR:{}};e.prototype.LK=function(){this.fh||(this.fh=this.Ue());var b=this;this.G=new r(function(a){b.fh.onmessage=function(c){"initialized"===c.data.id&&(b.fh.onmessage=function(a){return m.ih.fa(function(){b.uC(a.data)})},a())}});var a={id:"init",lH:c,xa:this.xa.Wx()};this.fh.postMessage(a)};e.prototype.uC=function(b){switch(b.type){case "result":var a=b.Zh,c=this.gs[a];delete this.gs[a];c.resolve(b.result);break;case "error":c.reject(b.reason);case "message":this.K(b.key,
b.value)}};e.prototype.fa=function(b,a,c){var d={Zh:c,fh:this,pm:b.Th,kq:a};b=new r(function(a,b){d.resolve=a;d.reject=b});d.dn=b;this.rD(d);return d};e.prototype.rD=function(b){var a=this;this.G.then(function(){a.gs[b.Zh]=b;a.fh.postMessage({id:"run",Zh:b.Zh,pm:b.pm,kq:b.kq})})};p.ba(e.prototype);g.prototype.lE=function(b,a,c){var d=++this.sH%this.Op;return this.Ts[d].fa(b,a,c).dn};g.prototype.HD=function(b,a){return r.timeout(0).then(function(){return k.fa(b.Th,a)}.bind(this))};g.prototype.fa=function(b,
a,c,e,f,k,g,l,m,p){var d=q.Bb();a=[a,c,e,f,k,g,l,m,p];return 0!==this.Op?this.lE(b,a,d):this.HD(b,a)};g.prototype.pa=function(){0!==this.Op&&this.Ts.forEach(function(b){b.fh.terminate()})};p.ba(g.prototype);return g});u(184,0,function(){function e(e){this.Mp=[];this.Ml=new g(e);this.Ml.Ja("tile-created",this.Xe,this);this.Ml.Ja("tile-destroyed",this.Mf,this)}var g=l(128);e.prototype.Ee=function(){return this.Ml};e.prototype.sv=function(e){this.Mp.push(e)};e.prototype.Xe=function(e){this.Mp.forEach(function(g){g.Xe(e)})};
e.prototype.Mf=function(e){this.Mp.forEach(function(g){g.Mf(e)})};e.prototype.update=function(e,g){this.Ml.update(e,g)};e.prototype.addView=e.prototype.sv;e.prototype.update=e.prototype.update;e.prototype.tileManager=e.prototype.Ee;return e});u(185,0,function(){function e(e){this.cn=g.P.create();this.Iw=g.P.create();this.view=g.P.create();this.Jw=g.P.create();this.Lb=g.P.create();this.qJ=g.P.create();this.Us=q.Mm;this.Jc=3;this.wI=1E3;this.VJ=1E-7;this.sl=30*Math.PI/180;this.ls(e||1);this.Hc=g.Da.j(0,
0,0);this.tj=g.Da.create();this.le=this.ie=0;this.uf=g.Da.create();this.hp=g.g.create();this.Nl=this.hl=0;this.Cp=q.Cd;this.kD();this.Hj=Date.now();this.he=!1;this.proj=this.cn;this.view=this.view;this.viewProj=this.Lb}var g=l(3),r=l(9),q=l(0);e.prototype.clone=function(){var k=new e(this.Gh);g.Da.ue(k.Hc,this.Hc);g.Da.ue(k.tj,this.tj);k.Jc=this.Jc;k.ie=this.ie;k.le=this.le;k.Hj=this.Hj;k.he=this.he;return k};e.prototype.BI=function(){return this.sl};e.prototype.kD=function(){this.le=this.ie=0;this.tj[0]=
this.Hc[0];this.tj[1]=this.Hc[1];this.tj[2]=this.Jc;this.km=!0};e.prototype.ls=function(e){this.Gh=e;this.km=!0};e.prototype.wv=function(){return this.he};e.prototype.dL=function(e){this.he=e};e.prototype.rr=function(){return this.kC};e.prototype.ko=function(){return this.Nl};e.prototype.jq=function(){return this.hl};e.prototype.BM=function(e,l){this.update(l);var c=.001*(this.Hj-e.Hj);if(0!==c){c=1/c;g.g.sub(this.uf,this.Hc,e.Hc);g.g.scale(this.uf,this.uf,c);var b=this.vx();this.hp[0]=this.uf[0]*
l[0]/b[0];this.hp[1]=this.uf[1]*l[1]/b[1];this.kC=g.g.length(this.hp);this.hl=(this.ie-e.ie)*c;this.Nl=(this.Jc-e.Jc)*c}};e.prototype.update=function(e){this.kE=this.km;var k=e[0]/e[1];k!==this.Gh&&this.ls(k);this.Hj=Date.now();this.eE(e);this.aE();this.cE();this.dE()};e.prototype.sy=function(e){var k=!this.he&&0===this.uf[0]&&0===this.uf[1]&&0===this.hl&&0===this.Nl;(e||{}).mO={BS:this.uf,jq:this.hl,ko:this.Nl};return k};e.prototype.Aw=function(){return this.kE};e.prototype.eE=function(k){this.qC=
e.tw(k,this.Cp);this.pC=e.sw();this.Jc=Math.max(this.Jc,this.qC,2);this.Jc=Math.min(this.Jc,this.pC);this.Yt=this.tA(k,this.Jc,this.sl)};e.prototype.aE=function(){g.P.perspective(this.cn,this.sl,this.Gh,this.VJ,this.wI);g.P.If(this.Iw,this.cn)};e.sw=function(){return 21};e.tw=function(e,l){return g.log2(1+Math.sqrt(e[0]*e[0]+e[1]*e[1])/(l/2))};e.prototype.tA=function(e,g,c){return e[1]/this.Cp*Math.pow(2,-g-.001)*.5/Math.tan(.5*c)};e.prototype.vx=function(){var e=2*this.Yt*Math.tan(.5*this.sl);return g.g.j(e*
this.Gh,e)};e.prototype.cE=function(){g.P.Gf(this.view);g.P.translate(this.view,this.view,g.Da.j(0,0,-this.Yt));g.P.es(this.view,this.view,-this.le);g.P.fs(this.view,this.view,this.ie);g.P.translate(this.view,this.view,g.Da.Gr(g.Da.create(),this.Hc));g.P.If(this.Jw,this.view)};e.prototype.dE=function(){g.P.multiply(this.Lb,this.cn,this.view);g.P.multiply(this.qJ,this.Jw,this.Iw)};var p=g.bh(70);e.prototype.fy=function(e){this.le=e;this.le=Math.max(this.le,0);this.le=Math.min(this.le,p);this.K("pitch",
e)};e.prototype.pitch=function(e){this.fy(this.le+e)};e.prototype.lK=function(e,l){e=e||g.bh(22.5);this.pitch(e,l)};e.prototype.mK=function(e,l){e=e||g.bh(22.5);this.pitch(-e,l)};e.prototype.qs=function(e){this.ie=e;this.K("rotate",e)};e.prototype.rotate=function(e){this.qs(e+this.ie)};e.prototype.UK=function(e,l){e=e?g.bh(e):g.bh(10);this.rotate(-e,l)};e.prototype.VK=function(e,l){e=e?g.bh(e):g.bh(10);this.rotate(e,l)};e.prototype.ts=function(e){this.Jc=e;this.km=!0;this.K("zoom",e)};e.prototype.gk=
function(){return this.We()-this.Us+q.xy};e.prototype.We=function(){return this.Jc};e.prototype.rs=function(e){this.Hc=g.Da.clone(e);this.km=!0};e.prototype.Uh=function(){return g.Da.clone(this.Hc)};e.prototype.EM=function(e,l){var c=Math.pow(2,this.Jc)*this.Cp;e=[e[0]-.5*l[0],e[1]-.5*l[1]];c=[e[0]/c,-e[1]/c];return g.g.add(g.g.create(),c,this.Hc)};r.ba(e.prototype);e.prototype.fovy=e.prototype.BI;e.prototype.getTarget=e.prototype.Uh;e.prototype.setTarget=e.prototype.rs;e.prototype.setZoomLevel=e.prototype.ts;
e.prototype.getZoomLevel=e.prototype.We;e.prototype.rotateRight=e.prototype.VK;e.prototype.rotateLeft=e.prototype.UK;e.prototype.rotate=e.prototype.rotate;e.prototype.setRotation=e.prototype.qs;e.prototype.pitch=e.prototype.pitch;e.prototype.setPitch=e.prototype.fy;e.prototype.pitchDown=e.prototype.lK;e.prototype.pitchUp=e.prototype.mK;e.prototype.update=e.prototype.update;e.prototype.setAspect=e.prototype.ls;e.prototype.hasChangedThisFrame=e.prototype.Aw;e.prototype.planeSizeAtZEqual0=e.prototype.vx;
e.prototype.setAnimating=e.prototype.dL;e.prototype.worldCoordinatesAtPoint=e.prototype.EM;e.getMaxZoomLevel=e.sw;e.getMinZoomLevel=e.tw;return e});u(186,0,function(){function e(e){var c=e.xa,b=e.viewport,a=e.scale;e=e.Bk;for(var d=c.kc*c.ai,h=c.kc*c.$h,f=[0,0,!0,.4,.4,!1,.4,.6,!1,0,1,!1,.4,.6,!1,.6,.6,!1,1,1,!1,.6,.6,!1,.6,.4,!1,1,0,!1,.6,.4,!1,.4,.4,!1,0,0,!0,.5,.5,!0,.5,0,!1,1,.5,!1,.5,.5,!1,.5,1,!1,0,.5,!1,.5,.5,!0,.25,.4,!0,.5,.5,!1,.75,.6,!0,.4,.25,!0,.5,.5,!1,.6,.75,!0,.2,0,!0,.5,0,!1,.8,0,
!0,1,.2,!0,1,.5,!1,1,.8,!0,.8,1,!0,.5,1,!1,.2,1,!0,0,.8,!0,0,.5,!1,0,.2,!0,-.01,-.01,!0,-.4,-.4,!1,-.4,-.6,!1,-.01,-.99,!1,-.4,-.6,!1,-.6,-.6,!1,-.99,-.99,!1,-.6,-.6,!1,-.6,-.4,!1,-.99,-.01,!1,-.6,-.4,!1,-.4,-.4,!1,-.01,-.01,!0,-.5,-.5,!0,-.5,-.01,!1,-.99,-.5,!1,-.5,-.5,!1,-.5,-.99,!1,-.01,-.5,!1,-.5,-.5,!0,-.25,-.4,!0,-.5,-.5,!1,-.75,-.6,!0,-.4,-.25,!0,-.5,-.5,!1,-.6,-.75,!0,-.2,-.01,!0,-.5,-.01,!1,-.8,-.01,!0,-.99,-.2,!0,-.99,-.5,!1,-.99,-.8,!0,-.8,-.99,!0,-.5,-.99,!1,-.2,-.99,!0,-.01,-.8,!0,-.01,
-.5,!1,-.01,-.2,!0],g=new Uint32Array(f.length/3),k=0,l=0;l<f.length;l+=3){var m=f[l+0]+c.vi,p=f[l+1]+c.vi;m=q.LH(m,p,f[l+2],c.kc,d,h);g[k++]=m}c={count:f.length/3,offset:0};for(l=0;l<f.length;l+=3)m=Math.floor(.5*(f[l+0]*a+1)*b[0]),p=Math.floor(.5*(f[l+1]*a+1)*b[1]),e[p*b[0]+m]=1;b=new Uint8Array(g.buffer);return{line:c,FJ:b}}var g=l(3),r=l(114),q=l(115),p=l(102),k=l(0);return{check:function(l){var c=Date.now(),b=l.h,a=l.viewport,d=l.yk,h=l.scale;l=e(l);var f=l.line,m=l.FJ;l=p.hb.kb(b,"shaders/line-fill.vert",
"shaders/line-fill.frag",{RENDERING_TEST:1});var t=q.tO(b,f.count),u=t.Pa,v=t.$a;return l.then(function(e){var l=r.rm(b,m),n=g.P.create();g.P.scale(n,n,[h,h,1]);var p=Date.now();e.use();u.bind();v.bind();b.vertexAttribPointer(e.attributes().dataIndex,1,b.FLOAT,!1,12,0);b.enableVertexAttribArray(e.attributes().dataIndex);b.vertexAttribPointer(e.attributes().refIndex,1,b.FLOAT,!1,12,4);b.enableVertexAttribArray(e.attributes().refIndex);b.vertexAttribPointer(e.attributes().expansionDirection,1,b.FLOAT,
!1,12,8);b.enableVertexAttribArray(e.attributes().expansionDirection);var q=k.Jm/d;b.uniform1f(e.H().lineAAPointCount,q);b.uniformMatrix4fv(e.H().modelViewProjMatrix,!1,n);b.activeTexture(b.TEXTURE0);l.bind();b.uniform1i(e.H().positionDataTexture,0);b.uniform2f(e.H().positionDataTextureSize,l.width,l.height);b.uniform1f(e.H().halfLineWidth,0);b.uniform1f(e.H().lineWidthFactor,0);b.uniform2fv(e.H().viewportSize,a);n=f.count-1;b.uniform1f(e.H().lineSectionOffset,f.offset);b.drawElements(b.POINTS,6*
n,b.UNSIGNED_SHORT,0);l.m();v.m();u.m();b.disableVertexAttribArray(e.attributes().dataIndex);b.disableVertexAttribArray(e.attributes().refIndex);b.disableVertexAttribArray(e.attributes().expansionDirection);e.eb();v.pa();u.pa();l.pa();return{HJ:p-c,GJ:Date.now()-p}})}}});u(187,0,function(){function e(e){var g=e.Bk,c=e.viewport,b=[0,0],a=[-16,-16];e=[[0,.5*c[1]],[.5*c[0],0]];for(var d=[9,3,16,1,3,9,1,5,3,19,1,5,28,9,1,5,28,19,1,5,27,5,1,1,5,5,1,1,10,15,2,8,21,15,2,8,12,8,10,1,12,9,1,1,21,9,1,1,8,27,
1,1,12,27,1,1,16,27,1,1,20,27,1,1,24,27,1,1],h=[],f=0,k=0;k<d.length;k+=4){var l=d[k+0],p=d[k+1],r=d[k+2],u=d[k+3];h.push(q.KH(l+a[0],p+a[1]));h.push(q.Yv(f,0));f+=r;h.push(q.Yv(f,u));e.forEach(function(a){var d=r,e=u;a=(b[1]+a[1]+p)*c[0]+(b[0]+a[0]+l);for(var f=0;f<e;f++)for(var h=a+f*c[0],k=0;k<d;k++)g[h+k]=1})}e.forEach(function(b){b[0]-=a[0];b[1]-=a[0]});d=new Uint32Array(h);h=new Uint8Array(d.buffer);return{label:{Qe:d.length/3},XJ:e,Aa:b,cJ:h}}var g=l(3),r=l(114),q=l(165),p=l(102);return{check:function(k){var l=
Date.now(),c=k.h,b=k.viewport,a=k.yk;k=e(k);var d=k.label,h=k.XJ,f=k.Aa,n=k.cJ;k=p.hb.kb(c,"shaders/axis-aligned-text-label.vert","shaders/text-label.frag",{RENDERING_TEST:"1",SNAP_GLYPHS_TO_PIXEL:"0"});var t=q.Hw(c,d.Qe),u=t.Ac,v=t.Bc,F=t.xc;return k.then(function(e){var k=r.rm(c,n),m=e.H(),p=e.attributes(),q=Date.now();e.use();u.bind();c.uniform1f(m.pr,a);c.uniform2fv(m.viewportSize,b);v.bind();c.enableVertexAttribArray(p.position);c.vertexAttribPointer(p.position,2,c.FLOAT,!1,8,0);v.m();F.bind();
c.enableVertexAttribArray(p.dataIndex);c.vertexAttribPointer(p.dataIndex,1,c.FLOAT,!1,4,0);F.m();var t=g.P.create();c.uniformMatrix4fv(m.modelViewProjMatrix,!1,t);c.uniform2f(m.center,f[0]-1,f[1]-1);c.uniform1f(m.labelIndexOffset,0);c.uniform1f(m.fontScaleFactor,1);c.activeTexture(c.TEXTURE0);k.bind();c.uniform1i(m.dataTexture,0);c.uniform2f(m.dataTextureSize,k.width,k.height);for(t=0;t<h.length;t++)c.uniform2fv(m.positionOffset,h[t]),c.drawElements(c.TRIANGLES,6*d.Qe,c.UNSIGNED_SHORT,0);k.m();u.m();
c.disableVertexAttribArray(p.position);c.disableVertexAttribArray(p.dataIndex);e.eb();u.pa();v.pa();F.pa();k.pa();return{CJ:q-l,BJ:Date.now()-q}})}}});u(188,0,function(){function e(a,b){return 255===a[4*b]&&0===a[4*b+1]&&0===a[4*b+2]&&255===a[4*b+3]}function g(a,b){var c=a.h,e=a.viewport,f=a.yk,g=a.backgroundColor;m.K("loaded",a.xa);k.resize(c,e[0],e[1],f);a.Sd.bind();c.viewport(0,0,e[0]*f,e[1]*f);c.clearColor(g[0],g[1],g[2],g[3]);c.clear(c.COLOR_BUFFER_BIT);var l=b.times,n=b.failures;return d.check(a).then(function(c){a.Sd.m();
b.lineHasRun=!0;l.lineSetup=c.HJ;l.lineRendering=c.GJ;b.linePass=r(a,b);a.Sd.bind();b.linePass||n.push("line-mismatch")}).catch(function(a){n.push("line-rendering-failure");n.push(a)}).then(function(){p(a.Bk);c.clear(c.COLOR_BUFFER_BIT);return h.check(a)}).then(function(c){a.Sd.m();b.labelHasRun=!0;l.labelSetup=c.CJ;l.labelRendering=c.BJ;b.labelPass=r(a,b);a.Sd.bind();b.labelPass||n.push("label-mismatch")}).catch(function(a){n.push("label-rendering-failure");n.push(a)}).then(function(){a.Sd.m();return b})}
function r(a,b){var c=a.viewport,d=a.yk,f=Date.now();c=a.Sd.read(c[0]*d,c[1]*d);b.times.framebufferFetch+=Date.now()-f;a:{f=a.Bk;a=a.viewport;d=a[0];for(var h=a[1],g=1;g<d-1;g++)for(var k=1;k<h-1;k++){var l=k*d+g,m=(e(c,(k-1)*a[0]+(g-1))?1:0)+(e(c,(k-1)*a[0]+(g+0))?1:0)+(e(c,(k-1)*a[0]+(g+1))?1:0)+(e(c,(k+0)*a[0]+(g-1))?1:0)+(e(c,(k+0)*a[0]+(g+0))?1:0)+(e(c,(k+0)*a[0]+(g+1))?1:0)+(e(c,(k+1)*a[0]+(g-1))?1:0)+(e(c,(k+1)*a[0]+(g+0))?1:0)+(e(c,(k+1)*a[0]+(g+1))?1:0);if(1===f[l]&&0===m){f=!1;break a}}for(g=
1;g<d-1;g++)for(k=1;k<h-1;k++)if(l=k*d+g,m=f[(k-1)*a[0]+(g-1)]+f[(k-1)*a[0]+(g+0)]+f[(k-1)*a[0]+(g+1)]+f[(k+0)*a[0]+(g-1)]+f[(k+0)*a[0]+(g+0)]+f[(k+0)*a[0]+(g+1)]+f[(k+1)*a[0]+(g-1)]+f[(k+1)*a[0]+(g+0)]+f[(k+1)*a[0]+(g+1)],e(c,l)&&0===m){f=!1;break a}f=!0}b.times.resultCheck+=Date.now()-Date.now();b.pixels=c;return f}function q(){var d=[64,64],e=k.create(d[0],d[1],1);if(!e)return c.reject("WebGL Context not available");var h={kc:8192,tk:3.9998779296875,ai:4,sk:3.9998779296875,$h:4,vi:.9998779296875,
Qm:.125,Yb:8};h.yb=1/h.kc;h.Qm=1/h.Yb;var g=new Uint8Array(d[0]*d[1]);p(g);var l=new a(e,1*d[0],1*d[1]);l.bind().data(null,e.RGBA,e.RGBA).Rc(e.LINEAR).Pc(e.LINEAR).m();var m=new b(e);m.bind().Vj(l.Cb()).m();return c.resolve({h:e,xa:h,viewport:d,yk:1,scale:.8,backgroundColor:[.3,.3,.7,1],Bk:g,Sd:m,sR:l})}function p(a){for(var b=0,c=a.length;b<c;b++)a[b]=0}var k=l(95),m=l(101),c=l(11),b=l(103),a=l(105),d=l(186),h=l(187);return{fa:function(){var a,b,d={pass:!1,linePass:!1,lineHasRun:!1,labelPass:!1,
labelHasRun:!1,times:{framebufferFetch:0,resultCheck:0},failures:[]};var e=Date.now();return q().then(function(c){a=Date.now();b=c;d.times.mainSetup=a-e}).then(function(){return g(b,d)}).then(function(a){d.viewport=b.viewport;d.pr=b.yk;d.pixels=a.tx;d.setup=b.Bk;d.backgroundColor=b.backgroundColor;d.pass=0===d.failures.length;d.times.total=Date.now()-e;b.h.canvas.width=0;b.h.canvas.height=0;return c.resolve(d)}).catch(function(a){d.failures.push(a);return c.reject(d)})}}});u(189,0,function(){function e(a){g.Va(this)&&
(this.ip=new y(1),this.aa=new r,this.kp=Date.now(),this.Mo=q.resolve(),this.Wo=q.resolve(),this.me=v.Fd.hg,this.Ut="standard",this.gE=this.Vt=!0,"object"===typeof a&&(!0===a.startInLoCSR&&(this.me=v.Fd.Xk),!0===a.noLabels&&(this.me=v.Fd.Qi)))}var g=l(18),r=l(92),q=l(11),p=l(101);l(91);var k=l(89),m=l(93),c=l(130),b=l(178),a=l(179),d=l(180),h=l(181),f=l(90),n=l(10),t=l(95),u=l(151);l(182);var v=l(13),F=l(122),z=l(183),L=l(3),H=l(184),I=l(19),x=l(21),R=l(5),G=l(0),S=l(9),V=l(97),w=l(109),O=l(144),y=
l(185),C=l(32),B=l(30),D=l(29),E=l(188),N=l(36);e.Pk=function(){var a;E.fa().then(function(b){a=b}).catch(function(b){a=b});return a};e.prototype.h=function(){return this.D};e.prototype.element=function(){return this.D.canvas};e.prototype.be=function(){return this.aa};e.prototype.Nq=function(){this.oa.we();this.Ob.we();this.ea.hc();this.K("needs-update")};e.prototype.Gk=function(a){this.Xg(a,1)};e.prototype.Xg=function(a,b){a=L.Wl(a,G.yy[0],G.yy[1]);if(this.ol!==a||this.nj!==b)this.ol=a,this.nj=b,
this.Dj=a*b,this.ea.Xg(a,b),this.yh[0]=-1,this.yj()};e.prototype.devicePixelRatio=function(){return this.ol};e.prototype.hx=function(){return this.nj};e.prototype.ps=function(a,b,c){var d="#F9F5ED";if("standard"===a){var e=this.xa.Fe.yt;"dark"===b&&(d="#404040")}else"satellite"===a?(e=this.xa.Fe.Bz,d="#404040"):"hybrid"===a&&(e=this.xa.Fe.xo,d="#404040");if(e!==this.Bp||b!==this.yg||c!==this.sg){this.ea.yM(e,b,c);var f=this.W.Ke;this.W.Nh();this.yj();f&&this.W.Ph(Date.now())}this.Bp=e;this.yg=b;this.sg=
c;this.lp=a;this.D.canvas.style["background-color"]=d};e.prototype.Wc=function(){return this.lp};e.prototype.ub=function(){return this.yg};e.prototype.qb=function(){return this.sg};e.prototype.si=function(a){a=parseInt(a,10);0===a&&(a=this.xa.Te);a!==this.Ll&&(this.ea.si(a),this.yj());this.Ll=a};e.prototype.Jb=function(){return this.Ll};e.prototype.map=function(){return this.ad};e.prototype.TB=function(a){var b=a.rasterTiles;if(!b)return q.resolve();var c={},d;for(d in b){var e=b[d];if(e){var f={standard:/^standardTile/,
"hybrid-overlay":/^hybridTile/,satellite:/^satelliteTile/};e=e.tileSources;for(var h=0,g=e.length;h<g;h++){var l=e[h],m=l.name;!c[m]&&(c[m]=!0,m=f[m])&&(l=new k.st(l,a.proxyPrefixes),this.aa.Wg(m,l))}}}return q.resolve()};e.prototype.RB=function(a){var b=a.madabaDomains;if(a=a.proxyPrefixes)for(var c=0,d=b.length;c<d;c++)b[c]=a[c%a.length]+b[c];a=this.aa;b=new k.jt({Wm:b,Xx:"md/v1/"});a.Wg(/.*/,b);return q.resolve()};e.prototype.qu=function(a){var b=this;return this.TB(a).then(function(){return b.RB(a)})};
e.prototype.lB=function(){this.pl=new C;return(new p).load(this.aa,this.pl).then(function(a){R.Ig(a.Hm);R.Ig(a.Gm);R.Ig(a.Fe);R.Ig(D.wo);return a})};e.prototype.BD=function(){this.ad.Ee().Ja("tile-created",function(a){var b=a.Kb.Hh(),c=[];v.Sy.forEach(function(b){if(a.gJ(b)&&!a.hJ(b)){var d=new q(function(c){a.once(b+"-dependency-ready",c)});c.push(d)}},this);var d=this;q.all(c).catch().then(function(){var c=new n,e=b.width(),f=b.height();c.x=b.min()[0]+.5*e;c.y=b.min()[1]+.5*f;c.width=e;c.height=
f;c.ky();c.dy();c.gy(n.al.zo);d.oa.Qf(c);a.Xo=c})},this);this.ad.Ee().Ja("tile-destroyed",function(a){a.Xo&&(this.oa.Zf(a.Xo),a.Xo=null)},this)};e.prototype.OB=function(a){this.Ew=new u.bz(this.aa,this.pl,a.bi)};e.prototype.SB=function(b){this.xa=b;this.Fb=new a(b);var e=N();this.gE?(this.Rl=new z(1,e,b),this.mr=new z(1,e,b)):this.mr=this.Rl=new z(0,e,b);this.OB(b);this.mM=new c(G.zr);this.ad=new H(this.mM);this.W=new m(Date.now());this.oa=new d(this.xa,this.mr,this.W);this.Ob=new d(this.xa,this.Rl,
this.W);this.BD();return q.all([this.oa.rb(),this.Ob.rb()]).then(function(){this.Ob.HH()}.bind(this))};e.prototype.YB=function(){this.ol=G.Rv;this.nj=G.Qv;this.Dj=this.ol*this.nj;this.yh=L.g.j(128,128);this.D=t.create(this.yh[0],this.yh[1],this.Dj,null);if(!this.D)return q.reject("Could not create WebGL Context");this.pf=L.g.j(0,0);var a=this.D.getParameter(this.D.MAX_RENDERBUFFER_SIZE),c=this.D.getParameter(this.D.MAX_VIEWPORT_DIMS);a&&c?(this.pf[0]=Math.min(a,c[0]),this.pf[1]=Math.min(a,c[1])):
c?this.pf=c:this.pf[0]=a?this.pf[1]=a:this.pf[1]=4096;t.Ja("context-lost",function(a){a===this.D&&this.Mu("WEBGL_CONTEXT_LOST")},this);a=new O(this.D,512,512,16,1);this.Ia=new w(this.aa,this.xa,a);this.hE=new b(this.aa,this.D,this.xa,this.Ew,this.iR,this.Fb,this.oa,this.Ob,this.Ia,this.W);this.ea=this.hE.pH();this.ea.ri(this.me);this.ad.sv(this.ea);this.oa.Ja("labels-updated",this.ea.hc,this.ea);this.Ob.Ja("labels-updated",this.ea.hc,this.ea);this.W.Ja("alpha-updated",this.ea.hc,this.ea);return this};
e.prototype.ir=function(a,b){b=b||{};if("object"!==typeof a)return b.reason="Parameter 1 is not an object",!1;if("object"===typeof a.nodabaConfig)return!0;var c=a.madabaDomains;if(!c)return b.reason="Expecting config.madabaDomains to be defined",!1;if(!Array.isArray(c))return b.reason="Expecting config.madabaDomains to be an array of strings",!1;for(var d=0,e=c.length;d<e;d++)if("string"!==typeof c[d])return b.reason="Expecting config.madabaDomains["+d+"] to be a string",!1;if(a=a.proxyPrefixes){if(!Array.isArray(a))return b.reason=
"Expecting config.proxyPrefixes to be an array of strings",!1;d=0;for(e=a.length;d<e;d++)if("string"!==typeof a[d])return b.reason="Expecting config.proxyPrefixes["+d+"] to be a string",!1}return!0};e.prototype.AM=function(a){if(this.ir(a)){this.aa.Yl();this.cp=a;var b=this;this.qu(a).then(function(){b.dv();b.jv()})}};e.prototype.dv=function(){var a=this.cp.accessKey;a&&this.aa.$e(a)};e.prototype.jv=function(){this.si(this.cp.tileGroup||0)};e.prototype.rb=function(a){var b={};if(!this.ir(a,b))return q.reject(b.reason);
this.cp=a;f.Zg();b=this.qu(a).then(this.dv.bind(this)).then(function(){this.aa.Ja("invalid-access-key",function(){this.K("invalid-access-key")},this)}.bind(this)).then(this.lB.bind(this)).then(this.SB.bind(this)).then(function(){"boolean"!==typeof a.animate||a.animate||this.W.Nh()}.bind(this)).then(this.YB.bind(this));return b=b.then(function(){this.ps(G.DH,G.Hg,G.Gg);this.Tf(G.Fq);this.Fk(G.Cq,G.Gq);this.jv()}.bind(this)).then(function(){this.bp=!1;f.yi();return this}.bind(this))};e.prototype.Mu=
function(a){this.K("fallback",a)};e.prototype.rp=function(a){if(this.yh[0]!==a[0]||this.yh[1]!==a[1])(this.Dj*a[0]>this.pf[0]||this.Dj*a[1]>this.pf[1])&&this.Mu("MAX_RESOLUTION_REACHED"),t.resize(this.D,a[0],a[1],this.Dj),this.yh=L.g.clone(a),this.ea.hc()};e.prototype.MJ=function(a){if("object"===typeof a)for(var b in this.Ro)a[b]=this.Ro[b];return this.bp};e.prototype.eM=function(){switch(this.me){case v.Fd.hg:case v.Fd.Qi:return!0;default:return!1}};e.prototype.av=function(a){for(var b=this.ea.Nm(),
c=0,d=b.length;c<d;c++){var e=b[c];if(e&&e.er())return a["map-layer-loading"]=e.type(),!0}a["map-layer-loading"]="none";return!1};e.prototype.kA=function(a){var b={};!a.sy(b)||f.xk(b)||this.oa.ho(b)||this.Ob.ho(b)||this.W.Mw(b)||this.av(b)||this.ad.Ee().xk()||this.ea.oy(b)?(this.bp=!1,this.Ro=b):(this.bp=!0,this.Ro=b,this.K("fully-rendered",b))};e.prototype.UD=function(a,b){a.BM(this.ip,b);0===a.rr()&&0===a.ko()||this.Nq();this.ip.sy()||this.ea.hc();this.ip=a.clone()};e.prototype.update=function(a,
b,c,d){var e=Date.now();this.rp(b);this.UD(a,b);f.ih.update();this.W.update(e);this.ad.update(a,b);this.Fb.update(a);this.Ia.update(a);c="boolean"===typeof c?c:!0;this.oa.update(a,b,c,"boolean"===typeof d?d:!0);this.Ob.update(a,b,c,!1);this.ea.update(a,b);V.Vv();f.update(e);this.kA(a)};e.prototype.cf=function(){return R.Ge(this.ad.Ee().cf())};e.prototype.mA=function(){var a={};return!f.xk(a)&&!this.oa.ho(a)&&!this.Ob.ho(a)&&!this.W.Mw(a)&&!this.av(a)};e.prototype.ap=function(){this.oa.Gn();this.Ob.Gn();
this.mA()&&this.K("fully-loaded")};e.prototype.sD=function(){var a=new q(function(a){f.Ja("loop",this.ap,this);this.once("fully-loaded",function(){q.timeout(0).then(function(){f.ua("loop",this.ap,this);a()}.bind(this))},this)}.bind(this)),b=this.Yw().catch(function(a){this.ua("fully-loaded",null,this);f.ua("loop",this.ap,this);return q.reject(a)}.bind(this));return q.all([a,b])};e.prototype.cB=function(){this.ne||(this.ne=new n,this.ne.x=.5,this.ne.y=.5,this.ne.width=3,this.ne.height=1,this.ne.dy(),
this.ne.ky(),this.ne.gy(n.al.zo));this.oa.Qf(this.ne)};e.prototype.iB=function(){this.oa.Zf(this.ne)};e.prototype.rB=function(a,b,c,d){this.Fb.update(a);this.Ia.update(a);this.oa.we();this.Ob.we();this.oa.update(a,b,c,d);this.Ob.update(a,b,c,!1);return q.all([this.oa.Rs(),this.Ob.Rs()])};e.prototype.Bx=function(a,b,c,d){this.cB();return this.sD().then(function(){return this.rB(a,b,c,d)}.bind(this))};e.prototype.kl=function(a){this.iB();f.clear();this.ad.Ee().reset();this.oa.Gn();this.Ob.Gn();V.Vv();
f.clear();a&&this.W.Ph(Date.now());f.yi();this.oa.count();this.Ob.count();return q.resolve()};e.prototype.Zr=function(a,b,c,d,e,h,g,k,l,m){m=m||1;this.rp(c);this.Xg(d,m);d=new I(a);b=new F(b,g);b.reset(c,d,h||a.z);k="boolean"===typeof k?k:!0;l="boolean"===typeof l?l:!0;var n=this.W.Ke;this.W.Nh();f.Zg();return this.Xz(d,b,c,e,k,l).catch(function(a){var b={cs:a};b.renderingFailure=b.cs;return this.kl(n).catch(function(a){b.tq=a;b.cleanupFailure=b.tq}).then(function(){return q.reject(b)})}.bind(this)).then(function(a){return this.kl(n).catch(function(b){a.tq=
b;a.cleanupFailure=a.tq}).then(function(){return a})}.bind(this))};e.prototype.Xz=function(a,b,c,d,e,h){this.Og=Date.now();this.Fb.update(b);this.Ia.update(b);var g=a.Kb,k=G.gH;a=[];for(var l,m=1<<g.z,n=g.x-k,p=g.x+k;n<=p;n++)for(var r=n,B=g.y-k,t=g.y+k;B<=t;B++)0>B||B>=m||(l=new x(r,B,g.z,0),a.push(l.lx()));g=0;for(k=a.length;g<k;g++)l=a[g],l=new I(l),this.ad.Ee().LJ(l);return this.Bx(b,c,e,h).then(function(){this.Vg=Date.now();d&&d.bind();this.ea.update(b,c);d&&d.m();f.clear();return q.resolve({Og:this.Og,
Vg:this.Vg,bs:Date.now()})}.bind(this))};e.prototype.Jx=function(a,b,c,d){var e=this;this.Og=Date.now();c.map(function(a){e.oa.Qf(a)});f.Zg();this.rp(b);this.ad.update(a,b);this.Fb.update(a);this.Ia.update(a);return this.Bx(a,b,!0,!0).then(function(){this.Vg=Date.now();d&&d.bind();e.ea.update(a,b);d&&d.m();c.forEach(function(a){e.oa.Zf(a)});e.kl();var f={};f={Og:this.Og,Vg:this.Vg,bs:Date.now()};f={loadingStartTime:f.Og,renderingStartTime:f.Vg,renderingEndTime:f.bs};return q.resolve(f)}.bind(this)).catch(function(a){e.kl();
return q.reject(a)})};e.prototype.Yw=function(){var a=this.ad.Ee().cf();a=R.Ge(a);return q.all(a.map(function(a){return a.G()}))};e.prototype.ns=function(a){f.Zg();return q.all([this.oa.Ce(a),this.Ob.Ce(a)]).then(f.yi)};e.prototype.yj=function(){var a=this.W.Ke;this.W.Nh();this.ea.Ul();var b=this;this.ad.Ee().once("tile-created",function(){f.ih.fa(function(){b.ea.Ql()})});this.ad.Ee().reset();this.Nq();a&&this.W.Ph(Date.now())};e.prototype.Tf=function(a){return this.Wo=this.Wo.then(function(){var b=
a||G.Fq,c=this.wa().filter(this.ea.wJ,this.ea),d=c.map(function(a){return this.W.Vd(a,G.Ls)},this);return q.all(d).then(function(){this.ea.Tf(b);this.yj()}.bind(this)).then(function(){var a=c.map(function(a){return this.W.show(a,G.Cn)},this);return q.all(a)}.bind(this))}.bind(this)).catch(function(a){console.log(a)})};e.prototype.Fk=function(a,b){a=a||G.Cq;b=b||G.Gq;this.ea.Fk(a,b);this.yj()};e.prototype.ri=function(a){this.me!==a&&(this.me=a,this.ea.ri(this.me))};e.prototype.cy=function(a,b){return this.rn({mode:a,
usePOI:b})};e.prototype.rn=function(a){if("poiFilter"in a){var b=a.poiFilter;b&&Array.isArray(b.includes)&&0===b.includes.length?(a.usePOI=!1,b=null):(a.usePOI=!0,b&&Array.isArray(b.excludes)&&0===b.excludes.length&&(b=null));this.oa.hL(b)}return this.Mo=this.Mo.then(function(){var b=!1,c=this.yg;"tint"in a&&(c=a.tint,b=this.yg!==c);var d=!1,e=this.sg;"emphasis"in a&&(e=a.emphasis,d=this.sg!==e);b=b||d;var f=G.Ls;d=this.wa();var h=d.map(function(a){return a.type}),g="mode"in a?a.mode:this.Ut,k="usePOI"in
a?a.usePOI:this.Vt,l=v.Ex(this.me,g,!k),m=l.wa,n=l.style;l=n!==this.lp;!l||"standard"!==n&&"standard"!==this.lp||(f=0);this.Vt=k;this.Ut=g;g=[];var p=[],r=[];k=0;for(var B=m.length;k<B;k++){var x=m[k];-1===h.indexOf(x)&&p.push(x)}k=0;for(B=d.length;k<B;k++)h=d[k],-1===m.indexOf(h.type)?g.push(h):(b||l&&this.ea.xJ(h))&&r.push(h);var t=this;b=g.map(function(a){return t.W.Vd(a,f).then(function(){return t.ea.hn(a)})});d=r.map(function(a){return t.W.Vd(a,f)});m=[];m.push.apply(m,d);m.push.apply(m,b);return q.all(m).then(function(){return t.ps(n,
c,e)}).then(function(){r.forEach(function(a){t.W.show(a,f)});return q.all(p.map(function(a){return t.ea.Eh(a).then(function(a){t.W.yf(a);t.W.show(a,f)})}))}).then(function(){return t})}.bind(this))};e.prototype.wa=function(){return this.ea.wa.apply(this.ea,arguments)};e.prototype.Eh=function(){var a=this;return this.ea.Eh.apply(this.ea,arguments).then(function(b){a.W.yf(b);a.W.show(b,G.Cn);a.K("layer-added",b);return b})};e.prototype.hn=function(){var a=this;return this.ea.hn.apply(this.ea,arguments).then(function(b){a.K("layer-removed",
b);return b})};e.prototype.insertBefore=function(){var a=this;return this.ea.insertBefore.apply(this.ea,arguments).then(function(b){a.K("layer-added",b);return b})};e.prototype.ar=function(){var a=this;return this.ea.ar.apply(this.ea,arguments).then(function(b){a.K("layer-added",b)})};e.prototype.info=function(){var a={KJ:this.pl?this.pl.bi:"N/A (JSON requested)",fM:B};a.madabaProtoVersion=a.KJ;a.syrupProtoVersion=a.fM;this.xa&&(a.uk=this.xa.uk,a.Te=this.xa.Te,a.madabaVersion=a.uk,a.defaultTileGroupIdentifier=
a.Te);return a};e.prototype.Gw=function(){return this.Ia};e.prototype.Ph=function(){this.W.Ph(Date.now())};e.prototype.Nh=function(){this.W.Nh()};e.prototype.pa=function(){t.ua("context-lost",null,this);this.Rl.pa();this.mr.pa();t.pa(this.D)};S.ba(e.prototype);e.prototype.init=e.prototype.rb;e.prototype.destroy=e.prototype.pa;e.prototype.isValidNetworkConfiguration=e.prototype.ir;e.prototype.updateNetworkConfiguration=e.prototype.AM;e.prototype.map=e.prototype.map;e.prototype.gl=e.prototype.h;e.prototype.element=
e.prototype.element;e.prototype.resourceManager=e.prototype.be;e.prototype.tiles=e.prototype.cf;e.prototype.setPixelRatio=e.prototype.Gk;e.prototype.setSurfaceProperties=e.prototype.Xg;e.prototype.devicePixelRatio=e.prototype.devicePixelRatio;e.prototype.msaaFactor=e.prototype.hx;e.prototype.setMapViewOptions=e.prototype.ps;e.prototype.tileSetStyle=e.prototype.Wc;e.prototype.tileGroup=e.prototype.Jb;e.prototype.setTileGroup=e.prototype.si;e.prototype.setLanguage=e.prototype.Tf;e.prototype.setLocationInfo=
e.prototype.Fk;e.prototype.setDeterministicCollisions=e.prototype.ns;e.prototype.setDisplayOptions=e.prototype.rn;e.prototype.setRenderingMode=e.prototype.ri;e.prototype.forceRerender=e.prototype.Nq;e.prototype.renderTile=e.prototype.Zr;e.prototype.renderSnapshot=e.prototype.Jx;e.prototype.mapFullyRendered=e.prototype.MJ;e.prototype.supportsNonIntegralZoomLevels=e.prototype.eM;e.prototype.loadingDependencies=e.prototype.Yw;e.prototype.update=e.prototype.update;e.prototype.setMapMode=e.prototype.cy;
e.prototype.layers=e.prototype.wa;e.prototype.addLayer=e.prototype.Eh;e.prototype.removeLayer=e.prototype.hn;e.prototype.insertBefore=e.prototype.insertBefore;e.prototype.insertAfter=e.prototype.ar;e.testRendering=e.Pk;h.ba(e);return e});u(192,0,function(){function e(e){this.aa=e}var g=l(92),r=l(97);e.Ve=function(e){var g=e.pd,k=e.ax,l=e.Wv,c=e.scale,b=e.lq;e=e.jr;var a={mn:"arrow",pd:g,ax:k,Wv:l,scale:c,lq:b,jr:e,vc:0},d="arrow?";g&&(a.pd=g,d+="subtype="+encodeURIComponent(g));d+="&maneuverType="+
k+"&drivingSide="+l+"&scale="+c;b&&(a.lq=b,d+="&arrowFill="+b);e&&(a.jr=e,d+="&junctionFill="+e);return{url:d,data:a}};e.prototype.mm=function(e,l){var k=this.aa;if(k.has(e))return k.get(e);var m=k.get(e,g.kg,l,g.oh);r.ba(m).Xd().once("released",function(){m.fr()&&m.abort("loading-aborted");g.remove(e)});return m.Cg()};e.prototype.fetch=function(g){g=e.Ve(g);return this.mm(g.url,g.data)};return e});u(193,0,function(){function e(e){this.h=e;this.Eb=e.createRenderbuffer();this.Xd();this.once("released",
this.pa,this)}var g=l(97);e.prototype.bind=function(){var e=this.h;e.bindRenderbuffer(e.RENDERBUFFER,this.Eb);return this};e.prototype.m=function(){var e=this.h;e.bindRenderbuffer(e.RENDERBUFFER,null);return this};e.prototype.TG=function(e,g){var l=this.h;l.renderbufferStorage(l.RENDERBUFFER,l.RGBA4,e,g);return this};e.prototype.UG=function(e,g){var l=this.h;l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,e,g);return this};e.prototype.yv=function(e,g){var l=this.h;l.renderbufferStorage(l.RENDERBUFFER,
l.STENCIL_INDEX8,e,g);return this};e.prototype.Cb=function(){return this.Eb};e.prototype.pa=function(){this.h.deleteRenderbuffer(this.Eb);this.Eb=null};g.ba(e.prototype);e.prototype.bind=e.prototype.bind;e.prototype.unbind=e.prototype.m;e.prototype.glObject=e.prototype.Cb;e.prototype.destroy=e.prototype.pa;e.prototype.asColor=e.prototype.TG;e.prototype.asDepth=e.prototype.UG;e.prototype.asStencil=e.prototype.yv;return e});u(194,0,function(){var e=l(80),g=l(30),r=l(189),q=l(185),p=l(92),k=l(21),m=
l(192),c=l(156),b=l(99),a=l(3),d=l(5),h=l(13),f=l(10),n=l(0),t=l(86),u=l(102),v=l(105),F=l(103),z=l(193),L=l(90),H=l(11),I={to:400,lt:500,tt:503,rt:504};return function(l){function x(a){return"standard"===a?n.yr:"satellite"===a?n.xr:"hybrid"===a?Math.min(n.yr,n.xr):0}function A(a){return"standard"===a?n.Cr:"satellite"===a?n.Br:"hybrid"===a?Math.max(n.Cr,n.Br):0}function S(a){return a&&"object"===typeof a&&2===a.length&&"number"===typeof a[0]&&"number"===typeof a[1]}function V(a){return void 0===a||
"string"===typeof a&&2===a.length}function w(a){return H.reject({code:I.to,reason:"Invalid request parameter: "+a})}function O(){return H.reject({code:I.tt,reason:"Service unavailable"})}function y(){this.Ua=new r;this.$c=0}l.dg=function(a,b){return b?void 0!==a&&"string"===typeof a&&0!==a.length&&a.match(/^[a-zA-Z-]+$/):void 0===a||"string"===typeof a&&0!==a.length&&a.match(/^[a-zA-Z-]+$/)};l.dg.reject=w("'language' must be a valid language string or undefined");l.validLanguage=l.dg;l.Ni=function(a,
b,c){return Number.isInteger(a)&&Number.isInteger(b)&&Number.isInteger(c)};l.Ni.reject=w("'x', 'y', 'z' are not valid numbers");l.validXYZ=l.Ni;l.Xc=function(a){return 1===a||2===a||3===a};l.Xc.reject=w("'scale' is not a number or should be 1, 2 or 3");l.validScale=l.Xc;l.eg=function(a,b){return b?void 0!==a&&Number.isInteger(a)&&0<=a:void 0===a||Number.isInteger(a)&&0<=a};l.eg.reject=w("'tileGroup' should be a positive integer or undefined");l.validTileGroup=l.eg;l.Wn=function(a){return Number.isInteger(a)};
l.Wn.reject=w("'tileSetStyle' is not a number");l.validTileSetStyle=l.Wn;l.Vn=function(a){return 46===a||0===a};l.Vn.reject=w("'style' is not a number with value '0' (standard) or '46' (hybrid)");l.validStyle=l.Vn;l.Ii=function(a){return 1===a||6===a||7===a};l.Ii.reject=w("'style' is not a number with value '1' (standard), '6' (hybrid) or '7' (satellite)");l.validIconStyle=l.Ii;l.Xn=function(a){return 0===a||1===a||2===a};l.Xn.reject=w("'size' is not a number or should be 0, 1 or 2");l.validTileSize=
l.Xn;l.cg=function(a){return void 0===a||Number.isInteger(a)&&-4<=a&&4>=a};l.cg.reject=w("'size' is not a number or should be in the [-4, 4] range");l.validIconSize=l.cg;l.bg=function(a){return Number.isInteger(a)};l.bg.reject=w("'id' is not a number");l.validID=l.bg;l.Yn=function(a){return"string"===typeof a&&("standard"===a||"road"===a||"poi"===a||"building"===a)};l.Yn.reject=w("'type' is not a number with value 'standard', 'road', 'poi' or 'building'");l.validVTileType=l.Yn;l.Gi=function(a){return V(a)};
l.Gi.reject=w("'countryCode' must be a string of 2 chars");l.validCountryCode=l.Gi;l.Ki=function(a){return V(a)};l.Ki.reject=w("'regionCode' must be a string of 2 chars");l.validRegionCode=l.Ki;l.Rn=function(a){return"boolean"===typeof a};l.Rn.reject=w("'labels' is not a boolean");l.validLabels=l.Rn;l.Mi=function(a){return"boolean"===typeof a};l.Mi.reject=w("'usePOI' is not a boolean");l.validUsePOI=l.Mi;l.Li=function(a){return"string"===typeof a&&("dark"===a||"light"===a)};l.Li.reject=w("'tint' is not a string with value 'dark' or 'light'");
l.validTint=l.Li;l.Hi=function(a){return"string"===typeof a&&("standard"===a||"muted"===a)};l.Hi.reject=w("'emphasis' is not a string with value 'standard' or 'muted'");l.validEmphasis=l.Hi;l.Tn=function(a){return void 0===a||"transit"===a||"road"===a};l.Tn.reject=w("'subtype' should be undefined, 'transit' or 'road'");l.validShieldSubtype=l.Tn;l.Pn=function(a){return"poi"===a||"named"===a||"transit"===a};l.Pn.reject=w("'subtype' should be undefined, 'poi', 'named' or 'transit'");l.validIconSubtype=
l.Pn;l.On=function(a){return"string"===typeof a&&0<a.length};l.On.reject=w("'name' should be a non-empty string");l.validIconName=l.On;l.ag=function(a){return void 0===a||"string"===typeof a&&6===a.length&&a.match(/[0-9A-Fa-f]{6}$/)};l.ag.reject=w("'color' should be undefined or 6 Hexadecimal digits string");l.validColor=l.ag;l.Zn=function(a){return void 0===a||"string"===typeof a&&a.length};l.Zn.reject=w("'vendorKey' should be undefined or a string");l.validVendorKey=l.Zn;l.Mn=function(a){return"string"===
typeof a};l.Mn.reject=w("'attributes' should be a string");l.validAttributes=l.Mn;l.ao=function(a){return void 0===a||Number.isInteger(a)&&0<=a&&21>=a};l.ao.reject=w("'zoom' should be undefined or a number in the range [0, 21]");l.validZoom=l.ao;l.Nn=function(a){return S(a)&&0<=a[0]&&1>=a[0]&&0<=a[1]&&1>=a[1]};l.Nn.reject=w("'center' should be an array of 2 numbers");l.validCenter=l.Nn;l.$n=function(a){return S(a)&&a[0]>=n.Rm&&a[0]<=n.Pm&&a[1]>=n.Rm&&a[1]<=n.Pm};l.$n.reject=w("'viewport' should be an array of 2 numbers in the range ["+
n.Rm+", "+n.Pm+"]");l.validViewport=l.$n;var C=["standard","hybrid","satellite"];l.Sn=function(a){return-1!==C.indexOf(a)};l.Sn.reject=w("'mapMode' should have one of the following values: 'standard', 'hybrid', 'satellite'");l.validMapMode=l.Sn;l.Un=function(a,b){return"number"!==typeof b?!1:b>=A(a)&&b<=x(a)};l.Un.reject=function(a){return w("'z' for "+a+" mode should be number in the range ["+A(a)+", "+x(a)+"]")};l.validSnapshotZoom=l.Un;l.Iy=function(a){return"object"===typeof a&&"number"===typeof a.x&&
"number"===typeof a.y&&"number"===typeof a.width&&0<a.width&&"number"===typeof a.height&&0<a.height&&"number"===typeof a.xOffset&&"number"===typeof a.yOffset};l.validLabelRegion=l.Iy;l.Qn=function(a){return Array.isArray(a)?a.filter(l.Iy).length===a.length:!1};l.Qn.reject=w("'labelRegions' parameter is not an array or labelRegion description is invalid");l.validLabelRegions=l.Qn;y.prototype.pa=function(){switch(this.$c){case 0:return H.reject("Cannot destroy an uninitialized service");case 1:return H.reject("Cannot destroy an initializing service");
case 3:return H.reject("Cannot destroy an already destroyed service")}this.$c=3;return H.timeout(0).then(function(){this.Ua.pa()}.bind(this))};y.prototype.tn=function(a){this.Ua.tn(a)};y.prototype.lC=function(a){return H.resolve(a)};y.prototype.NB=function(){var a=this.Ua.h(),c=u.hb.kb(a,"shaders/texture-saver.vert","shaders/texture-saver.frag");a=b.Vh(a);return H.all([c,a]).then(function(){}.bind(this))};y.prototype.ZB=function(a){if(2===this.$c)return H.reject("Service already initialized");if(1===
this.$c)return H.reject("Service already initializing");this.$c=1;a.Nx&&this.Ua.be().iy(a.Nx);var b=this;return this.lC(a).then(function(){return b.Ua.rb(a)}).then(function(){return b.Ua.ns(!0)}).then(function(){return b.NB()}).then(function(){b.Ia=b.Ua.Gw();b.ED=["transit","road"];b.gO=b.ED.map(function(a){return"'"+a+"'"}).join(", ");b.bv=d.Ge(b.Ua.xa.Fe);b.LD=b.bv.map(function(a){return"'"+a+"'"}).join(", ");return b}).then(function(){b.$c=2;return b}).then(function(){var a=b.Ua.be();b.fA=new m(a);
b.zp=new c(a)})};y.prototype.Me=function(a){L.Zg();a=a.catch(function(a){if("object"===typeof a){if(a.code===p.TIMEOUT)return H.reject({code:I.rt,reason:"resource timeout: "+a.MK});if(a.code===I.to)return H.reject(a)}return H.reject({code:I.lt,reason:a})});a.catch(function(){}).then(L.yi);return a};y.prototype.rb=function(a){var b=null,c=["vectorOrigins"];c.push("madabaDomains");for(var d=0,e=c.length;d<e;d++){var f=c[d],h=a[f];if("undefined"!==typeof h){b=0;for(c=h.length;b<c;b++)if("string"!==typeof h[b])return H.reject("configuration."+
f+"["+b+"] is not a string");b={animate:!1};var g;f=h.map(function(a){a=a.split("//");g=a[0];return a[1]});f={satellite:{tileSources:[{name:"satellite",protocol:g,domains:f,path:"/md/v1/stile?x={{x}}&y={{y}}&z={{z}}&v={{v}}"}]}};b.madabaDomains=h;b.rasterTiles=f;break}}if(!b)return H.reject("'madabaDomains' or 'nodabaConfig' not provided for Service initialization.");if(a=a.requestTimeout){if("number"!==typeof a||0>=a)return H.reject("'requestTimeout' parameter should be a positive number");b.Nx=
a}L.Zg();var k=this;return this.ZB(b).then(function(){L.yi();return k})};y.prototype.AC=function(b){var c=this.Ua,d=b.language,e=b.ve,f=b.Be,g=b.Jb,l=b.tm,m={mode:b.vk,usePOI:b.Hn,tint:b.ub,emphasis:b.qb},n=b.nM,p=a.g.j(n,n),q=new k(b.key.x,b.key.y,b.key.z),r=b.scale;b=1*r*n;var t=h.Fd.hg;l||(t=h.Fd.Qi);c.ri(t);c.si(g);c.Tf(d);c.Fk(e,f);return this.Du(function(a){return c.rn(m).then(function(){return c.Zr(q,n,p,r,a,q.z,null,!0,!0,1)})},b,b)};y.prototype.zC=function(a){var b=this.Ua,c=a.language,d=
a.scale,e=a.viewport,g=1*d*e[0],k=1*d*e[1],l={mode:a.vk,usePOI:a.Hn,tint:a.ub,emphasis:a.qb},m=a.Oc.map(function(a){var b=new f;b.x=a.x;b.y=a.y;b.width=a.width;b.height=a.height;b.xOffset=a.FM;b.yOffset=a.GM;return b}),n=a.Jb,p=new q(a.width/a.height);p.rs([a.Aa[0],1-a.Aa[1],0]);p.ts(a.z);p.update(e);b.ri(h.Fd.Co);b.Xg(d,1);b.Tf(c);b.si(n);return this.Du(function(a){return b.rn(l).then(function(){return b.Jx(p,e,m,a)})},g,k)};y.prototype.Du=function(a,b,c){var d=b/1;var e=c/1;var f=this.Ua.h(),h=
new v(f,b,c);h.bind().data(null,f.RGBA,f.RGBA).Rc(f.LINEAR).Pc(f.LINEAR).m();var g=new z(f);g.bind().yv(b,c);var k=new F(f);k.bind().Vj(h.Cb()).vy(g.Cb()).m();g.m();k.Hv();a=a(k).then(function(a){var b=f.Uj&&f.Uj();if(b)return H.reject({pR:!0,error:b});f.flush();k.bind();b=new Uint8Array(d*e*4);f.readPixels(0,0,d,e,f.RGBA,f.UNSIGNED_BYTE,b);k.m();b={data:b,width:d,height:e};b.times={renderingStartTime:a.Vg,loadingStartTime:a.Og,renderingEndTime:a.bs};return b}.bind(this)).catch(function(a){return"object"===
typeof a&&a.cs?H.reject(a.cs):H.reject(a)});a.then(function(){k.pa();h.pa();g.pa()});return a};y.prototype.xa=function(){if(2!==this.$c)return O();var a=this.Ua.be();return this.Me(this.Ua.xa.fetch(a))};y.prototype.DM=function(a){if(2!==this.$c)return O();if("object"!==typeof a)return w("parameter 0 is not an object");var b=a.x,c=a.y,d=a.z;if(!l.Ni(b,c,d))return l.Ni.reject;var e=a.language;if(!l.dg(e,!1))return l.dg.reject;var f=a.scale;if(!l.Xc(f))return l.Xc.reject;var h=a.tileGroup;if(!l.eg(h,
!1))return l.eg.reject;var g=a.tileSetStyle;if(!l.Wn(g))return l.Wn.reject;if(-1===this.bv.indexOf(g))return w("'tileSetStyle' should have on of the following value "+this.LD);var m=a.type;if(!l.Yn(m))return l.Yn.reject;var n=a.countryCode;a=a.regionCode;if(!l.Gi(n))return l.Gi.reject;if(!l.Ki(a))return l.Ki.reject;b={key:new k(b,c,d),scale:f,Wc:g,Jb:h||this.Ua.xa.Te,language:e,ve:n,Be:a};return this.Me(this.Ua.Ew.fetch(b,m))};y.prototype.na=function(a){if(2!==this.$c)return O();if("object"!==typeof a)return w("parameter 0 is not an object");
var b=a.x,c=a.y,d=a.z;if(!l.Ni(b,c,d))return l.Ni.reject;var e=a.scale;if(!l.Xc(e))return l.Xc.reject;var f=a.size;if(!l.Xn(f))return l.Xn.reject;f=128*Math.pow(2,f);var h=a.tileGroup;if(!l.eg(h,!1))return l.eg.reject;var g=a.style;if(!l.Vn(g))return l.Vn.reject;var m=a.labels;if(!l.Rn(m))return l.Rn.reject;var n=a.usePOI;if(!l.Mi(n))return l.Mi.reject;if(!m&&n)return w("incompatible 'labels === false' with 'usePOI === true'");var p=a.tint;if(!l.Li(p))return l.Li.reject;var q=a.emphasis;if(!l.Hi(q))return l.Hi.reject;
var r=a.language;if(!l.dg(r,!1))return l.dg.reject;var t=a.countryCode;a=a.regionCode;if(!l.Gi(t))return l.Gi.reject;if(!l.Ki(a))return l.Ki.reject;var u="";switch(g){case 0:u="standard";break;case 46:u="hybrid"}b={key:new k(b,c,d),vk:u,nM:f,Hn:n,tm:m,ub:p,qb:q,scale:e,Jb:h||this.Ua.xa.Te,language:r,ve:t,Be:a};return this.Me(this.AC(b))};y.prototype.nL=function(a){if(2!==this.$c)return O();var b=a.center;if(!l.Nn(b))return l.Nn.reject;var c=a.labelRegions;if(!l.Qn(c))return l.Qn.reject;c=c.map(function(a){return{x:a.x,
y:a.y,width:a.width,height:a.height,FM:a.xOffset,GM:a.yOffset}});var d=a.language;if(!l.dg(d,!0))return l.dg.reject;var e=a.usePOI;if(!l.Mi(e))return l.Mi.reject;var f=a.scale;if(!l.Xc(f))return l.Xc.reject;var h=a.mapMode;if(!l.Sn(h))return l.Sn.reject;var g=a.viewport;if(!l.$n(g))return l.$n.reject;var k=a.z;if(!l.Un(h,k))return l.Un.reject(h);var m=a.tint;if(!l.Li(m))return l.Li.reject;var n=a.emphasis;if(!l.Hi(n))return l.Hi.reject;a=a.tileGroup;return l.eg(a,!0)?this.Me(this.zC({Aa:b,Oc:c,language:d,
Hn:e,scale:f,vk:h,viewport:g,z:k,ub:m,qb:n,Jb:a||this.Ua.xa.Te})):l.eg.reject};y.prototype.lL=function(a){if(2!==this.$c)return O();if("object"!==typeof a)return w("parameter 0 is not an object");var b=a.text;if("string"!==typeof b)return w("'text' is not a string");var c=a.id;if(!l.bg(c))return l.bg.reject;var d=a.size;if(!l.cg(d))return l.cg.reject;var e=a.scale;if(!l.Xc(e))return l.Xc.reject;var f=a.subtype;if(!l.Tn(f))return l.Tn.reject;var h=a.color;if(!l.ag(h))return l.ag.reject;a=a.vendorKey;
if(!l.Zn(a))return l.Zn.reject;var g=this.zp.fetch({text:b,id:c,scale:e,color:h,pd:f,Ky:a,size:d,Ym:"00000000",variant:0});g.nd();g.then(function(){g.release()});return this.Me(g)};y.prototype.BC=function(a,b){var c=a.style;if(!l.Ii(c))return l.Ii.reject;var d=a.zoom;if(!l.ao(d))return l.ao.reject;var e=a.attributes;if(!l.Mn(e))return l.Mn.reject;a=a.size;if(!l.cg(a))return l.cg.reject;b={style:c,scale:b,ub:n.Hg,qb:n.Gg,pd:"poi",zoom:d,attributes:e,vc:0};a&&(b.size=a);return this.Me(this.Ia.fetch(b))};
y.prototype.rC=function(a,b){a=a.name;return l.On(a)?this.Me(this.Ia.fetch({scale:b,ub:n.Hg,qb:n.Gg,pd:"named",name:a,vc:0})):l.On.reject};y.prototype.PD=function(a,b){var c=a.cartoId;if("number"!==typeof c||!Number.isInteger(c))return w("'cartoId' should be a number");var d=a.transitType;if("number"!==typeof d||!Number.isInteger(d))return w("'transitType' should be a number");var e=a.style;if(!l.Ii(e))return l.Ii.reject;a=a.size;return l.cg(a)?this.Me(this.Ia.fetch({style:e,scale:b,ub:n.Hg,qb:n.Gg,
size:a,pd:"transit",Gv:c,Dy:d,vc:0})):l.cg.reject};y.prototype.icon=function(a){if(2!==this.$c)return O();if("object"!==typeof a)return w("parameter 0 is not an object");var b=a.subtype;if(!l.Pn(b))return l.Pn.reject;var c=a.scale;return l.Xc(c)?"poi"===b?this.BC(a,c):"named"===b?this.rC(a,c):this.PD(a,c):l.Xc.reject};y.prototype.SG=function(a){if(2!==this.$c)return O();if("object"!==typeof a)return w("parameter 0 is not an object");var b=a.subtype||"maneuver",c=a.maneuverType;if(!l.bg(c))return l.bg.reject;
var d=a.drivingSide;if(!l.bg(d))return l.bg.reject;var e=a.scale;if(!l.Xc(e))return l.Xc.reject;var f=a.arrowFill;if(!l.ag(f))return l.ag.reject;a=a.junctionFill;if(!l.ag(a))return l.ag.reject;var h=this.fA.fetch({pd:b,ax:c,Wv:d,scale:e,lq:f,jr:a});h.nd();h.then(function(){h.release()});return this.Me(h)};l.Gs=L.Zg;l.Hs=L.yi;l.startDispatchQueueLoop=l.Gs;l.stopDispatchQueueLoop=l.Hs;y.prototype.destroy=y.prototype.pa;y.prototype.init=y.prototype.rb;y.prototype.manifest=y.prototype.xa;y.prototype.vtile=
y.prototype.DM;y.prototype.tile=y.prototype.na;y.prototype.shield=y.prototype.lL;y.prototype.icon=y.prototype.icon;y.prototype.arrow=y.prototype.SG;y.prototype.setLogger=y.prototype.tn;y.prototype.snapshot=y.prototype.nL;l.ZI=function(){return new y};l.info=Object.freeze({name:"Syrup",version:e,decoderVersion:g});l.info=l.info;l.getService=l.ZI;l.LogLevels=t;l.ServiceErrors=I;l.ServiceErrors.INVALID_PARAMETER=I.to;l.ServiceErrors.INTERNAL_ERROR=I.lt;l.ServiceErrors.SERVICE_UNINITIALIZED=I.tt;l.ServiceErrors.RESOURCE_TIMEOUT=
I.rt;l.Constants={defaultTint:n.Hg,defaultEmphasis:n.Gg,minStandardSnapshotZ:n.Cr,maxStandardSnapshotZ:n.yr,minSatelliteSnapshotZ:n.Br,maxSatelliteSnapshotZ:n.xr,minSnapshotSize:n.Rm,maxSnapshotSize:n.Pm}}});u(195,0,function(){return function(e){e.Map=l(184);e.s=l(101);e.Promise=l(11);e.dl=l(189);e.Ez=l(92);e.zt=l(3);e.az=l(89);e.Qz=l(95);e.dz=l(103);e.ez=l(193);e.gz=l(105);e.cz=l(98);e.fz=l(102);e.hz=l(99);e.$s=l(185);e.Pz=l(178);e.Lz=l(130);e.hf=l(21);e.iz=l(151);e.nz=l(13);e.mz=l(180);e.Kz=l(179);
e.Sz=l(183);e.Rz=l(36);e.Yy=l(90);e.jz=l(5);e.sz=l(9);e.rz=l(86);e.Map=e.Map;e.Manifest=e.s;e.SyrupRenderer=e.dl;e.ResourceManager=e.Ez;e.XMath=e.zt;e.FileAdapters=e.az;e.WebGLContext=e.Qz;e.GLFramebuffer=e.dz;e.GLRenderbuffer=e.ez;e.GLTexture=e.gz;e.GLBuffer=e.cz;e.GLSL=e.fz;e.Geometries=e.hz;e.Camera=e.$s;e.ViewFactory=e.Pz;e.TileSelector=e.Lz;e.TileKey=e.hf;e.HeaderAdapters=e.iz;e.LayerTypes=e.nz;e.LabelManager=e.mz;e.StyleManager=e.Kz;e.WorkerHub=e.Sz;e.WorkerFactory=e.Rz;e.DispatchQueue=e.Yy;
e.Helpers=e.jz;e.Messager=e.sz;e.LogLevels=e.rz;var g=e.Constants||{},r=l(0);g.minTileSize=r.Cd;g.maxTileSize=r.zr;g.baseTileSize=r.Tl;Object.freeze(g);e.Constants=g}});u(198,0,function(){l(5).bL();var e={},g=l(11);e.Promise=g;e.Version=l(80);l(194)(e);l(195)(e);return e});u(199,0,function(){function e(e){var g=e[this.key]>=this.threshold;return{Mr:g,message:g?"":"must be greater than/equal to "+this.threshold+". Value: "+e[this.key]}}function g(e){e.EXTENSIONS=e.EXTENSIONS.sort(function(a,b){return a.localeCompare(b)});
e.standardDerivatives=-1!==e.EXTENSIONS.indexOf("OES_standard_derivatives");for(var g=!0,l={},c=0;c<q.length;c++){var b=q[c],a=b.lc.call(b,e);a.Mr||(l[b.key]=a.message,g=!1)}g?e.status=r.tc:e.failures=l;return e}var r=l(77),q=[{key:"combinedTextureImageUnit",lc:function(e){var g=e[this.key]>this.threshold;return{Mr:g,message:g?"":"must be greater than "+this.threshold+". Value: "+e[this.key]}},threshold:4},{key:"maxFragmentUniformVectors",lc:e,threshold:64},{key:"maxRenderBufferSize",lc:e,threshold:4096},
{key:"maxTextureImageUnits",lc:e,threshold:8},{key:"maxTextureSize",lc:e,threshold:4096},{key:"maxVaryingVectors",lc:e,threshold:8},{key:"maxVertexAttribs",lc:e,threshold:8},{key:"maxVertexTextureUnits",lc:e,threshold:4},{key:"maxVertexUniformVectors",lc:e,threshold:24},{key:"maxWidth",lc:e,threshold:4096},{key:"maxHeight",lc:e,threshold:4096},{key:"depthBits",lc:e,threshold:16},{key:"glslVersion",lc:e,threshold:1},{key:"fragmentHighfPrecisionFormat",lc:e,threshold:23},{key:"vertexHighfPrecisionFormat",
lc:e,threshold:23},{key:"standardDerivatives",lc:function(e){e=e[this.key];return{Mr:e,message:e?"":"does not exist."}}}];return{YK:function(){var e={status:r.bc},k=document.createElement("canvas").getContext("webgl");e.gl=null!=k;e.webglContext=k;if(!e.gl)return e;e.combinedTextureImageUnit=k.getParameter(k.MAX_COMBINED_TEXTURE_IMAGE_UNITS);e.maxFragmentUniformVectors=k.getParameter(k.MAX_FRAGMENT_UNIFORM_VECTORS);e.maxRenderBufferSize=k.getParameter(k.MAX_RENDERBUFFER_SIZE);e.maxTextureImageUnits=
k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS);e.maxTextureSize=k.getParameter(k.MAX_TEXTURE_SIZE);e.maxVaryingVectors=k.getParameter(k.MAX_VARYING_VECTORS);e.maxVertexAttribs=k.getParameter(k.MAX_VERTEX_ATTRIBS);e.maxVertexTextureUnits=k.getParameter(k.MAX_VERTEX_TEXTURE_IMAGE_UNITS);e.maxVertexUniformVectors=k.getParameter(k.MAX_VERTEX_UNIFORM_VECTORS);var l=k.getParameter(k.MAX_VIEWPORT_DIMS);e.maxWidth=l[0];e.maxHeight=l[1];e.depthBits=k.getParameter(k.DEPTH_BITS);l=k.getParameter(k.SHADING_LANGUAGE_VERSION).replace("WebGL GLSL ES ",
"");e.glslVersion=parseFloat(l);l=k.getShaderPrecisionFormat(k.FRAGMENT_SHADER,k.HIGH_FLOAT);e.fragmentHighfPrecisionFormat=l.precision;l=k.getShaderPrecisionFormat(k.VERTEX_SHADER,k.HIGH_FLOAT);e.vertexHighfPrecisionFormat=l.precision;e.ALIASED_LINE_WIDTH_RANGE=k.getParameter(k.ALIASED_LINE_WIDTH_RANGE);e.COMPRESSED_TEXTURE_FORMATS=k.getParameter(k.COMPRESSED_TEXTURE_FORMATS);e.MAX_CUBE_MAP_TEXTURE_SIZE=k.getParameter(k.MAX_CUBE_MAP_TEXTURE_SIZE);e.RENDERER=k.getParameter(k.RENDERER);e.VENDOR=k.getParameter(k.VENDOR);
e.VERSION=k.getParameter(k.VERSION);e.EXTENSIONS=k.getSupportedExtensions()||[];return g(e)},AS:g}});u(200,0,function(){var e=l(78).WI();"undefined"!==typeof STATIC_RESOURCES_ORIGIN_OVERRIDE&&(e=STATIC_RESOURCES_ORIGIN_OVERRIDE);var g=l(92),r=l(89);return{preload:function(l){var p=l.be();l=new r.rd({origin:e});p.Wg("spile.map",l);return p.get("spile.map",g.JSON).then(function(g){p.Yl();p.Wg(/.*/,new r.fe(e,g))})},En:function(e){e=e.be();e.Yl();e.reset()}}});u(201,0,function(){return{DK:function(e){return"tile?x="+
e.x+"&y="+e.y+"&z="+e.z+"&style=0&type=standard&scale=1&size=1&lang=en&poi=1"},vk:"standard",Hn:!0,lM:1*l(0).Cd,language:"en"}});u(202,0,function(){var e=l(21);e=[{key:new e(653,1581,12),ci:17.67},{key:new e(654,1581,12),ci:20},{key:new e(653,1582,12),ci:17.02},{key:new e(654,1582,12),ci:20.27}];Object.freeze(e);return e});u(203,0,function(){function e(a,c,h,f){if(0===c.length)return p.resolve(h);var d=c.pop();return g(a,d.key,f).then(function(a){h.push({data:a.tx,width:b,height:b,key:d.key,ci:d.ci,
ln:a.ln,Lm:a.Lm});return p.timeout(0)}).then(function(){return e(a,c,h,f)})}function g(a,d,e){var f=c.g.j(b,b);return a.Zr(d,b,f,1,e,d.z,null,!0,!0).then(function(c){var d=a.h();d.flush();e.bind();var f=new Uint8Array(b*b*4);d.readPixels(0,0,b,b,d.RGBA,d.UNSIGNED_BYTE,f);e.m();d=Math.floor(b/2);for(var g=4*b,h=new Uint8Array(b*b*4),k=0;k<d;k++)for(var l=0;l<g;l++){var m=k*g+l,n=(b-k-1)*g+l;h[m]=f[n];h[n]=f[m]}return{tx:h,ln:c.renderingEndTime-c.renderingStartTime,Lm:c.renderingStartTime-c.loadingStartTime}})}
var r=l(202),q=l(201),p=l(11),k=l(103),m=l(105),c=l(3),b=q.lM;return function(a){var c=a.h(),g=new k(c),f=new m(c,b,b);f.bind().data(null,c.RGBA,c.RGBA).Rc(c.LINEAR).Pc(c.LINEAR).m();g.bind().Vj(f.Cb()).m();return e(a,r.slice(),[],g)}});u(204,0,function(){var e=l(201),g=e.vk,r=e.language;return{rb:function(e,l){return e.rb(l).then(function(){return e.ns(!0)}).then(function(){return e.cy(g,!0)}).then(function(){e.Tf(r);return e})}}});u(205,[],function(){return function(e,g){if(e.width!==e.width||g.height!==
g.height)return null;var l=e.width,q=e.height;e=e.data;g=g.data;var p=l*q*4;l={width:l,height:q,data:new Uint8Array(p)};for(var k=q=0;k<p;k+=4){var m=Math.abs(.2126*e[k+0]+.7152*e[k+1]+.0722*e[k+2]-(.2126*g[k+0]+.7152*g[k+1]+.0722*g[k+2]));l.data[k+0]=m;l.data[k+1]=m;l.data[k+2]=m;l.data[k+3]=255;q+=m}l.qM=Math.round(q/10)/100;return l}});u(206,0,function(){function e(a,b,e){return a.get(c.DK(e),r.kg).then(g).then(function(a){var c=d(b,a),f=c.qM;var g=c.width;var h=c.height,k=c.data;c=document.createElement("canvas");
c.width=g;c.height=h;var l=c.getContext("2d");g=new ImageData(Uint8ClampedArray.from(k),g,h);l.putImageData(g,0,0);g=c.toDataURL();a={totalGrayDiff:f,renderedTile:b,expectedTile:a,tileDiff:g};a.key=e.id;return a})}function g(a){var b=document.createElement("canvas"),c=a.width,d=a.height;b.width=c;b.height=d;b=b.getContext("2d");b.drawImage(a,0,0);return b.getImageData(0,0,c,d)}var r=l(92),q=l(189),p=l(198),k=l(11),m=l(200),c=l(201),b=l(203),a=l(204),d=l(205),h=l(77),f=l(32);return function(d){var g=
{status:h.Ie,pass:!1,tileResults:null,syrupRenderer:null};f.JH();p.Gs();var l={animate:!1,madabaDomains:[""]},n=new q;return m.preload(n).then(function(){return a.rb(n,l)}).then(function(){g.webglContext=n.h();n.Tf(c.language);return b(n).then(function(a){for(var b=n.be(),c=[],d=0;d<a.length;d++){var f=a[d];c.push(e(b,f,f.key))}return k.all(c).then(function(b){g.tileResults=b;for(var c=0,d=0,e=!0,f=0;f<b.length;f++)b[f].renderTime=a[f].ln,b[f].loadTime=a[f].Lm,b[f].maxGrayDiff=a[f].ci,b[f].fidelityPass=
b[f].totalGrayDiff<=b[f].maxGrayDiff,b[f].fidelityPass||(e=!1),1<=f&&(c+=a[f].ln,d+=a[f].Lm);g.averageRenderTime=c/(b.length-1);g.averageLoadTime=d/(b.length-1);g.renderTimePass=30>=g.averageRenderTime;g.fidelityPass=e;g.pass=g.fidelityPass;g.pass?(g.status=h.tc,g.syrupRenderer=n):g.status=h.bc})}).catch(function(a){g.reason=a;return g}).then(function(){m.En(n);p.Hs();n.pa();return g})}).catch(function(a){m.En(n);g.reason=a;return g}).then(function(a){f.GH();d(a)})}});u(207,0,function(){function e(){h=
l(198);b=l(199);d=l(206);a=h.dl}function g(){this.result={status:r.ff,version:k};this.result["basic-tests"]={status:r.ff};this.result["webgl-capabilities"]={status:r.ff,failures:{}};this.result["async-fidelity"]={status:r.ff,gl:null};this.result["sync-fidelity"]={status:r.ff};this.runAdvancedTests=null;this.result["user-agent"]=navigator&&navigator.userAgent;this.result.host=document.location.host;this.result.pathname=document.location.pathname;this.result=this.result}var r=l(77),q=l(81),p=l(83),
k=l(82),m=l(84),c=l(85),b,a,d;g.yo=!1;g.ro=!0;g.prototype.qD=function(){this.result["basic-tests"].status=r.bc;var a=m.fa();this.result["basic-tests"]=a;return a.status===r.tc};g.prototype.Yz=function(){this.result.status=r.bc;if(!this.qD()&&g.yo)return q.Dk(this.result),this.result;e();this.result["webgl-capabilities"].status=r.bc;var d=b.YK();this.result["webgl-capabilities"]=d;this.result.hash=c.CI(d.webglContext);if(g.yo&&d.status!==r.tc)return this.result.status=r.bc,q.Dk(this.result),this.result;
delete this.runAdvancedTests;this.result.status=r.Ie;if(d=p.uw(this.result.hash))this.result.status=d.status,this.result.status===r.tc&&(this.SyrupRenderer=a);return this.result};g.prototype.Tx=function(){if(g.ro)return this.result.status=r.bc,this.result;try{return this.Yz()}catch(f){return this.result.status=r.bc,this.result["webgl-capabilities"].failures["loading-failure"]=f,this.result.hash="simple-test-exception",p.uw(this.result.hash)||(p.Ly(this.result),q.Dk(this.result)),this.result}};g.prototype.WK=
function(b){if(g.ro)this.result.status=r.bc,b(this.result);else{var c=a.Pk();this.result["sync-fidelity"].pass=c.iK;this.result["sync-fidelity"].times=c.uS;this.result["sync-fidelity"].status=c.iK?r.tc:r.bc;this.result["sync-fidelity"].lineStatus=r.ff;this.result["sync-fidelity"].labelStatus=r.ff;c.lineHasRun&&(this.result["sync-fidelity"].lineStatus=c.linePass?r.tc:r.bc);c.labelHasRun&&(this.result["sync-fidelity"].labelStatus=c.labelPass?r.tc:r.bc);c.failures.length&&(this.result["sync-fidelity"].failures=
c.failures);d(function(c){this.result["async-fidelity"]=c;var d=this.result["sync-fidelity"];this.result.status=c.pass&&d.pass?r.tc:d.pass&&c.status===r.Ie?r.Ie:r.bc;g.yo||(this.result.status=this.result["basic-tests"].status===r.tc&&this.result["webgl-capabilities"].status===r.tc&&this.result["sync-fidelity"].status===r.tc?this.result["async-fidelity"].status===r.Ie?r.Ie:this.result["async-fidelity"].status:r.bc);q.Dk(this.result);this.result.status!==r.Ie&&(this.result.status===r.tc&&(this.dl=a),
p.Ly(this.result));"function"===typeof b&&b(this.result)}.bind(this))}};g.XK=function(a){a=a||function(){};if(g.ro)g.Pk(a);else{var b=new g;b.Tx();b.result.status===r.Ie?b.runAdvancedTests(a):"function"===typeof a&&a(b.result)}};g.Jz=r;g.Syrup={version:k.syrup};try{var h=l(198);g.Syrup.Camera=h.$s;g.Syrup.XMath=h.zt}catch(f){}g.VI=function(){return h.dl};g.Pk=function(a){function b(){c.result.status=c.result["async-fidelity"].status;q.Dk(c.result);var b=c.result["async-fidelity"].webglContext;b&&
(c.result["gpu-identifier"]={VERSION:b.getParameter(b.VERSION)},delete c.result["async-fidelity"].webglContext);a(c.result)}a=a||function(){};var c=new g;try{e(),d(function(a){c.result["async-fidelity"]=a;b()})}catch(A){c.result["async-fidelity"].reason=A,b()}};g.version=k.spile;g.prototype.runSimpleTests=g.prototype.Tx;g.prototype.runAdvancedTests=g.prototype.WK;g.Status=g.Jz;g.version=g.version;g.testRendering=g.Pk;g.runAnalytics=g.XK;g.getRendererWithoutAnyWarranty=g.VI;return g});return l(207)}
"undefined"!==typeof define?define(W):"undefined"!==typeof module?module.exports=W():window.Spile=W();
