!function(t,e){t.elevationProfileSvg=e.apply(null)}(this,function(){"use strict";function t(t){var e=p.maxElevation-p.minElevation||1,n=(t-p.minElevation)/e,r=e<p.minInterval?e/p.minInterval:1;return p.height-n*r*(p.height-2*h)-h}function e(t){return p.accumDistances[t]*p.width/p.accumDistances[p.accumDistances.length-1]}function n(t){var e=document.createElementNS(v,"svg");return e.setAttribute("id",t),e.setAttribute("viewBox","0 0 "+p.width+" "+p.height),e}function r(t,e,n,r){var i=document.createElementNS(v,"polyline");r?i.setAttribute("fill","url(#elevGradient)"):i.setAttribute("fill-opacity",0),i.setAttribute("stroke",e),i.setAttribute("stroke-width",n);var o=u().map(function(e){return e[0]+","+(parseFloat(e[1])+t)}).reduce(function(t,e){return t+e+" "},"");return i.setAttribute("points",o),i}function i(){var t=document.createElementNS(v,"defs"),e=document.createElementNS(v,"linearGradient");e.id="elevGradient",e.setAttribute("x1",0),e.setAttribute("y1",0),e.setAttribute("x2",0),e.setAttribute("y2",.9);var n=document.createElementNS(v,"stop");n.setAttribute("offset",0),n.setAttribute("stop-color",p.gradientColorTop);var r=document.createElementNS(v,"stop");return r.setAttribute("offset",1),r.setAttribute("stop-color",p.gradientColorBottom),e.appendChild(n),e.appendChild(r),t.appendChild(e),t}function o(t){return null!=t&&t>=p.minElevation&&t<=p.maxElevation}function a(t){var e=p.elevations[t];return t<=p.elevations.length&&!o(e)&&(e=o(p.elevations[t-1])?p.elevations[t-1]:o(p.elevations[t+1])?p.elevations[t+1]:a(t+1)),e}function l(){for(var t=0;t<p.elevations.length;++t)p.elevations[t]=a(t)}function u(){for(var n=new Array([-99999,p.height]),r=0;r<p.elevations.length;++r)n.push([e(r),t(p.elevations[r])]);return n.push([p.width+99999,p.height]),n}function s(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function c(t){var e=document.getElementById(t.id);null!=e?p.el.replaceChild(t,e):p.el.appendChild(t)}function d(){var t=document.createElementNS(v,"circle");return t.setAttribute("id","position-dot"),t.setAttribute("r","5"),t.setAttribute("fill","#008fe8"),t.setAttribute("stroke","white"),t.setAttribute("stroke-width","2"),t.setAttribute("cx","0"),t.setAttribute("cy","75"),t}var v="http://www.w3.org/2000/svg",h=8,p={strokeColor:"#f5a000",strokeWidth:2,gradientColorTop:"#E99200",gradientColorBottom:"#447E27",svgId:"elevation-profile-svg",minElevation:0,maxElevation:0,minInterval:50};return{render:function(t){p=s(p,t),l();var e=n(p.svgId);e.appendChild(i()),e.appendChild(r(0,p.strokeColor,p.strokeWidth,!0));var o=n("elevation-profile-dot");o.appendChild(d()),c(e),c(o)},getPolylineCoords:u}});